(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,i){t.exports=i("zUnb")},RnhZ:function(t,e,i){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-ps":"TJgH","./ar-ps.js":"TJgH","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku-kmr":"dVgr","./ku-kmr.js":"dVgr","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function o(t){var e=r(t);return i(e)}function r(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="RnhZ"},zUnb:function(t,e,i){"use strict";i.r(e);var n=i("TYT/"),o=i("mrSG"),r=i("E1rE"),a=i("DUip"),s=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"onboarding",component:i("9ZmN").a,outlet:"overlay"},{path:"license",redirectTo:"/dashboard(overlay:activation)"}],c=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[a.h.forRoot(s)],a.h]}),t}(),l=i("n9mk"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e}(i("H//F").a),b=i("9QiQ"),p=i("+z37"),u=i("QOQs"),g=i("0ug6"),f=i("Rl7x"),h=function(){function t(t,e,i,o){this.config=t,this.router=e,this.marketingService=i,this.navigationService=o,this.onInit=new n.n;var r=Object(l.b)("totalrating.navigations.items",[{name:"Dashboard",icon:"dashboard",route:"dashboard"},{name:"Widgets",icon:"stars",route:"widgets"},{name:"Templates",icon:"style",route:"modules/template"},{name:"Extensions",icon:"extension",route:"modules/extension"},{name:"Options",icon:"settings",route:"options"},{name:"Support",icon:"headset",route:[{outlets:{overlay:["support"]}}]}]);this.navigationService.push(r)}return t.prototype.ngAfterViewInit=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return this.onInit.emit(),[2]}))}))},Object.defineProperty(t.prototype,"navigationMenu",{get:function(){return this.navigationService.items},enumerable:!0,configurable:!0}),t.prototype.onKeydownHandler=function(t){this.router.navigate([{outlets:{overlay:"support"}}]),t.preventDefault()},t.prototype.onCreateNew=function(t){this.router.navigate([{outlets:{overlay:"wizard"}}]),t.preventDefault()},t.prototype.onEscape=function(t){this.router.navigate([{outlets:{overlay:null}}],{queryParamsHandling:"preserve"}),t.preventDefault()},t.\u0275fac=function(e){return new(e||t)(n.Mb(d),n.Mb(a.d),n.Mb(b.a),n.Mb(p.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["totalrating-root"]],hostVars:2,hostBindings:function(t,e){1&t&&n.ac("keydown.f1",(function(t){return e.onKeydownHandler(t)}),!1,n.sc)("keydown.f2",(function(t){return e.onCreateNew(t)}),!1,n.sc)("keydown.escape",(function(t){return e.onEscape(t)}),!1,n.sc),2&t&&n.Eb("app-container",!0)},outputs:{onInit:"onInit"},decls:6,vars:0,consts:[["slot","main"],["name","overlay"]],template:function(t,e){1&t&&(n.Sb(0,"wrapper-layout"),n.Qb(1,0),n.Nb(2,"status-center"),n.Nb(3,"router-outlet"),n.Nb(4,"router-outlet",1),n.Nb(5,"upgrade-modal"),n.Pb(),n.Rb())},directives:[u.a,g.a,a.i,f.a],styles:['@import url("https://fonts.googleapis.com/icon?family=Material+Icons");activity-feed-card,blog-feed-card,dashboard-page,insights-card,main-tabs,quick-start-card,upgrade-to-pro-card{display:block}*{box-sizing:border-box}body,html{height:calc(100vh - 32px)}#wpbody,#wpwrap{height:100%}#wpcontent{margin-left:0;padding-left:0}#wpbody-content{height:100%;float:none;padding-bottom:0;background:#fafafa}.app-container,wrapper-layout{height:100%;background:#eee;font-size:14px}.update-nag{display:none}.notice{display:none!important}::-webkit-scrollbar{width:8px}::-webkit-scrollbar,::-webkit-scrollbar-track{background-color:transparent}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.1)}:hover::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2)}::-webkit-scrollbar-button{display:none}[contenteditable]:empty:before{content:attr(placeholder);-webkit-text-security:none;color:#757575;pointer-events:none!important;text-overflow:inherit;line-height:normal;white-space:pre;overflow-wrap:normal;-webkit-user-modify:read-only!important;overflow:hidden}[contenteditable]:focus{outline:0}[contenteditable]:focus-visible{outline:1px dotted #212121;outline:5px auto -webkit-focus-ring-color}hr{border:0;border-bottom:1px solid #e7e7e7;margin:24px auto}img.-fluid{max-width:100%}.chip{font-size:12px;line-height:1;padding:4px;background:#eee;border-radius:4px}.chip.-pill{border-radius:12px;padding:2px 8px}.chip.-primary{background:#0288d1;color:#fff}.chip.-highlight{background:#4ac6c6;color:#fff}.message{padding:12px;background:#f9f9f9;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.06);border:1px solid #eee}.message.-small{padding:8px;font-size:13px}.message.-info{background:#f2faff;border-color:#d3efff;color:#01466c}.message.-success{background:#fff;border-color:#e5f7f7;color:#298181}.message.-attention{background:#fdeae4;border-color:#fce3db;color:#99300c}.empty-state{min-height:300px}.empty-state>.icon{font-size:64px;margin-bottom:12px}.empty-state>.title{font-weight:400}.empty-state>.description{color:#919191}.loading-state{height:100%;min-height:300px}.loading-state>.icon,.loading-state>.loading-indicator{font-size:64px;margin-bottom:12px}.loading-state>.title{font-weight:400}.loading-state>.description{color:#919191;margin:0}@keyframes status-bar-appearance{0%{transform:translateY(-100%)}15%{transform:translateY(0)}80%{transform:translateY(0)}to{transform:translateY(-100%)}}@keyframes status-bar-progress{0%{width:0}to{width:100%}}.status-bar{position:fixed;top:0;right:0;left:0;z-index:999999}.status-bar>.content{padding:0 12px;background:#444;color:#fff;height:32px;animation:status-bar-appearance 3s ease-in forwards}.status-bar>.content:before{content:"";width:50%;height:100%;background:hsla(0,0%,100%,.1);position:absolute;left:0;top:0;bottom:0;animation:status-bar-progress 1.7s ease-in forwards}.status-bar>.content.is-success{background:#35a8a8;color:#fff}.status-bar>.content.is-error{background:#c93e0f;color:#fff}.status-modal{position:fixed;z-index:9999999999;display:flex;flex-direction:column;align-items:center;justify-content:center}.status-modal,.status-modal>.backdrop{top:0;right:0;bottom:0;left:0;width:100%;height:100%}.status-modal>.backdrop{position:absolute;background:rgba(0,0,0,.75)}.status-modal>.body{position:relative;max-width:450px;width:100%;border-radius:4px;box-shadow:0 4px 24px rgba(0,0,0,.2);overflow:hidden;background:#fff;color:#444}.status-modal>.body>.content{padding:24px;white-space:pre}.status-modal>.body>.actions{background:#f9f9f9;padding:24px;text-align:right}.code-sample{padding:24px;background:#f9f9f9;font-family:monospace;line-height:1.5;margin:12px 0}.code-sample.-alt{background:#fff;border:1px solid #e7e7e7;border-radius:8px}[data-tooltip]{position:relative}[data-tooltip]:focus:before,[data-tooltip]:hover:before{position:absolute;bottom:calc(100% + 4px);left:50%;transform:translateX(-50%);content:attr(data-tooltip);font-family:sans-serif;background:#444;color:#fff;font-size:12px;white-space:nowrap;line-height:1;padding:4px;border-radius:2px;pointer-events:none}[data-tooltip][data-tooltip-left]:focus:before,[data-tooltip][data-tooltip-left]:hover:before{top:50%;bottom:auto;right:100%;left:auto;transform:translateX(0) translateY(-50%)}[data-tooltip][data-tooltip-right]:focus:before,[data-tooltip][data-tooltip-right]:hover:before{top:50%;bottom:auto;left:100%;right:auto;transform:translateX(0) translateY(-50%)}[data-tooltip][data-tooltip-bottom]:focus:before,[data-tooltip][data-tooltip-bottom]:hover:before{top:calc(100% + 4px);bottom:auto;left:50%;transform:translateX(-50%)}[data-mirror]{transform:scaleX(-1)}h1,h2,h3,h4,h5,h6{line-height:1.35;font-weight:400}h1{font-size:36px;line-height:36px}h2{font-size:32px}h3{font-size:24px}h4{font-size:18px}h5{font-size:16px}h6{font-size:14px}.label{padding-bottom:12px;margin:0}.label>.chip{margin-left:8px}.input,.multiple-input{background:#fff;border-radius:4px;border:1px solid #c1c1c1;padding:8px;height:36px;color:#444;transition:all .15s ease-in,height 0ms ease-in;box-shadow:0 1px 1px rgba(0,0,0,.06);-webkit-appearance:none;outline:none;width:100%}.input:hover,.multiple-input:hover{border-color:#a7a7a7}.input:focus,.input:focus-within,.multiple-input:focus,.multiple-input:focus-within{border-color:#0288d1}.input::-moz-placeholder,.multiple-input::-moz-placeholder{color:#a7a7a7}.input::placeholder,.multiple-input::placeholder{color:#a7a7a7}.-left-attach.multiple-input,.input.-left-attach{border-top-right-radius:0;border-bottom-right-radius:0}.-right-attach.multiple-input,.input.-right-attach{border-top-left-radius:0;border-bottom-left-radius:0}.-middle-attach.multiple-input,.input.-middle-attach{border-radius:0}.-pill.multiple-input,.input.-pill{border-radius:36px}.-transparent.multiple-input,.input.-transparent{border:0;box-shadow:none;background-color:transparent;padding:0}.-small.multiple-input,.input.-small{height:32px}textarea.input,textarea.multiple-input{height:auto}select.input,select.multiple-input{padding-right:28px;background-image:linear-gradient(45deg,transparent 50%,#a7a7a7 0),linear-gradient(135deg,#a7a7a7 50%,transparent 0);background-position:calc(100% - 15px) calc(1em + 1px),calc(100% - 10px) calc(1em + 1px);background-size:5px 5px,5px 5px;background-repeat:no-repeat;transition:all .15s ease-in,background-color 0ms linear,background-position 0ms linear}select.input:focus,select.multiple-input:focus{background-image:linear-gradient(45deg,#0288d1 50%,transparent 0),linear-gradient(135deg,transparent 50%,#0288d1 0);background-position:calc(100% - 10px) 1em,calc(100% - 15px) 1em;background-size:5px 5px,5px 5px;background-repeat:no-repeat}select.-small.multiple-input,select.input.-small{padding-top:0;padding-bottom:0}.input-with-action{display:flex;align-items:center}.switch{position:relative;width:32px;height:16px;-webkit-appearance:none;outline:none;cursor:pointer}.switch:before{top:0;left:0;height:16px;width:32px;border-radius:16px;border:1px solid #5e5e5e;box-shadow:inset 0 2px 0 rgba(0,0,0,.05)}.switch:after,.switch:before{content:"";position:absolute;transition:all .15s ease-in}.switch:after{top:4px;left:4px;height:8px;width:8px;border-radius:50%;background:#777}.switch:hover:after{background:#2b2b2b}.switch:checked:before{border-color:#0288d1;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06)}.switch:checked:after{background:#0288d1;left:20px}.checkbox{display:inline-flex;align-items:center;cursor:pointer}.checkbox>input[type=checkbox],.checkbox>input[type=radio]{position:relative;width:16px;height:16px;-webkit-appearance:none;outline:none;cursor:pointer;margin-right:8px;margin-top:1px}.checkbox>input[type=checkbox]:before,.checkbox>input[type=radio]:before{content:"";position:absolute;top:0;left:0;height:16px;width:16px;border-radius:4px;border:1px solid #5e5e5e;box-shadow:0 1px 1px rgba(0,0,0,.06);transition:all .15s ease-in}.checkbox>input[type=checkbox]:after,.checkbox>input[type=radio]:after{display:none;content:"done";font-family:Material Icons;font-size:12px;position:absolute;text-align:center;line-height:16px;height:16px;width:16px;margin:auto;border-radius:50%;color:#fff;transition:all .15s ease-in}.checkbox>input[type=checkbox]:checked:before,.checkbox>input[type=radio]:checked:before{border-color:#0288d1;background:#0288d1}.checkbox>input[type=checkbox]:checked:after,.checkbox>input[type=radio]:checked:after{display:block}.checkbox>input[type=radio]:before{border-radius:50%}.checkbox>.label,.checkbox>span{line-height:1;padding:0}.checkbox+.checkbox{margin-left:12px}.form-group{display:block;vertical-align:middle}.form-group+.form-group,.form-group.-last{padding-top:24px}.form-group.-compact{padding-top:12px}.form-group.-last{padding-bottom:0}.form-group.-large{padding-bottom:36px}.form-group.-large>.label,.form-group>.label.-large{font-size:18px;padding-bottom:24px}.form-group.-large>.input,.form-group.-large>.multiple-input,.form-group>.-large.multiple-input,.form-group>.input.-large{padding:12px;height:48px}.form-group.-inline{display:inline-flex;align-items:center;padding:0 12px}.form-group.-inline:last-child{padding-right:0}.form-group.-inline>.label{padding:0 12px;white-space:nowrap}.feature-switch{margin-bottom:24px;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px;transition:all .15s ease-in}.feature-switch.is-last{margin-bottom:0}.feature-switch>.toggle{align-items:center;padding:24px;margin:0;background:#f4f4f4;border-radius:4px;cursor:pointer}.feature-switch>.toggle,.feature-switch>.toggle>.body>.description,.feature-switch>.toggle>.body>.title,.feature-switch>.toggle>.icon{transition:all .15s ease-in}.feature-switch>.toggle>.icon{margin-right:24px;font-size:36px}.feature-switch>.toggle>.body{padding-right:24px}.feature-switch>.toggle>.body>.title{margin:0;line-height:1;padding-bottom:4px;font-weight:400}.feature-switch>.toggle>.body>.description{margin:0;color:#919191}.feature-switch>.toggle>.switch{margin-left:auto}.feature-switch>.options{max-height:0;overflow:hidden;transition:all .45s linear}.feature-switch>.options>.wrapper{padding:24px;border:1px solid #0288d1;background:#f9f9f9;transition:all .45s linear;border-radius:0 0 4px 4px}.feature-switch.is-on{box-shadow:0 2px 4px rgba(0,0,0,.1)}.feature-switch.is-on.has-options>.toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.feature-switch.is-on>.toggle{background:#0288d1}.feature-switch.is-on>.toggle>.body>.title,.feature-switch.is-on>.toggle>.icon{color:#fff}.feature-switch.is-on>.toggle>.body>.description{color:#d3efff}.feature-switch.is-on.has-options>.options{max-height:100%}.labeled-switch{display:inline-flex;align-items:center;margin:0;transition:all .15s ease-in}.labeled-switch>.label{margin:0;padding:0 0 0 12px;transition:all .15s ease-in}.labeled-switch input:checked+.label{color:#0288d1}.multiple-input{position:relative;display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;height:auto;min-height:36px;padding:4px}.multiple-input .input,.multiple-input .multiple-input{flex-grow:1;width:0;padding:4px 2px;min-width:70px;height:auto}.multiple-input .value{display:inline-flex;align-items:center;line-height:1;margin:2px;border-radius:2px;background:#eee}.multiple-input .value .text{font-size:12px;padding:4px;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multiple-input .value .remove{width:12px;height:12px;font-size:10px;margin:4px}.multiple-input .suggestions{position:absolute;top:100%;left:0;overflow-y:auto;display:none;flex-direction:row;flex-wrap:wrap;padding:4px;background:#fff;border:1px solid #c1c1c1;border-top:0;border-radius:0 0 4px 4px;box-shadow:0 1px 1px rgba(0,0,0,.06)}.multiple-input .suggestions>.suggestion{background:#eee;border:1px solid #e7e7e7;padding:4px;margin:4px;line-height:1}.multiple-input .suggestions>.suggestion:not([disabled]):focus,.multiple-input .suggestions>.suggestion:not([disabled]):hover{background:#0288d1;color:#fff}.multiple-input:focus-within .suggestions{display:flex;z-index:9}.color-picker{position:relative}.color-picker>.base{position:relative;flex-shrink:0;height:48px;border-radius:4px 4px 0 0;box-shadow:0 1px 1px rgba(0,0,0,.06)}.color-picker>.base>.icon{opacity:0;transition:all .15s ease-in;text-shadow:0 1px 1px rgba(0,0,0,.06)}.color-picker>.base input{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.color-picker>.base:hover .icon{opacity:1}.color-picker>.input,.color-picker>.multiple-input{border-radius:0 0 4px 4px;text-align:center}.color-picker>.name{position:absolute;font-size:8px;top:-5px;right:2px;background:#fff;line-height:1;text-transform:uppercase;color:#c1c1c1}.range{-webkit-appearance:none;width:100%;background:#f2f2f2;height:8px;border-radius:4px}.range:focus{border:none;outline:none}.range::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;background:#0288d1;cursor:pointer;border-radius:50%;-webkit-transition:all .2s;transition:all .2s;box-shadow:0 0 0 4px transparent}.range::-webkit-slider-thumb:hover{box-shadow:0 0 0 4px rgba(2,136,209,.1);transform:scale(1.25)}.range::-moz-range-thumb{width:14px;height:14px;background:#0288d1;cursor:pointer;border-radius:50%;-moz-transition:all .2s;transition:all .2s;box-shadow:0 0 0 4px transparent}.range::-moz-range-thumb:hover{box-shadow:0 0 0 4px rgba(2,136,209,.1);transform:scale(1.25)}.button{display:inline-flex;align-items:center;justify-content:center;background:#eee;border-radius:4px;border:1px solid transparent;padding:0 12px;height:36px;color:#444;transition:all .15s ease-in,outline 0ms ease;box-shadow:0 1px 1px rgba(0,0,0,.06);-webkit-appearance:none;vertical-align:middle}.button[disabled]{opacity:.75;cursor:not-allowed;filter:grayscale()}.button>.icon{font-size:16px}.button>.icon:first-child{margin-right:8px}.button>.icon:last-child{margin-left:8px}.button>.icon:first-child:last-child{margin:0}.button.is-active,.button:focus,.button:hover{background:#0288d1;color:#fff;text-decoration:none}.button.-icon{flex-shrink:0;border-radius:50%;width:36px;font-size:18px;padding:0;text-align:center}.button.-compact{padding:0;width:auto}.button.-wide{width:100%}.button.-plain{background:transparent;padding:0;box-shadow:none;font-size:18px;color:#777;border-radius:50%}.button.-plain.is-active,.button.-plain:focus,.button.-plain:hover{color:#444;background:#f9f9f9}.button.-icon.-plain{width:32px;height:32px}.button.-pill{border-radius:20px}.button.-outline{background:transparent;border-color:#aaa;color:#777}.button.-outline.is-active,.button.-outline:focus,.button.-outline:hover{background:#fbfbfb;border-color:#777;color:#444}.button.-alt{background:#fbfbfb;border-color:#aaa;color:#777}.button.-alt.is-active,.button.-alt:focus,.button.-alt:hover{background:#fff;border-color:#777;color:#444}.button.-small{height:auto;line-height:1;padding:8px;font-size:12px}.button.-left-attach{border-top-right-radius:0;border-bottom-right-radius:0;border-right:0}.button.-right-attach{border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.button+.button{margin-left:8px}.button.-transparent{background:transparent;box-shadow:none}.button.-transparent.is-active,.button.-transparent:focus,.button.-transparent:hover{color:#0288d1;text-decoration:none;box-shadow:none}.button.-primary{background:#0288d1;color:#fff}.button.-primary.is-active,.button.-primary:focus,.button.-primary:hover{background:#02679e;color:#fff}.button.-primary.-outline{background:transparent;border-color:#0288d1;color:#0288d1}.button.-primary.-outline.is-active,.button.-primary.-outline:focus,.button.-primary.-outline:hover{background:#f2faff;border-color:#02679e;color:#02679e}.button.-primary.-alt{background:#fff;border-color:#fff;color:#0288d1}.button.-primary.-alt.is-active,.button.-primary.-alt:focus,.button.-primary.-alt:hover{background:#f2faff;border-color:#fff;color:#02679e}.button.-attention{background:#ee521d;color:#fff}.button.-attention.is-active,.button.-attention:focus,.button.-attention:hover{background:#c93e0f}.button.-attention.-outline{background:transparent;border-color:#ee521d;color:#ee521d}.button.-attention.-outline.is-active,.button.-attention.-outline:focus,.button.-attention.-outline:hover{background:#fdeae4;border-color:#c93e0f;color:#c93e0f}.button.-white{background:#fff;color:#444}.button.-white.is-active,.button.-white:focus,.button.-white:hover{background:#f9f9f9}.button.-white.-outline{background:transparent;border-color:#fbfbfb;color:#fbfbfb}.button.-white.-outline.is-active,.button.-white.-outline:focus,.button.-white.-outline:hover{background:#f9f9f9;border-color:#f9f9f9;color:#0288d1}.button.-preset{width:100%;min-width:80px;height:90px;color:#5e5e5e;border:1px dashed #a7a7a7;background:transparent}.button.-preset>.icon{margin:0 0 12px;font-size:32px}.button.-preset>.name{line-height:1}.button.-preset:focus,.button.-preset:hover{background:#fbfbfb;border-style:solid}.button.-preset.is-active{background:#f2faff;color:#0288d1;border-style:solid;border-color:#0288d1}.button.-preset.-primary.is-active{background:#0288d1;color:#fff}.button.-palette{position:relative;width:100%;color:#5e5e5e;height:auto;padding:24px;background:transparent;border:1px solid #c1c1c1}.button.-palette>.palette{padding:0 8px 16px}.button.-palette>.palette span{width:20px;height:20px;border-radius:50%;margin:0 4px}.button.-palette>.name{line-height:1}.button.-palette.is-active,.button.-palette:focus,.button.-palette:hover{background:#f2faff;color:#444;border-color:#0288d1}.button.-palette.is-active:after{position:absolute;top:-12px;right:-12px;background:#0288d1;color:#fff;width:24px;height:24px;line-height:20px;font-size:12px;border:2px solid #fff;border-radius:50%;content:"done";font-family:Material Icons}.button.-palette.-dark{background:#444;color:#f9f9f9;border-color:#000}.button.-palette.-dark.is-active,.button.-palette.-dark:focus,.button.-palette.-dark:hover{background:#000;color:#f9f9f9;border-color:#000}.button.-option{position:relative}.button.-option.is-active:after{position:absolute;top:-12px;right:-12px;background:#0288d1;color:#fff;width:24px;height:24px;line-height:20px;font-size:12px;border:2px solid #fff;border-radius:50%;content:"done";font-family:Material Icons}.button-group{display:flex;align-items:center}.button-group .button{border-radius:0;flex:1}.button-group .button:first-child{border-radius:4px 0 0 4px}.button-group .button:last-child{border-radius:0 4px 4px 0}.button-group.-inline{display:inline-flex}.button-group.-inline .button{flex:0;white-space:nowrap}.button-group .button+.button{margin-left:2px}.button-group.-attached .button{margin:0}.button-group.-attached .button+.button{border-left:0}.card,.insights .card{background:#fff;margin-bottom:24px;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px}.card>.header,.insights .card>.header{padding:28px 28px 0;flex-shrink:0}.card>.header>.title{margin:0;padding:0 0 24px;border-bottom:1px solid #e7e7e7;font-size:18px;font-weight:400;color:#0288d1}.card>.body,.insights .card>.body{flex:1;padding:28px}.wrapper-layout{min-height:100%}.wrapper-layout>.main{flex:1;overflow:auto}.wrapper-layout>.navigation{flex-shrink:0}.main-navigation{position:relative;display:flex;flex-direction:row;background:#fff;box-shadow:0 -1px 2px rgba(0,0,0,.03)}.main-navigation>.brand{margin-right:auto;border-right:1px solid #e7e7e7;padding:16px;display:flex;align-items:center;justify-content:center}.main-navigation>.menu{margin:auto;display:flex;flex-direction:row}.main-navigation>.menu>.menu-item{position:relative;text-decoration:none;align-items:center;padding:16px;margin:0 4px;color:#919191;font-size:13px;line-height:1;transition:all .15s ease-in}.main-navigation>.menu>.menu-item.disabled{cursor:not-allowed;opacity:.7}.main-navigation>.menu>.menu-item>.icon{margin-bottom:8px}.main-navigation>.menu>.menu-item:focus,.main-navigation>.menu>.menu-item:hover{color:#444}.main-navigation>.menu>.menu-item.is-current{border-top-color:#0288d1;color:#0288d1}.main-navigation>.menu>.menu-item.is-current:after{transform:scaleY(1)}.main-navigation>.user{margin-left:auto;border-left:1px solid #e7e7e7;padding:12px}.main-navigation>:empty{padding:0;border:0}.main-tabs{align-items:center;background:#f9f9f9;padding:0 24px}.main-tabs>.right{margin-left:auto}.main-tabs .tab-item{position:relative;text-decoration:none;font-size:16px;color:#777;padding:24px 0}.main-tabs .tab-item.is-current{color:#0288d1}.main-tabs .tab-item.is-current:after{content:"";position:absolute;bottom:0;left:0;right:0;width:100%;height:4px;border-radius:4px 4px 0 0;background:#0288d1}.main-tabs .tab-item+.tab-item{margin-left:32px}.pagination-navigation{display:flex;align-items:center;justify-content:center;padding-top:24px}.pagination-navigation>.buttons{display:flex;align-items:center;margin-left:auto}.pagination-navigation>.buttons .input,.pagination-navigation>.buttons .multiple-input{padding-right:24px;padding-left:24px}.progress-steps>.step{position:relative;display:flex;padding-bottom:36px;cursor:pointer}.progress-steps>.step:not(:last-child):before{content:"";position:absolute;top:24px;left:12px;right:0;bottom:0;height:100%;width:1px;background:#e7e7e7}.progress-steps>.step>.number{position:relative;background:#fff;flex-shrink:0;font-size:12px;width:24px;height:24px;border-radius:50%;border:1px solid #c1c1c1;margin-right:20px;margin-top:2px}.progress-steps>.step>.body{display:flex;flex-direction:column}.progress-steps>.step>.body>.title{margin:0 0 8px;font-weight:400;line-height:1;color:#777}.progress-steps>.step>.body>.description{color:#919191;max-width:150px;margin:0}.progress-steps>.step.is-current>.body>.title,.progress-steps>.step.is-current>.number{color:#0288d1}.progress-steps>.step.is-current>.number{background:#f2faff;border-color:#0288d1}.progress-steps>.step.is-current>.body>.description{color:#5e5e5e}.progress-steps>.step.is-completed>.body>.title,.progress-steps>.step.is-completed>.number{color:#4ac6c6}.progress-steps>.step.is-completed>.number{background:#4ac6c6;border-color:#4ac6c6;color:transparent;line-height:0}.progress-steps>.step.is-completed>.number:after{content:"done";font-family:Material Icons;color:#fff}.progress-steps>.step.is-completed>.body>.description{color:#5e5e5e}.feed-list{display:flex;flex-direction:column}.feed-list>.item{display:flex;flex-direction:row;align-items:center;text-decoration:none}.feed-list>.item>.body{flex:1}.feed-list>.item>.thumbnail{width:50px;height:50px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;overflow:hidden;margin-right:20px;flex-shrink:0;border-radius:4px}.feed-list>.item>.thumbnail.-initial{box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:50%;background:#eee;font-size:16px;font-weight:700}.feed-list>.item .title{font-weight:400;font-size:14px;margin:0}.feed-list>.item .excerpt{font-weight:400;font-size:13px;color:#777;margin:0;padding:4px 0 0}.feed-list>.item.is-featured{display:flex;flex-direction:column;align-items:stretch}.feed-list>.item.is-featured>.title{font-size:18px}.feed-list>.item.is-featured>.thumbnail{width:100%;height:300px;margin:0 0 20px;box-shadow:0 1px 1px rgba(0,0,0,.06)}.feed-list>.item+.item{padding-top:12px;margin-top:12px;border-top:1px solid #eee}.table{width:100%;margin-bottom:12px;background-color:#fff;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.06)}.table td,.table th{padding:12px;vertical-align:top;border-top:1px solid #e7e7e7}.table thead th{vertical-align:bottom;border-bottom:2px solid #e7e7e7;border-top:0}.table tbody+tbody{border-top:1px solid #e7e7e7}html{box-sizing:border-box;-ms-overflow-style:scrollbar}*,:after,:before{box-sizing:inherit}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl{width:100%;margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}.row{display:flex;flex-wrap:wrap;margin-right:-12px;margin-left:-12px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-10,.col-11,.col-12,.col-auto,.col-lg,.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-auto,.col-md,.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12,.col-md-auto,.col-sm,.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-auto{position:relative;width:100%;padding-right:12px;padding-left:12px}.col{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-1>*{flex:0 0 100%;max-width:100%}.row-cols-2>*{flex:0 0 50%;max-width:50%}.row-cols-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-4>*{flex:0 0 25%;max-width:25%}.row-cols-5>*{flex:0 0 20%;max-width:20%}.row-cols-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto;max-width:100%}.col-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-12{flex:0 0 100%;max-width:100%}.order-first{order:-1}.order-last{order:13}.order-0{order:0}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.order-6{order:6}.order-7{order:7}.order-8{order:8}.order-9{order:9}.order-10{order:10}.order-11{order:11}.order-12{order:12}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}@media (min-width:576px){.col-sm{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-sm-1>*{flex:0 0 100%;max-width:100%}.row-cols-sm-2>*{flex:0 0 50%;max-width:50%}.row-cols-sm-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 25%;max-width:25%}.row-cols-sm-5>*{flex:0 0 20%;max-width:20%}.row-cols-sm-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-sm-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-sm-3{flex:0 0 25%;max-width:25%}.col-sm-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-sm-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-sm-6{flex:0 0 50%;max-width:50%}.col-sm-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-sm-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-sm-9{flex:0 0 75%;max-width:75%}.col-sm-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-sm-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-sm-12{flex:0 0 100%;max-width:100%}.order-sm-first{order:-1}.order-sm-last{order:13}.order-sm-0{order:0}.order-sm-1{order:1}.order-sm-2{order:2}.order-sm-3{order:3}.order-sm-4{order:4}.order-sm-5{order:5}.order-sm-6{order:6}.order-sm-7{order:7}.order-sm-8{order:8}.order-sm-9{order:9}.order-sm-10{order:10}.order-sm-11{order:11}.order-sm-12{order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}}@media (min-width:768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-md-1>*{flex:0 0 100%;max-width:100%}.row-cols-md-2>*{flex:0 0 50%;max-width:50%}.row-cols-md-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-md-4>*{flex:0 0 25%;max-width:25%}.row-cols-md-5>*{flex:0 0 20%;max-width:20%}.row-cols-md-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto;max-width:100%}.col-md-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-md-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-md-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-md-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-md-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-md-12{flex:0 0 100%;max-width:100%}.order-md-first{order:-1}.order-md-last{order:13}.order-md-0{order:0}.order-md-1{order:1}.order-md-2{order:2}.order-md-3{order:3}.order-md-4{order:4}.order-md-5{order:5}.order-md-6{order:6}.order-md-7{order:7}.order-md-8{order:8}.order-md-9{order:9}.order-md-10{order:10}.order-md-11{order:11}.order-md-12{order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}}@media (min-width:992px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-lg-1>*{flex:0 0 100%;max-width:100%}.row-cols-lg-2>*{flex:0 0 50%;max-width:50%}.row-cols-lg-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 25%;max-width:25%}.row-cols-lg-5>*{flex:0 0 20%;max-width:20%}.row-cols-lg-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-lg-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-lg-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-lg-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-lg-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-lg-12{flex:0 0 100%;max-width:100%}.order-lg-first{order:-1}.order-lg-last{order:13}.order-lg-0{order:0}.order-lg-1{order:1}.order-lg-2{order:2}.order-lg-3{order:3}.order-lg-4{order:4}.order-lg-5{order:5}.order-lg-6{order:6}.order-lg-7{order:7}.order-lg-8{order:8}.order-lg-9{order:9}.order-lg-10{order:10}.order-lg-11{order:11}.order-lg-12{order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}}@media (min-width:1200px){.col-xl{flex-basis:0;flex-grow:1;max-width:100%}.row-cols-xl-1>*{flex:0 0 100%;max-width:100%}.row-cols-xl-2>*{flex:0 0 50%;max-width:50%}.row-cols-xl-3>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 25%;max-width:25%}.row-cols-xl-5>*{flex:0 0 20%;max-width:20%}.row-cols-xl-6>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{flex:0 0 8.33333333%;max-width:8.33333333%}.col-xl-2{flex:0 0 16.66666667%;max-width:16.66666667%}.col-xl-3{flex:0 0 25%;max-width:25%}.col-xl-4{flex:0 0 33.33333333%;max-width:33.33333333%}.col-xl-5{flex:0 0 41.66666667%;max-width:41.66666667%}.col-xl-6{flex:0 0 50%;max-width:50%}.col-xl-7{flex:0 0 58.33333333%;max-width:58.33333333%}.col-xl-8{flex:0 0 66.66666667%;max-width:66.66666667%}.col-xl-9{flex:0 0 75%;max-width:75%}.col-xl-10{flex:0 0 83.33333333%;max-width:83.33333333%}.col-xl-11{flex:0 0 91.66666667%;max-width:91.66666667%}.col-xl-12{flex:0 0 100%;max-width:100%}.order-xl-first{order:-1}.order-xl-last{order:13}.order-xl-0{order:0}.order-xl-1{order:1}.order-xl-2{order:2}.order-xl-3{order:3}.order-xl-4{order:4}.order-xl-5{order:5}.order-xl-6{order:6}.order-xl-7{order:7}.order-xl-8{order:8}.order-xl-9{order:9}.order-xl-10{order:10}.order-xl-11{order:11}.order-xl-12{order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}}*,:after,:before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:1rem;font-weight:400;line-height:1.5;color:#414141;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:6px}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{font-style:normal;line-height:inherit}address,dl,ol,ul{margin-bottom:1rem}dl,ol,ul{margin-top:0}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0288d1;text-decoration:none;background-color:transparent}a:hover{color:#015785;text-decoration:underline}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}figure{margin:0 0 1rem}img{border-style:none}img,svg{vertical-align:middle}svg{overflow:hidden}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#8e8e8e;text-align:left;caption-side:bottom}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.row-grid{margin-top:-12px;margin-bottom:-12px}.row-grid>.col,.row-grid>[class*=col-]{padding-top:12px;padding-bottom:12px}.onboarding-window .button:active,.onboarding-window .button:focus{outline:none}.onboarding-window p{margin-bottom:1rem;font-size:1em;line-height:1.5;color:#747474}.onboarding-window p.lead{font-size:1.25em}.onboarding-window p.caption{font-size:.875em;line-height:1.46;color:#a7a7a7}.onboarding-window hr{width:100%;border-bottom:1px solid #eee}.onboarding-window .wizard{position:fixed;top:0;right:0;bottom:0;left:0;background:#fff;z-index:99999}.onboarding-window .wizard>.row{height:100%}.onboarding-window .progress-steps>.step{cursor:pointer}.onboarding-window .progress-steps>.step>.body>.description{font-size:10px}.onboarding-window .progress-steps>.step.is-completed>.number{background-color:#0288d1;border-color:#0288d1}.onboarding-window .progress-steps>.step.is-completed>.body>.title,.onboarding-window .progress-steps>.step.is-completed>.number{color:#0288d1}.onboarding-window .wizard>.row>.side{border-right:1px solid #e7e7e7;box-shadow:0 1px 1px rgba(0,0,0,.06);background:#fbfbfb;padding:48px;max-width:320px;flex-grow:1}.onboarding-window .wizard>.row>.side>.illustration{width:230px;margin-left:auto;margin-right:auto;margin-bottom:48px}.onboarding-window .wizard>.row>.content{display:flex;flex-direction:column;overflow-y:auto;height:100%}.onboarding-window .wizard>.row>.content>.close{position:fixed;top:24px;right:24px}.onboarding-window .wizard>.row>.content>.body{overflow-y:auto;flex:1;width:100%;max-width:unset;margin:auto}.onboarding-window .wizard>.row>.content>.body>*{padding:24px;display:block;margin:auto;max-width:960px}.onboarding-window .wizard>.row>.content>.footer{justify-content:flex-end;flex-shrink:0;padding:24px;border-top:1px solid #eee}.onboarding-window .wizard>.row>.content>.footer .button.-outline{margin-right:auto}.onboarding-window .wizard>.state{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:hsla(0,0%,100%,.95)}.onboarding-window .wizard>.state>.icon{font-size:36px;height:36px}.onboarding-window .wizard>.state>.title{color:#0288d1;margin:24px 0 0}.onboarding-window .wizard>.state>.chiller{font-size:18px;margin:24px 0;max-width:280px;text-align:center;line-height:1.5}.onboarding-window .onboarding-card{position:relative;overflow:hidden;border:1px solid rgba(46,58,70,.1);transition:all .3s;box-shadow:0 1px 1px rgba(0,0,0,.06)}.onboarding-window .onboarding-card>.link{position:absolute;z-index:100;top:0;left:0;right:0;bottom:0}.onboarding-window .onboarding-card>.header{position:relative;padding:0}.onboarding-window .onboarding-card>.header>.thumbnail{width:100%;height:150px;-o-object-fit:cover;object-fit:cover;-o-object-position:left center;object-position:left center;transition:all .3s ease-out}.onboarding-window .onboarding-card>.header>.icon{position:absolute;z-index:2;color:#fff;font-size:48px;line-height:1;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0;transition:opacity .3s}.onboarding-window .onboarding-card>.body{padding:16px}.onboarding-window .onboarding-card>.body>.title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:color .7s}.onboarding-window .onboarding-card>.body>.description{font-size:13px;margin-bottom:0}.onboarding-window .onboarding-card:hover{border:1px solid #e7e7e7;box-shadow:0 2px 4px rgba(0,0,0,.1)}.onboarding-window .onboarding-card:hover>.body>.title{color:#0288d1}.onboarding-window .onboarding-card:hover>.header>.icon{opacity:1}.onboarding-window .onboarding-card:hover>.header>.thumbnail{filter:brightness(.35)}.onboarding-window .equal-height>[class*=col]{margin-bottom:24px}.insights .onboarding-window .equal-height>[class*=col] .card,.onboarding-window .equal-height>[class*=col] .card,.onboarding-window .equal-height>[class*=col] .insights .card{height:100%;margin-bottom:0}.onboarding-window .information-box{position:relative;padding:36px;background:#f9f9f9;border-radius:4px}.onboarding-window .information-box img{position:absolute;bottom:0;right:12px;width:110px}.onboarding-window .information-box p{display:flex;align-items:center;margin-bottom:8px}.onboarding-window .information-box p .button{margin-top:8px}.onboarding-window .information-box p .material-icons{margin-right:12px;color:#0288d1}.onboarding-window .more-box{position:relative;background:#f9f9f9;padding:36px;border-radius:4px 4px 0 0;margin-top:auto}.onboarding-window .more-box img{position:absolute;right:36px;bottom:0;height:200px}.onboarding-window .more-box .icon{position:absolute;right:72px;top:0;bottom:0;margin:auto;font-size:72px;height:72px}.onboarding-window .more-box>.body>.icon{color:#747474}.onboarding-window welcome .hero{position:relative;padding:72px}.onboarding-window welcome .hero img{position:absolute;right:72px;bottom:0;width:170px}.onboarding-window welcome .benefits{border:1px solid #e7e7e7;border-radius:12px;box-shadow:0 1px 1px rgba(0,0,0,.06)}.onboarding-window welcome .benefits .benefits-item{text-align:left;padding:36px}.onboarding-window welcome .benefits .benefits-item+.benefits-item{border-left:1px solid #e7e7e7}.onboarding-window welcome .benefits p{margin-bottom:0}.onboarding-window welcome .benefits .material-icons{font-size:3rem;margin-bottom:1rem;color:#0288d1}.onboarding-window introduction{padding-bottom:0!important;height:100%}.onboarding-window introduction .introduction{height:100%}.onboarding-window connect{width:100%}.onboarding-window connect .message p{margin-bottom:0}.onboarding-window connect>.row{padding-top:36px}.onboarding-window connect .left-side{padding-right:36px}.onboarding-window finish>.row{padding-top:24px}.onboarding-window finish .left-side{padding-right:36px}.onboarding-window finish .social-box{padding-top:36px;text-align:center}.onboarding-window finish .social-icons{margin-top:16px}.onboarding-window finish .social-icons .icon{display:inline-block;width:32px;margin-right:12px}.onboarding-window finish .social-icons .icon svg{fill:#c1c1c1;transition:fill .3s}.onboarding-window finish .social-icons .icon.twitter-icon svg{fill:#1da1f2}.onboarding-window finish .social-icons .icon.youtube-icon svg{fill:#ff0100}dashboard-page{padding:24px}.upgrade-to-pro{cursor:pointer}.upgrade-to-pro .card{min-height:335px}.insights-list>.chart{display:block;margin-bottom:24px;min-height:200px}.insight-item,.insights-list>.chart{padding:24px;background:#f9f9f9;border-radius:4px}.insight-item{flex-basis:50%;min-height:130px}.insight-item>.value{font-size:24px;color:#0288d1}.insights-list.-skeleton .insight-item>.name,.insights-list.-skeleton .insight-item>.value{background:#eee}.widgets-page{display:block;padding:24px}.widgets-page .quick-start{min-height:auto}.wizard{position:fixed;top:0;right:0;bottom:0;left:0;background:#fff;z-index:99999}.wizard>.row{height:100%}.wizard>.row>.side{border-right:1px solid #e7e7e7;box-shadow:0 1px 1px rgba(0,0,0,.06);background:#f9f9f9;padding:48px;min-width:350px}.wizard>.row>.side>.illustration{margin-bottom:48px}.wizard>.row>.content{display:flex;flex-direction:column;overflow-y:auto;height:100%}.wizard>.row>.content>.close{position:fixed;top:24px;right:24px}.wizard>.row>.content>.body{justify-content:center;padding:24px;max-width:600px;flex:1;width:100%;margin:auto}.wizard>.row>.content>.footer{text-align:right;flex-shrink:0;padding:24px;border-top:1px solid #eee}.wizard>.row>.content>.footer .button+.button{margin-left:12px}.wizard>.state{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:hsla(0,0%,100%,.95)}.wizard>.state>.icon{font-size:36px;height:36px}.wizard>.state>.title{color:#0288d1;margin:24px 0 0}.wizard>.state>.chiller{font-size:18px;margin:24px 0;max-width:280px;text-align:center;line-height:1.5}.widget-card{position:relative;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px;margin-bottom:24px;min-height:285px;transition:all .15s ease-in}.widget-card>.toolbar{display:flex;flex-direction:row;align-items:center;position:absolute;top:0;right:16px;left:20px;opacity:0;transition:all .15s ease-in}.widget-card>.toolbar .labeled-switch{margin-right:auto}.widget-card>.toolbar .button{margin-left:8px}.widget-card>.operation{position:absolute;z-index:1;top:0;right:0;bottom:0;left:0;background:hsla(0,0%,100%,.95);border-radius:4px;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.widget-card>.operation>.icon{font-size:32px;margin-bottom:12px;color:#ee521d}.widget-card>.operation .description{padding:12px}.widget-card>.operation .description:last-child{margin-bottom:0}.widget-card>.operation .button+.button{margin-left:12px}.widget-card>.body{min-height:200px;padding:12px;flex:1;width:100%;cursor:pointer;transition:all .15s ease-in}.widget-card>.body>.icon{font-size:36px;color:#0288d1;margin-bottom:12px}.widget-card>.statistics{display:flex;flex-shrink:0;width:100%;border-top:1px solid #eee;cursor:pointer}.widget-card>.statistics>.segment{padding:16px;flex:1;text-align:center}.widget-card>.statistics>.segment>.value{color:#0288d1;font-size:18px}.widget-card>.statistics>.segment>.name{margin-top:4px;font-size:13px}.widget-card>.statistics>.segment+.segment{border-left:1px solid #eee}.widget-card:hover>.toolbar{opacity:1;top:16px}.widget-card:hover>.body{padding-top:36px}.widget-card.is-disabled>.body>.icon,.widget-card.is-disabled>.body>.name{color:#a7a7a7}.widget-card.is-disabled>.statistics{display:none}.widget-card.is-removed{animation:widget-removal 1s ease-in forwards}@keyframes widget-removal{0%{transform:scale(1) rotate(0deg)}to{transform:scale(0) rotate(1turn)}}.quick-start{position:relative;overflow:hidden;display:flex;flex-direction:column}.quick-start .body>.title{margin:0;padding-bottom:16px;color:#0288d1;font-weight:500}.quick-start .body>.description{max-width:500px;color:#000;font-size:16px}.insights .quick-start>.card,.quick-start>.card{flex:1}.quick-start .body{display:flex;flex-direction:column}.quick-start .body>.illustration{position:absolute;right:-80px;top:0;height:260px}.quick-start .body>.featured-playlist{display:flex;flex-direction:row;border-top:1px solid #eee;padding-top:20px;margin-top:auto;text-decoration:none}.quick-start .body>.featured-playlist>.icon{margin-right:12px;padding:6px;border-radius:4px;border:1px solid #e7e7e7}.quick-start .body>.featured-playlist>.description{margin:0}.widget-card.-skeleton{background:#f9f9f9}.widget-card.-skeleton>.icon{margin-bottom:24px}.widget-card.-create{border:1px dashed #c1c1c1;background:transparent;color:#747474}.widget-card.-create>.icon{font-size:36px;margin-bottom:12px}.widget-card.-create>.title{font-weight:400}.widget-card.-create:hover{cursor:pointer;background:#f9f9f9;color:#0288d1;border-style:solid;border-color:#0288d1}.documentation-card{text-align:center;min-height:195px}.documentation-card>.icon{font-size:48px;margin-bottom:12px;color:#0288d1}.documentation-card>.description{color:#919191;max-width:300px;max-width:40ch}.widget-editor{height:100%}.widget-editor>.navigation{position:relative;box-shadow:0 1px 1px rgba(0,0,0,.06)}.widget-editor>.content{height:100%;padding:24px;overflow-y:auto}.widget-editor .actions>.labeled-switch{padding:0 12px}.widget-editor .actions>.button{margin-left:12px}.settings-panel{min-height:100%}.settings-panel>.navigation{max-width:250px;width:100%}.settings-panel>.navigation.-wide{max-width:320px}.settings-panel>.navigation>.header{padding:0 20px 0 0}.settings-panel>.navigation>.header .title{margin:0}.settings-panel>.navigation>.header .description{color:#8e8e8e}.settings-panel>.content{flex:1;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px;padding:24px}.settings-search{background:#f9f9f9;box-shadow:0 1px 1px rgba(0,0,0,.06);padding:12px;border:0;border-radius:4px;width:calc(100% - 16px);outline:none;transition:all .15s ease-in}.settings-search::-moz-placeholder{color:#a7a7a7}.settings-search::placeholder{color:#a7a7a7}.settings-search:hover{background:#fbfbfb}.settings-search:focus{background:#fff}.settings-tabs{padding:16px 0}.settings-tabs>.item{padding:16px;color:#777;border-radius:4px 0 0 4px;outline:none;cursor:pointer;transition:all .15s ease-in}.settings-tabs>.item:hover{background:#eee;color:#444}.settings-tabs>.item>.icon{margin-right:12px;font-size:18px}.settings-tabs>.item>.name{margin-right:auto}.settings-tabs>.item>.matches{margin-left:auto}.settings-tabs>.item.is-current{color:#0288d1;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06)}.attributes-manager>.form-group{padding:24px 0 0}.attribute-item{padding:24px;margin-bottom:12px;background:#f9f9f9;border-radius:4px;border:2px solid #f9f9f9;transition:all .15s ease-in}.attribute-item.cdk-drag-placeholder{position:relative;z-index:1;border:2px solid #0288d1;box-shadow:0 1rem 3rem rgba(0,0,0,.175);cursor:grabbing}.attribute-item>.header{align-items:center}.attribute-item>.header>.icon{margin-right:24px}.attribute-item>.header>.toolbar{margin-left:auto}.attribute-item>.header>.toolbar>.button:focus,.attribute-item>.header>.toolbar>.button:hover{background:#fff}.attribute-item>.header>.toolbar>.handle{cursor:grab}.attribute-item>.header>.toolbar>.handle:active{cursor:grabbing}.attribute-item>.header>.toolbar>.remove{color:#ee521d}.attribute-item>.header>.details>.title{margin:0}.attribute-item>.header>.details>.description{margin:0;color:#919191}.attribute-item>.body{padding-top:24px;margin-top:24px;border-top:1px solid #e7e7e7}.symbol-designer{position:relative;min-height:140px}.symbol-designer>.symbol{flex:1}.symbol-designer>.symbol .text{line-height:1;font-size:48px;height:48px;transition:all .15s ease-in}.symbol-designer>.symbol .text img,.symbol-designer>.symbol>.image{max-width:48px;max-height:48px;width:100%;height:100%}.symbol-designer>.symbol .types{position:absolute;bottom:0;transition:all .15s ease-in}.symbol-designer>.symbol .types .-outline{border:0}.symbol-designer>.panel{display:flex;flex-direction:column;position:absolute;z-index:2;bottom:35%;margin:auto;padding:36px;width:300px;height:250px;border-radius:4px;box-shadow:0 4px 24px rgba(0,0,0,.2);background:hsla(0,0%,100%,.95);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);transform:scale(0);transform-origin:center bottom;transition:all .15s ease-in}.symbol-designer>.panel.is-open{transform:scale(1)}.symbol-designer>.panel>.close{position:absolute;right:12px;top:12px}.symbol-designer>.panel>.text-symbols{justify-content:center;align-items:center}.symbol-designer>.panel>.text-symbols .button{margin:2px 4px;transform-origin:center;will-change:transform}.symbol-designer>.panel>.text-symbols .button:focus,.symbol-designer>.panel>.text-symbols .button:hover{transform:scale(1.25)}.symbol-designer>.panel>.text-symbols .input,.symbol-designer>.panel>.text-symbols .multiple-input{display:block;width:150px;margin:12px auto 0;text-align:center}.symbol-designer>.panel>.url-form{padding:12px}.symbol-designer>.panel>.url-form .upload-zone{position:relative;padding:24px 0;border:2px dashed #eee;border-radius:4px;text-align:center;font-size:12px;text-transform:uppercase}.symbol-designer>.panel>.url-form .upload-zone:focus,.symbol-designer>.panel>.url-form .upload-zone:hover{border-color:#a7a7a7}.symbol-designer>.panel>.url-form .upload-zone.is-uploading{border-color:#0288d1}.symbol-designer>.panel>.url-form .upload-zone input{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;width:100%;height:100%}.symbol-designer>.panel>.url-form>.buttons{margin-top:12px;text-align:right}.symbol-designer>.panel>.url-form>.buttons .button{margin-left:12px}.attribute-point{position:relative;border:1px solid #e7e7e7;margin-bottom:24px;background:#fff;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.06);min-height:220px;transition:all .15s ease-in}.attribute-point:not(.cdk-drag-placeholder){transition-duration:0ms}.attribute-point.cdk-drag-placeholder{position:relative;z-index:1;border:2px solid #0288d1;box-shadow:0 1rem 3rem rgba(0,0,0,.175);cursor:grabbing}.attribute-point>.toolbar{position:absolute;z-index:1;top:0;left:0;width:100%;padding:12px;opacity:0;transition:all .15s ease-in}.attribute-point>.toolbar>.handle{margin-right:auto;cursor:grab}.attribute-point>.toolbar>.remove{color:#ee521d}.attribute-point>.body{flex:1}.attribute-point>.body .symbol>.types{opacity:0}.attribute-point>.body .symbol>.image,.attribute-point>.body .symbol>.text{filter:grayscale(1)}.attribute-point>.input,.attribute-point>.multiple-input{border:0;border-top:1px solid #e7e7e7;border-radius:0 0 4px 4px;box-shadow:none;text-align:center;padding:12px;height:auto}.attribute-point:hover>.body .symbol>.types,.attribute-point:hover>.toolbar{opacity:1}.attribute-point:hover>.body .symbol>.image,.attribute-point:hover>.body .symbol>.text{filter:none}.attribute-point.-create{border:1px dashed #c1c1c1;background:transparent;color:#747474}.attribute-point.-create>.icon{font-size:36px;margin-bottom:12px}.attribute-point.-create:hover{cursor:pointer;background:#f9f9f9;color:#0288d1;border-style:solid;border-color:#0288d1}.scale-points{position:relative}.scale-points>.points{justify-content:space-evenly}.scale-points>.line{position:relative;height:4px;margin:4px 0 0;background:#e7e7e7}.scale-points>.line:after,.scale-points>.line:before{position:absolute;top:100%;left:0;content:"";display:block;width:4px;height:10px;background:#e7e7e7}.scale-points>.line:after{right:0;left:auto}.scale-points>.controller{width:120px;height:36px;border-radius:24px;box-shadow:0 1px 1px rgba(0,0,0,.06);border:1px solid #e7e7e7;background:#fff}.scale-points>.controller>.label{padding:0 12px;white-space:nowrap}.scale-points>.controller>.input,.scale-points>.controller>.multiple-input{border:0;border-left:1px solid #e7e7e7;background:transparent;box-shadow:none;border-radius:0;color:#0288d1;font-weight:700;text-align:center}.attribute-number{font-size:12px;color:#a7a7a7;padding:12px 0}.attribute-indicator{width:4px;height:12px;background:#e7e7e7}.scale-point{width:100%;margin:auto 6px}.scale-point:first-child{margin-left:0}.scale-point:last-child{margin-right:0}.design-customizer{min-height:100%}.design-customizer>.sidebar{width:300px}.design-customizer>.content{flex:1;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:0 4px 4px 4px}.design-customizer>.content>.body{flex:1}.design-customizer>.content>.footer{margin-top:auto;padding:16px;border-top:1px solid #eee}.design-customizer>.content>.footer>.states{margin-left:auto}.design-customizer>.sidebar>.options{padding:24px 24px 0 0}.design-customizer>.sidebar>.options .form-group+.form-group{padding-top:16px}.design-customizer>.sidebar>.options .button.-primary.-alt{box-shadow:0 1px 0 0 #0288d1}.color-builder{position:relative;margin-bottom:12px}.color-builder>.base input,.color-builder>.contrast input{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.color-builder>.base{position:relative;flex-shrink:0;width:36px;height:36px;border-radius:4px 0 0 4px;box-shadow:0 1px 1px rgba(0,0,0,.06)}.color-builder>.base>.icon{opacity:0;transition:all .15s ease-in;text-shadow:0 1px 1px rgba(0,0,0,.06)}.color-builder>.base:hover .icon{opacity:1}.color-builder .contrast{position:absolute;top:-4px;left:-4px;height:24px;width:24px;text-align:center;text-transform:uppercase;font-size:10px;border-radius:4px;box-sizing:content-box;box-shadow:0 2px 4px rgba(0,0,0,.1)}.color-builder .contrast>.icon{line-height:24px;font-size:16px;text-shadow:0 1px 1px rgba(0,0,0,.06)}.color-builder>.input,.color-builder>.multiple-input{border-radius:0 4px 4px 0;text-align:center;border:0}.color-builder>.name{position:absolute;font-size:8px;top:-5px;right:2px;background:#fff;line-height:1;text-transform:uppercase;color:#c1c1c1}.template-picker{background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px 0 0 4px}.template-picker.is-listing{height:100%;border-right:1px solid #e7e7e7}.template-picker.is-listing+.options{display:none}.template-picker>.listing{overflow-y:auto;height:100%;flex:1;background:#fbfbfb}.template-picker .item{flex-wrap:wrap;padding:16px;border-bottom:1px solid #e7e7e7;transition:all .15s ease-in}.template-picker .item>.icon{font-size:36px;margin-right:16px}.template-picker .item>.details>.name{font-weight:400;margin:0}.template-picker .item>.details>.credit{margin:0;color:#a7a7a7;text-transform:uppercase;font-size:10px}.template-picker .item>.button{margin-left:auto}.template-picker .item:hover{background:#fff;cursor:pointer}live-preview{display:block;margin:2em 0}.widget-preview{--size-small:12px;--size-regular:16px;--size-medium:18px;--size-large:24px;--space-compact:0.5em;--space-normal:1em;--space-comfortable:1.5em;--radius-sharp:0;--radius-rounded:0.5em;font-size:var(--size);width:20em;background:var(--color-background);border-radius:var(--radius)}.widget-preview,.widget-preview *,.widget-preview :after,.widget-preview :before{transition:all .15s ease-in}.widget-preview>.title{padding:var(--space) 0}.widget-preview>.title:after{content:"";display:block;height:1em;width:60%;border-radius:var(--radius);margin:auto;max-width:100%;background:var(--color-dark)}.widget-preview>.attribute{padding:var(--space)}.widget-preview>.attribute>.points>.point{display:block;border-radius:var(--radius);color:var(--color-secondary);padding:calc(var(--space)/4)}.widget-preview>.attribute>.points>.point .material-icons{font-size:2em}.widget-preview>.attribute>.points>.point.is-checked{color:var(--color-primary)}.widget-preview>.attribute>.score{height:.5em;width:20%;border-radius:var(--radius);margin:var(--space) auto 0;max-width:100%;background:var(--color-dark)}.widget-preview>.attribute>.comment{padding:var(--space) 0}.widget-preview>.attribute>.comment:before{display:block;content:"Comment field";font-size:.85em;color:#ccc;padding:var(--space);background:var(--color-background-contrast);border-radius:var(--radius);height:6.5em}.widget-preview>.attribute>.rate{background:var(--color-primary);color:var(--color-primary-contrast);padding:var(--space);border-radius:var(--radius);text-align:center;margin:auto}.widget-preview>.attribute>.rate:before{display:block;content:"";height:.35em;width:50%;margin:auto;border-radius:var(--radius);max-width:100%;background:var(--color-primary-contrast);opacity:.85}.integrations-manager{height:100%;overflow:hidden}.integrations-manager>.content{overflow:hidden}.integrations-store{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:195px;padding:12px 0}.integrations-store>.illustration{font-size:48px;margin-bottom:24px;color:#0288d1}.integrations-store>.title{color:#444;font-weight:400}.integrations-store>.description{color:#777;max-width:250px;margin-right:auto;margin-left:auto}.integrations-store>.button{min-width:80px}.ratings-toolbar{margin-bottom:24px}.ratings-browser{background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px;padding:24px;width:100%}.ratings-browser td,.ratings-browser th{border-bottom:1px solid #e7e7e7;padding:16px}.ratings-browser .header>tr>.column{font-size:16px;font-weight:400}.ratings-browser .body>tr>.column.is-status{width:1px;padding:0 48px 0 0;position:relative}.ratings-browser .column.is-date,.ratings-browser .column.is-entity,.ratings-browser .column.is-rating,.ratings-browser .column.is-user{width:1px;white-space:nowrap}.ratings-browser .column.is-agent,.ratings-browser .column.is-ip{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:180px}.ratings-browser .column.is-actions{text-align:right}.ratings-browser .column.is-actions .row{display:inline-flex;align-items:center}.ratings-browser .body tr .column.is-actions{opacity:0;transition:all .15s ease-in}.ratings-browser .body tr:hover .column.is-actions{opacity:1}.ratings-browser .loading-item{text-align:center;padding:24px}.rating-item.is-deleted{background-color:rgba(220,53,69,.1);opacity:.5}.rating-item .status{position:absolute;top:0;text-align:center;display:block;width:36px;height:40px;border-radius:4px;background:#0288d1;font-size:18px;text-transform:capitalize;padding:12px;margin:16px 0 16px 16px;color:transparent;transition:all .15s ease-in;overflow:hidden}.rating-item .status:first-letter{color:#fff}.rating-item .status:hover{color:#fff;width:100px}.rating-item .status.is-accepted{background:#28a745;position:absolute}.rating-item .status.is-rejected{background:#ee521d}.rating-item .status.is-revoked{background:#444}.rating-item .status.is-changed{background:#0288d1}.rating-item .status.is-deleted{background:#dc3545}.rating-item .entity-type{color:#a7a7a7;display:block}.rating-item .entity-name{text-decoration:none}.status-badge{padding:2px 4px;text-transform:uppercase;border:1px solid #eee;line-height:1;font-size:9px;font-weight:700;letter-spacing:.5px;border-radius:4px}.status-badge.is-accepted{color:#28a745}.status-badge.is-rejected{color:#ee521d}.status-badge.is-revoked{color:#444}.status-badge.is-changed{color:#0288d1}.status-badge.is-deleted{color:#dc3545}.ratings-filter{position:relative}.ratings-filter>.dialog{position:absolute;left:0;z-index:1;top:100%;width:500px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,.1);border:1px solid #c1c1c1;border-radius:4px;text-align:left;overflow:hidden;margin-top:12px;transform-origin:top right;transform:scale(0);transition:all .15s ease-in}.ratings-filter>.dialog.is-open{transform:scale(1)}.ratings-filter>.dialog .close{position:absolute;margin:24px}.ratings-filter>.dialog>.body{padding:20px}.ratings-filter>.dialog>.footer{text-align:right;padding:20px;border-top:1px solid #e7e7e7;background:#fbfbfb}.rating-dialog{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:2;background:rgba(0,0,0,.7);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px)}.rating-dialog>.content{position:relative;width:700px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,.1);border:1px solid #c1c1c1;border-radius:4px}.rating-dialog>.content .icon{margin-bottom:12px;color:#0288d1;font-size:36px}.rating-dialog>.content .name{margin:0 0 4px;font-size:12px;color:#777}.rating-dialog>.content .name a{text-decoration:none}.rating-dialog>.content .value{margin:0}.rating-dialog>.content .close{position:absolute;top:24px;right:24px}.rating-dialog>.content>.user{text-align:center;padding:48px 24px;border-bottom:1px solid #e7e7e7}.rating-dialog>.content>.user .avatar{display:inline-flex;padding:12px;border-radius:50%;border:1px solid #e7e7e7;font-size:18px;margin-bottom:12px}.rating-dialog>.content>.details{display:flex;padding:24px 0;border-bottom:1px solid #e7e7e7}.rating-dialog>.content>.details>.item{display:flex;align-items:center;flex:1;padding:0 24px}.rating-dialog>.content>.details>.item .icon{margin-right:24px;margin-bottom:0}.rating-dialog>.content>.details>.item+.item{border-left:1px solid #e7e7e7}.export-as{min-height:200px}.export-as>.icon{font-size:36px;margin-bottom:12px;color:#0288d1}.export-as>.format{font-weight:400;margin:0 0 24px}.workflow-editor{display:block;height:100%}.workflow-editor .empty-state{height:100%}.workflow-editor .remove{color:#ee521d}.workflow-editor>.settings-panel{height:100%}.workflow-editor>.settings-panel>.content{height:100%;overflow-y:auto}.workflow-editor>.settings-panel>.navigation .item{padding:12px}.workflow-editor>.settings-panel>.navigation .item:not(.is-current):focus,.workflow-editor>.settings-panel>.navigation .item:not(.is-current):hover{background:#f4f4f4}.workflow-rule .col-icon{padding-right:0}.workflow-rule .col-icon .icon{font-size:48px;vertical-align:middle;color:#c1c1c1}.workflow-rule .col-details{padding-top:4px}.workflow-rule .col-details .title{margin:0}.workflow-rule .col-details .description{color:#8e8e8e}.workflow-rule .col-form{padding-top:6px}.workflow-rule .conditions .remove{margin:0 0 0 12px}.workflow-rule .conditions .condition{margin-bottom:12px}.workflow-rule .task{margin-top:24px;padding:24px;border-radius:8px;background:#f9f9f9}.workflow-rule .task:empty{display:none}.modules-page{display:block;padding:24px}.modules-page .row>*{margin-bottom:24px}.module-card{position:relative;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px;overflow:hidden;width:100%;min-height:400px;height:100%;border-bottom:4px solid transparent;transition:all .15s ease-in}.module-card.is-activated{border-color:#0288d1}.module-card>.cover{height:200px;overflow:hidden;background:#f9f9f9;border-bottom:1px solid #f4f4f4}.module-card>.cover.is-empty img{filter:grayscale(1)}.module-card>.icon{position:relative;width:100px;height:100px;margin:-70px 20px 0;border:4px solid #fff;background:#f9f9f9;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px}.module-card>.icon img{border-radius:4px}.module-card>.cover img,.module-card>.icon img{width:100%;height:100%;overflow:hidden;-o-object-position:center;object-position:center;-o-object-fit:cover;object-fit:cover}.module-card>.body{padding:24px;flex:1}.module-card>.body>.name{font-weight:600}.module-card>.body>.meta{display:flex;align-items:center;text-transform:uppercase;font-size:10px;line-height:1;color:#a7a7a7}.module-card>.body>.meta>*+*{padding-left:4px;margin-left:4px;border-left:1px solid #a7a7a7}.module-card>.body>.description{color:#777}.module-card>.footer{display:flex;align-items:center;margin:0 24px 24px;min-height:36px}.module-card>.footer .uninstall{margin-left:auto}.module-card>.operation{position:absolute;z-index:1;top:0;right:0;bottom:0;left:0;background:hsla(0,0%,100%,.95);border-radius:4px;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.module-card>.operation>.description{margin:24px 0}.module-card.-skeleton>.icon{background:#e7e7e7}.module-card.-skeleton>.body>.meta>*{border:0}.module-card.-skeleton>.body>.description:after{width:80%}.module-card.-install{background:transparent;border:1px dashed #a7a7a7}.module-card.-install .upload{position:relative;height:100%;width:100%;transition:all .15s ease-in}.module-card.-install .upload>.icon{font-size:64px;margin-bottom:12px;transition:all .15s ease-in}.module-card.-install .upload>.title{font-weight:500}.module-card.-install .upload input{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;cursor:pointer;width:100%;height:100%}.module-card.-install:hover{background:#fbfbfb;border-color:#fbfbfb}.module-card.-install:hover>.upload{color:#0288d1}.module-card.-install:hover>.upload>.icon{transform:translateY(-4px)}@keyframes module-activation-overlay{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}.module-activation-wrapper{position:relative}.module-activation-overlay{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:9999;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background:hsla(0,0%,100%,.5);overflow:hidden;animation:fade-in 1s ease-out both}.module-activation-overlay-content{align-items:center;width:500px;border-radius:12px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,.1);padding:24px;margin:auto;animation:pro-overlay 1s cubic-bezier(.4,0,.42,1.35) both,pro-overlay-ring 2s linear infinite forwards}.module-activation-overlay-content .title{color:#0288d1;margin:0}.module-activation-overlay-content .description{color:#8e8e8e}.module-activation-overlay-content .icon{font-size:36px;color:#0288d1}.module-activation-overlay-content .col-auto:first-child{padding-right:12px}.module-activation-overlay-content .col-auto:last-child{margin-left:auto}.options-panel{height:100%}.options-panel>.navigation{position:relative;box-shadow:0 1px 1px rgba(0,0,0,.06);background:#f9f9f9}.options-panel>.navigation .main-tabs{max-width:960px;padding:0;margin:auto}.options-panel>.content{background:#fff;padding:24px;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px;width:100%;max-width:960px;margin:24px auto;height:100%;overflow-y:auto}.options-panel>.content.is-expressions{padding:0}.localization-table{flex:1;background:#fff;box-shadow:0 1px 1px rgba(0,0,0,.06);border-radius:4px;overflow:hidden;padding:24px;width:100%}.localization-table td,.localization-table th{border-bottom:1px solid #e7e7e7;padding:16px}.localization-table .original{position:relative;width:400px;vertical-align:top}.localization-table .original .context{position:absolute;top:12px;right:12px;line-height:1;text-transform:uppercase;font-size:10px;color:#a7a7a7;padding:4px;background:#fff;border:1px solid #e7e7e7;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.06);opacity:0;transition:all .15s ease-in}.localization-table .translation{border-left:2px solid #eee}.localization-table .header{background:#fbfbfb}.localization-table .body .translation{position:relative;padding:0}.localization-table .body .translation .input,.localization-table .body .translation .multiple-input{position:absolute;top:0;right:0;left:0;bottom:0;border:0;border-radius:0;box-shadow:none;padding:16px;height:100%;background:transparent;resize:none}.localization-table .body .translation .input:focus,.localization-table .body .translation .multiple-input:focus{background:#fbfbfb}.localization-table .body .translation .input::-moz-placeholder,.localization-table .body .translation .multiple-input::-moz-placeholder{color:#c1c1c1}.localization-table .body .translation .input::placeholder,.localization-table .body .translation .multiple-input::placeholder{color:#c1c1c1}.localization-table .body .translation .input+.input,.localization-table .body .translation .input+.multiple-input,.localization-table .body .translation .multiple-input+.input,.localization-table .body .translation .multiple-input+.multiple-input{border-top:1px solid #e7e7e7}.localization-table .body tr:hover{background:#fbfbfb}.localization-table .body tr:hover .context{opacity:1}@keyframes support-overlay{0%{opacity:0}to{opacity:1}}.support-overlay{position:fixed;top:0;right:0;z-index:99999;width:100%;box-shadow:0 4px 24px rgba(0,0,0,.2);background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);height:100%;animation:support-overlay .35s ease-in-out forwards}.support-overlay>.body{width:100%;max-width:960px}.support-overlay>.body>.search{position:relative;height:72px;border-bottom:1px solid #e7e7e7}.support-overlay>.body>.search .icon{position:absolute;width:72px;height:72px;line-height:72px;top:0;bottom:0;left:0;text-align:center;pointer-events:none}.support-overlay>.body>.search input{background:#eee;height:100%;border:0;outline:0;padding-left:72px;border-radius:4px 4px 0 0;width:100%;transition:all .15s ease-in}.support-overlay>.body>.search input:focus,.support-overlay>.body>.search input:hover{background:#f9f9f9}.support-overlay>.body .content{padding:24px;background:#fff;border-radius:0 0 4px 4px}.docs-section>.title{padding-bottom:16px;margin-bottom:16px;border-bottom:1px solid #eee;font-weight:500}.docs-section>.links{margin:0;padding:0;list-style:none}.docs-section>.links>.link{margin-bottom:8px}.premium-support{background:#0288d1;color:#fff;padding:48px 24px;border-radius:4px;text-align:center}.premium-support>.icon{font-size:64px;margin-bottom:24px}.premium-support>.title{font-weight:500}.premium-support>.description{color:#d3efff}@keyframes satisfaction-popup-fade{0%{opacity:0}to{opacity:1}}@keyframes satisfaction-popup{0%{transform:scale(0)}to{transform:scale(1)}}satisfaction-popup{position:fixed;z-index:9999999;top:0;right:0;left:0;height:100%;width:100%;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:rgba(0,0,0,.5);animation:satisfaction-popup-fade .25s ease-in-out both}.satisfaction-popup{width:460px;margin:auto;box-shadow:0 4px 24px rgba(0,0,0,.2);border-radius:12px;padding:24px;background:#fff;animation:satisfaction-popup .5s ease-in-out both}.satisfaction-popup .nps .title{line-height:1;padding-bottom:20px;margin-bottom:20px;border-bottom:2px solid #e7e7e7}.satisfaction-popup .nps .items{display:flex;justify-content:space-between;text-transform:uppercase;font-size:10px}.satisfaction-popup .nps .items+.items{margin-top:12px}.satisfaction-popup .nps .items .button{width:30px;height:30px}.satisfaction-popup .nps .comment{padding-top:12px;margin-top:12px;border-top:1px solid #e7e7e7}.satisfaction-popup .nps .comment .button{margin-top:12px}.satisfaction-popup .nps .footer{padding-top:12px;margin-top:12px;justify-content:flex-end}.satisfaction-popup .thank-you{margin:0;text-align:center;font-size:18px}.satisfaction-popup .close{position:absolute;top:14px;right:12px}@keyframes totalsuite-presentation{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes totalsuite-presentation-reverse{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes totalsuite-backdrop{0%{opacity:0}to{opacity:1}}@keyframes totalsuite-backdrop-reverse{0%{opacity:1}to{opacity:0}}.totalsuite-backdrop{position:absolute;z-index:1;top:0;right:0;bottom:0;left:0;opacity:0;background:rgba(0,0,0,.5);animation:totalsuite-backdrop .35s ease-out forwards}.totalsuite-backdrop.is-closing{animation:totalsuite-backdrop-reverse .35s ease-out forwards}.totalsuite-presentation{position:absolute;z-index:2;bottom:0;top:0;left:0;height:100%;display:flex;flex-direction:column;transform:scale(0);transform-origin:bottom left;overflow-y:auto;animation:totalsuite-presentation .35s ease-out forwards;box-shadow:0 4px 24px rgba(0,0,0,.2);background:#fff}.totalsuite-presentation.is-closing{animation:totalsuite-presentation-reverse .35s ease-out forwards}.totalsuite-presentation>.header{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:36px 36px 0;background:linear-gradient(0deg,rgba(0,0,0,.035),hsla(0,0%,100%,0))}.totalsuite-presentation>.header .title{margin-top:auto}.totalsuite-presentation>.header .description{margin-bottom:24px}.totalsuite-presentation>.header .cover{width:350px;margin-top:auto}.totalsuite-presentation>.body{display:flex;flex-direction:column;flex:1 0}.totalsuite-presentation>.body>.product{display:flex;align-items:center;padding:24px;border-bottom:1px solid #e7e7e7;text-decoration:none;color:#444}.totalsuite-presentation>.body>.product .image{margin-right:20px;width:48px;height:48px}.totalsuite-presentation>.body>.product .name{color:#444;margin:0}.totalsuite-presentation>.body>.product .description{color:#a7a7a7;margin:0}.totalsuite-presentation>.body>.product .icon{margin-left:auto;color:transparent;transition:all .15s ease-in}.totalsuite-presentation>.body>.product:hover{background:#f9f9f9}.totalsuite-presentation>.body>.product:hover .icon{color:#0288d1}.totalsuite-presentation>.footer{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:24px}.totalsuite-presentation>.footer>.icon{font-size:36px;margin:24px 0}.totalsuite-presentation>.footer>.description{color:#777;margin:0}@keyframes feedback-collector{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}.feedback-collector{position:absolute;z-index:2;bottom:0;right:0;display:flex;flex-direction:column;transform:translateY(-100%);transform-origin:bottom center;animation:feedback-collector 1s ease-out forwards;box-shadow:0 4px 24px rgba(0,0,0,.2);background:#fff;width:350px;border-radius:4px 0 0 0}.feedback-collector>.header{padding:24px}.feedback-collector .title{color:#0288d1}.feedback-collector .description{margin:0}.feedback-collector .button-group{margin-top:24px}.feedback-collector .form{padding:24px;background:#fbfbfb}.feedback-collector .form-group:last-child{text-align:right}[pro-badge]{position:relative}[pro-badge] .pro-badge-inline{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:9999;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background:hsla(0,0%,100%,.5)}[pro-badge] .pro-badge-inline:after{content:"PRO";padding:4px 8px;border-radius:12px;font-size:12px;line-height:1;background:#0288d1;color:#fff;display:inline-block}feature-switch[pro-badge]{display:block}feature-switch[pro-badge] .pro-badge-inline{background:hsla(0,0%,100%,.25)}feature-switch[pro-badge] .pro-badge-inline:after{margin-right:20px;margin-left:auto}[activate-badge]{position:relative;margin-bottom:0}[activate-badge] .activate-badge-inline{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:9999;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background:hsla(0,0%,100%,.5)}[activate-badge] .activate-badge-inline:after{content:"Activation required";padding:4px 8px;border-radius:12px;font-size:12px;line-height:1;background:#fcb100;color:#fff;display:inline-block}[activate-badge]~.activate-notification{display:flex;margin:0 0 1rem;align-items:center;padding:.5rem .5rem .5rem 1rem;border-radius:0 0 4px 4px;background-color:#fff7e7}[activate-badge]~.activate-notification .activate-message{display:flex;align-items:center;font-size:.75rem;line-height:1.4;margin-bottom:0!important;margin-right:1rem;color:#4a422f}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}[activate-badge]~.activate-notification .activate-message .material-icons{animation:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear;margin-right:.5rem}[activate-badge]~.activate-notification .button{margin-left:auto}feature-switch[activate-badge]{display:block}feature-switch[activate-badge] .activate-badge-inline{background:hsla(0,0%,100%,.25)}feature-switch[activate-badge] .activate-badge-inline:after{margin-right:20px;margin-left:auto}feature-switch[activate-badge]~.activate-notification{margin:-1.5rem 0 1rem}upgrade-modal{display:block}.upgrade-modal-wrapper{position:fixed;z-index:9999999;top:0;right:0;left:0;bottom:0;height:100%;width:100%;overflow:auto;background:rgba(2,103,158,.98);animation:satisfaction-popup-fade .25s ease-in-out both}.upgrade-modal-wrapper .close.button{position:absolute;top:12px;right:12px;color:#fff;font-size:24px}.upgrade-modal{position:relative;width:860px;margin:auto;box-shadow:0 4px 24px rgba(0,0,0,.2);border-radius:12px;background:#fff;animation:satisfaction-popup .5s ease-in-out both}.upgrade-modal>.body .why{padding:36px}.upgrade-modal>.body .why .title{margin-bottom:36px}.upgrade-modal>.body .why .row .icon{display:flex;flex-direction:column;align-items:center;justify-content:center;width:54px;height:54px;border-radius:12px;background:#d3efff;color:#0288d1}.upgrade-modal>.body .why .row{align-items:center}.upgrade-modal>.body .why .row+.row{margin-top:24px}.upgrade-modal>.body .continue{padding:36px;border-radius:12px;box-shadow:0 1px 1px rgba(0,0,0,.06);background:#e8f7ff;margin:12px}.upgrade-modal>.body .continue .title{text-align:center}.upgrade-modal>.body .continue .price{font-size:18px;color:#0288d1;text-align:center}.upgrade-modal>.body .continue .form{padding:0 24px}.upgrade-modal>.body .continue .form:before{display:block;content:"";width:100px;border-bottom:1px solid #d3efff;margin:16px auto}.upgrade-modal>.body .continue .button{padding:24px}.upgrade-modal>.body .continue .gateway{display:flex;align-items:center;justify-content:center;padding:12px;margin-right:8px;color:#777;font-size:12px}.upgrade-modal>.body .continue .gateway .icon{font-size:140%;margin-right:12px;color:#ffb300}.upgrade-modal .review{margin:24px 0 0}.upgrade-modal .review .row{align-items:center}.upgrade-modal .review .image{width:40px;height:40px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;border-radius:50%;margin:0 12px}.upgrade-modal .review .position{font-size:12px;color:#a7a7a7}.upgrade-modal .review .content{position:relative;padding:24px;background:#f4f4f4;border-radius:12px;font-size:16px;line-height:1.35;color:#5b5b5b}.upgrade-modal .review .content:after{content:"";position:absolute;top:calc(100% - 5px);left:28px;width:10px;height:10px;background:#f4f4f4;transform:rotate(45deg)}.upgrade-modal .review .content .quote{position:absolute;top:-20px;right:0;font-size:48px;color:#c1c1c1;pointer-events:none}@keyframes pro-overlay{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes pro-overlay-ring{0%{box-shadow:0 0 0 0 rgba(2,136,209,.15),0 0 0 0 rgba(2,136,209,.25),0 2px 4px rgba(0,0,0,.1)}to{box-shadow:0 0 0 20px rgba(2,136,209,0),0 0 0 10px rgba(2,136,209,0),0 2px 4px rgba(0,0,0,.1)}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.pro-overlay-wrapper{position:relative}.pro-overlay{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:9999;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background:hsla(0,0%,100%,.5);overflow:hidden;animation:fade-in 1s ease-out both}.pro-overlay-content{align-items:center;width:500px;border-radius:12px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,.1);padding:24px;margin:auto;animation:pro-overlay 1s cubic-bezier(.4,0,.42,1.35) both,pro-overlay-ring 2s linear infinite forwards}.pro-overlay-content .title{color:#0288d1;margin:0}.pro-overlay-content .description{color:#8e8e8e}.pro-overlay-content .icon{font-size:36px;color:#0288d1}.pro-overlay-content .col-auto:first-child{padding-right:12px}.pro-overlay-content .col-auto:last-child{margin-left:auto}@keyframes activation-overlay{0%{opacity:0}to{opacity:1}}.activation-overlay{position:fixed;top:0;right:0;z-index:99999;width:100%;font-size:1rem;line-height:1.5;box-shadow:0 4px 24px rgba(0,0,0,.2);background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);height:100%;animation:support-overlay .35s ease-in-out forwards}.activation-overlay a{cursor:pointer}.activation-overlay .title{font-weight:500;margin-bottom:32px}.activation-overlay .title span{display:block;font-size:120%}.activation-overlay .help,.activation-overlay .unlink{display:block;margin:16px 0;font-size:14px;color:#8e8e8e;text-align:center}.activation-overlay .unlink{color:#f7654a}.activation-overlay .text-primary{color:#0288d1}.activation-overlay .text-success{color:#00c7ac}.activation-overlay .text-important{color:#f7654a}.activation-overlay .badge{display:inline-flex;justify-content:center;align-items:center;width:48px;height:48px;margin:0 auto 16px;border-radius:50%;background-color:#f9f9f9;color:#8e8e8e}.activation-overlay .badge.is-active{background-color:#00c7ac;color:#fff}.activation-overlay .badge.has-expired{background-color:#f7654a;color:#fff}.activation-message{display:block;margin-bottom:16px;align-items:center;padding:8px 12px;border-radius:8px;background-color:#f9f9f9}.activation-message p{font-size:14px;line-height:1.25;margin-bottom:0}.activation-message i{font-size:20px;margin-left:16px}.activation-message.has-error{background-color:#fff4ef}.activation-message.has-error i,.activation-message.has-error p{color:#f7654a}.activation-message.is-success{background-color:#e5fffb}.activation-message.is-success i,.activation-message.is-success p{color:#00c7ac}.activation-container{position:relative;display:flex;flex-direction:column;align-items:center;background-color:#fff;border:none;border-radius:1rem;width:100%;overflow:hidden;max-width:960px}.activation-container .close{position:absolute;top:12px;right:14px;color:#8e8e8e;text-decoration:none;opacity:.5;transition:opacity .5s;cursor:pointer}.activation-container .close:hover{opacity:1}.activation-content{padding:24px;flex-flow:column;justify-content:center;flex-grow:1;min-height:400px}.activation-content,.activation-footer{display:flex;align-items:center;width:100%}.activation-footer{position:relative;margin-top:auto;min-height:72px;border-top:1px solid #eee}.activation-footer .character,.activation-footer .copyright,.activation-footer .logo{position:relative;padding:12px 24px}.activation-footer .character,.activation-footer .logo{flex-basis:20%}.activation-footer .logo img{width:110px;opacity:.8}.activation-footer .character{align-self:stretch}.activation-footer .character img{position:absolute;bottom:-1px;right:24px}.activation-footer .copyright{flex-grow:1;font-size:13px;text-align:center;color:#c1c1c1}.activation-button{display:flex;width:100%;padding:8px 16px;height:48px}.activation-button:focus,.activation-button:hover{outline:none;color:#a7a7a7;background-color:#e7e7e7}.activation-button.-important{background:#f7654a;color:#fff}.activation-button.-important:focus,.activation-button.-important:hover{outline:none;background-color:#f65032}.activation-button.-important:active{background:#f7654a}.activation-button.-warning{background:#ffc107;color:#fff}.activation-button.-warning:focus,.activation-button.-warning:hover{outline:none;background-color:#edb100}.activation-button.-warning:active{background:#ffc107}.activation-link{display:flex;align-items:center;justify-content:center;padding:8px;text-align:center;color:#747474}.activation-link .material-icons{margin-right:4px;margin-left:-.5em}.activation-link:hover{text-decoration:none;color:#414141}.activation-form{min-width:40%;margin:0 auto;text-align:center}.activation-form label{margin-bottom:16px;color:#747474}.activation-form .activation-input{display:flex;align-items:center;padding:0 16px;border-radius:8px 8px 0 0;background-color:#f9f9f9}.activation-form .activation-input input{flex-grow:1;height:48px;margin-left:8px;border:none;outline:none;font-size:14px;color:#8e8e8e;background-color:transparent}.activation-form .activation-input i{color:#e7e7e7}.activation-form .activation-input~.activation-button{border-radius:0 0 8px 8px}#wpbody-content,.activation-overlay,.app-container,.attribute-item,.attribute-point,.attribute-point.-create,.attribute-point>.body,.button.-palette,.button.-preset,.card,.cards,.color-builder>.base,.color-picker,.color-picker>.base,.design-customizer>.content,.design-customizer>.content>.body,.documentation-card,.empty-state,.export-as,.feed-list>.item>.thumbnail.-initial,.insight-item,.insights .card,.integrations-manager,.integrations-manager>.content,.loading-state,.main-navigation>.menu>.menu-item,.module-card,.module-card.-install .upload,.module-card>.operation,.onboarding-window .wizard>.row>.content>.body,.onboarding-window .wizard>.state,.onboarding-window introduction .introduction,.options-panel,.premium-support,.progress-steps>.step>.number,.rating-dialog,.scale-point,.settings-tabs,.support-overlay,.symbol-designer,.symbol-designer>.symbol,.template-picker,.upgrade-modal-wrapper,.upgrade-modal>.body .continue,.upgrade-to-pro .body,.widget-card,.widget-card>.body,.widget-card>.operation,.widget-editor,.wizard>.row>.content>.body,.wizard>.state,.wrapper-layout,satisfaction-popup,wrapper-layout{display:flex;flex-direction:column}.popup-editor{display:block;height:100%}.navigation .extension-presentation{flex-direction:column;padding:12px 0}.navigation .extension-presentation>.name{color:#0288d1;margin:0}.navigation .extension-presentation>.version{color:#8e8e8e}.shadow-preview{display:block;min-height:100px;margin-bottom:12px;border:1px solid #e7e7e7;border-radius:4px;cursor:pointer}.shadow-preview.-regular{box-shadow:0 3px rgba(0,0,0,.05)}.shadow-preview.-large{box-shadow:0 5px 10px rgba(0,0,0,.1)}.shadow-preview.-active{border-color:#0288d1}#wpbody-content,.activation-overlay,.app-container,.attribute-item,.attribute-point,.attribute-point.-create,.attribute-point>.body,.button.-palette,.button.-preset,.card,.cards,.color-builder>.base,.color-picker,.color-picker>.base,.design-customizer>.content,.design-customizer>.content>.body,.documentation-card,.empty-state,.export-as,.feed-list>.item>.thumbnail.-initial,.insight-item,.insights .card,.integrations-manager,.integrations-manager>.content,.loading-state,.main-navigation>.menu>.menu-item,.module-card,.module-card.-install .upload,.module-card>.operation,.onboarding-window .wizard>.row>.content>.body,.onboarding-window .wizard>.state,.onboarding-window introduction .introduction,.options-panel,.premium-support,.progress-steps>.step>.number,.rating-dialog,.scale-point,.settings-tabs,.support-overlay,.symbol-designer,.symbol-designer>.symbol,.template-picker,.upgrade-modal-wrapper,.upgrade-modal>.body .continue,.upgrade-to-pro .body,.widget-card,.widget-card>.body,.widget-card>.operation,.widget-editor,.wizard>.row>.content>.body,.wizard>.state,.wrapper-layout,satisfaction-popup,wrapper-layout{display:flex;flex-direction:column}.attribute-item>.header,.attribute-point>.toolbar,.button.-palette>.palette,.color-builder,.design-customizer,.design-customizer>.content>.footer,.feature-switch>.toggle,.label,.main-tabs,.main-tabs>.left,.module-activation-overlay,.onboarding-window .wizard>.row>.content>.footer,.onboarding-window finish .social-icons,.pro-overlay,.satisfaction-popup .nps .footer,.scale-points>.controller,.settings-panel,.settings-tabs>.item,.status-bar>.content,.template-picker .item,.widget-editor .actions,.widget-preview>.attribute>.points,[activate-badge] .activate-badge-inline,[pro-badge] .pro-badge-inline{display:flex;flex-direction:row}.activation-overlay,.attribute-point.-create,.button.-palette,.button.-preset,.color-builder>.base,.color-picker>.base,.design-customizer>.content>.body,.documentation-card,.empty-state,.export-as,.feed-list>.item>.thumbnail.-initial,.insight-item,.loading-state,.module-card.-install .upload,.module-card>.operation,.onboarding-window .wizard>.state,.premium-support,.progress-steps>.step>.number,.rating-dialog,.scale-point,.support-overlay,.symbol-designer,.symbol-designer>.symbol,.upgrade-modal>.body .continue,.upgrade-to-pro .body,.widget-card,.widget-card>.body,.widget-card>.operation,.wizard>.state,satisfaction-popup{align-items:center;justify-content:center}.attribute-point>.body{justify-content:center}.button.-palette>.palette,.module-activation-overlay,.onboarding-window finish .social-icons,.pro-overlay,.widget-editor .actions,.widget-preview>.attribute>.points,[activate-badge] .activate-badge-inline,[pro-badge] .pro-badge-inline{align-items:center;justify-content:center}.color-builder,.scale-points>.controller,.settings-tabs>.item,.status-bar>.content,.template-picker .item{align-items:center}@keyframes skeleton-shine{0%{background-position-x:-800px}to{background-position-x:800px}}.feed-list.-skeleton,.insights-list.-skeleton,.module-card.-skeleton,.widget-card.-skeleton{position:relative}.feed-list.-skeleton:after,.insights-list.-skeleton:after,.module-card.-skeleton:after,.widget-card.-skeleton:after{position:absolute;content:"";width:100%;height:100%;top:0;right:0;bottom:0;left:0;border-radius:4px;background:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.75) 50%,hsla(0,0%,100%,0));background-repeat:no-repeat;animation:skeleton-shine 1.6s linear infinite}.feed-list.-skeleton>.item .title,.module-card.-skeleton>.body>.name{background:#e7e7e7;border-radius:4px;width:65%;height:20px;margin-bottom:8px}.feed-list.-skeleton>.item .excerpt,.module-card.-skeleton>.body>.description:after,.module-card.-skeleton>.body>.description:before{content:"";display:block;background:#f4f4f4;border-radius:4px;margin-bottom:8px;width:45%;height:10px}.feed-list.-skeleton>.item .excerpt:last-child,.module-card.-skeleton>.body>.description:last-child:after,.module-card.-skeleton>.body>.description:last-child:before{margin-top:8px;margin-bottom:0}.insights-list.-skeleton .insight-item>.name,.insights-list.-skeleton .insight-item>.value,.module-card.-skeleton>.body>.meta>*{background:#f9f9f9;border-radius:4px;width:40%;height:10px}.feed-list.-skeleton>.item .thumbnail{background:#f9f9f9;border-radius:4px}.widget-card.-skeleton>.icon{width:48px;height:48px;border-radius:50%;background:#e7e7e7}.widget-card.-skeleton>.title{height:20px;width:160px;border-radius:20px;background:#e7e7e7}.cards,.integrations-manager>.content{height:100%}.cards>.row,.integrations-manager>.content>.row{flex:1;height:100%}.cards>.row .card,.cards>.row card,.integrations-manager>.content>.row .card,.integrations-manager>.content>.row card{height:100%}.cards>.row .card>.body,.cards>.row .insights .card>.body,.integrations-manager>.content>.row .card>.body,.integrations-manager>.content>.row .insights .card>.body{overflow-y:auto}.radio{position:relative;padding-left:1.5rem;line-height:1.33}.radio input[type=radio]{position:absolute;top:0;left:0;opacity:0}.radio span{display:inline-block}.radio span:after,.radio span:before{content:"";position:absolute;left:0;width:20px;height:20px}.radio span:before{width:18px;height:18px;background-color:#eee;border-radius:50%}.radio span:after{top:4px;left:4px;width:10px;height:10px;background-color:#fff;border-radius:50%;transform:scale(0);transition:transform .3s ease-in}.radio input[type=radio]:checked~span:before{background-color:#0288d1}.radio input[type=radio]:checked~span:after{transform:scale(1)}.color-label{display:inline-block;margin-right:.5em;border-radius:50%;width:12px;height:12px;vertical-align:middle;background-color:#eee}@media screen and (min-width:1024px){.-flex{display:flex;flex-shrink:1;justify-content:center;align-items:center}}.insights{display:flex;color:#8e8e8e;min-height:100%}.insights [class^=col-]{align-self:stretch}.insights .card{height:100%}.insights .card-content,.insights .card-footer,.insights .card-header{padding:2em}.insights .card-header{border-bottom:1px solid #eee}.insights .card-content{position:relative}.insights .card-footer{margin-top:auto;border-top:1px solid #eee}.insights .title{color:#0288d1;margin-bottom:.5rem}.insights-list{display:block;list-style:none;padding:0;margin:0 0 1.5rem}.insights-list-item{display:flex;align-content:center;justify-content:space-between;margin-bottom:1em}.insights-table{table-layout:fixed;width:100%;border-collapse:collapse;border:none}.insights-table td,.insights-table th{border:none;text-align:center}.insights-table th{font-weight:400;padding:1.5em 1em 1.25em;color:#5b5b5b}.insights-table td{padding:.5em 1em}.insights-table thead tr{border-bottom:1px solid #eee}.insights-table tbody tr:first-child td{padding-top:2em}.insights-table tbody tr td:first-child,.insights-table tbody tr th:first-child,.insights-table thead tr td:first-child,.insights-table thead tr th:first-child{text-align:left;padding-left:2em}.insights-table tbody tr td:last-child,.insights-table tbody tr th:last-child,.insights-table thead tr td:last-child,.insights-table thead tr th:last-child{text-align:right;padding-right:2em;white-space:nowrap}.insights-table tbody tr:first-child .color-label{background-color:#dd3a36}.insights-table tbody tr:nth-child(2) .color-label{background-color:#ff812a}.insights-table tbody tr:nth-child(3) .color-label{background-color:#ffbc1a}.insights-table tbody tr:nth-child(4) .color-label{background-color:#99b72c}.insights-table tbody tr:nth-child(5) .color-label{background-color:#39a23d}.insights-table tbody tr:nth-child(6) .color-label{background-color:#673ab7}.insights-table tbody tr:nth-child(7) .color-label{background-color:#4c2eb5}.insights-table tbody tr:nth-child(8) .color-label{background-color:#0376b0}.insights-table tbody tr:nth-child(9) .color-label{background-color:#0ea0b0}.insights-table tbody tr:nth-child(10) .color-label{background-color:#455a64}.insights-table tbody tr:nth-child(11) .color-label{background-color:#607d8b}.insights-table tbody tr:nth-child(12) .color-label{background-color:#795548}.insights-table tbody tr:nth-child(13) .color-label{background-color:#47528d}.insights-table .title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.insights-number{display:block;text-align:center;padding:24px}.insights-number-value{display:block;margin-bottom:.5rem;font-size:2.25em;font-weight:500;line-height:1;color:#0288d1}.chart-container{position:relative;width:100%}.chart-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.insights-attributes .card-header{display:flex;flex-direction:column;justify-content:center;text-align:center}.insights-attributes .card-header .material-icons{display:block;margin:24px 0;font-size:128px}.insights-users{position:relative;display:flex;justify-content:center;align-items:center}.insights-users .insights-number{padding:0}.insights-users .insights-number+.insights-number{margin-top:1em}.insights-users .insights-number-value{font-size:2em;margin-bottom:.25rem}.insights-users .insights-number:first-of-type .insights-number-value{color:#673ab7!important}.insights-users .insights-number:last-of-type .insights-number-value{color:#39a23d}.insights-users .insights-users-numbers{position:absolute;z-index:0;top:50%;left:50%;transform:translate(-50%,-50%)}.insights-users-chart{position:relative;z-index:2}.insights-users-chart .chartjs-render-monitor{width:100%!important}.insights-overview .card-header .insights-columns-item{flex-grow:0;text-align:left}.insights-overview.card>.card-content,.insights .insights-overview.card>.card-content{padding-bottom:0}.insights-overview .card-footer{padding:0}.insights-overview .card-footer .insights-columns-item{padding:2em}.insights-overview .chart-content{top:auto;bottom:0;transform:translate(-50%)}.insights-overview .chart-content .insights-number-value{font-size:3.5em;color:#607d8b}.insights-timeline .card-content{padding-bottom:0}.insights-timeline .insights-number{padding:1em;margin-bottom:2rem;background-color:#f9f9f9;border-radius:6px}'],encapsulation:3}),t}(),m=i("Valr"),v=i("qIvi"),w=i("IKo0"),x=i("7Cbv"),y=i("f4Ni"),k=i("cUzu"),S=function(){function t(t,e){this.httpClient=t,this.config=e,this.creating$=new y.a(!1),this.updating$=new y.a(!1),this.deleting$=new y.a(!1),this.getting$=new y.a(!1),this.fetching$=new y.a(!1)}return t.prototype.create=function(t){return this.creating$.start(),this.httpClient.post("admin/widget",t).toPromise().finally(this.creating$.finish())},t.prototype.update=function(t,e){return this.updating$.start(),this.httpClient.put("admin/widget/"+t,e).toPromise().finally(this.updating$.finish())},t.prototype.enabled=function(t,e){return this.updating$.start(),this.httpClient.patch("admin/widget/enable/"+t,{enabled:e}).toPromise().finally(this.updating$.finish())},t.prototype.delete=function(t){return this.deleting$.start(),this.httpClient.delete("admin/widget/"+t).toPromise().finally(this.deleting$.finish())},t.prototype.trash=function(t){return this.deleting$.start(),this.httpClient.delete("admin/widget/trash/"+t).toPromise().finally(this.deleting$.finish())},t.prototype.restore=function(t){return this.deleting$.start(),this.httpClient.patch("admin/widget/restore/"+t,{}).toPromise().finally(this.deleting$.finish())},t.prototype.get=function(t){var e=this;return this.getting$.start(),this.httpClient.get("admin/widget/"+t).toPromise().then((function(t){return t.data=Object(l.g)(e.getDefaultWidget(),t.data),t.data.attributes=t.data.attributes.map((function(t){return Object(l.g)(e.getFreshAttribute(t.type),t)})),t})).finally(this.getting$.finish())},t.prototype.reset=function(t){return this.deleting$.start(),this.httpClient.patch("admin/widget/reset/"+t,{}).toPromise().finally(this.deleting$.finish())},t.prototype.all=function(){return this.fetching$.start(),this.httpClient.get("admin/widget").toPromise().finally(this.fetching$.finish())},t.prototype.getDefaultWidget=function(){return Object(l.g)({},this.config.defaults)},t.prototype.getPresets=function(){return Object(l.g)({},this.config.presets)},t.prototype.getFreshAttributeFromPreset=function(t){var e=this;return t.data.map((function(t){return(t=Object(l.g)(e.getFreshAttribute(t.type),t)).uid=Object(x.a)(),t.points.forEach((function(t){return t.uid=Object(x.a)()})),t}))},t.prototype.getFreshAttribute=function(t){return{uid:Object(x.a)(),type:t,label:"",resultsFormat:"{{rated}}",comment:{enabled:!1,thresholdPoint:"",message:""},points:[]}},t.prototype.getFreshAttributePoint=function(){return{uid:Object(x.a)(),symbol:{type:"text",default:"\u2b50",active:"",filter:""},label:"",value:1}},t.prototype.getEntities=function(){return Object(l.g)({},this.config.entities)},t.prototype.duplicateModel=function(t){var e,i,n=JSON.stringify(t),r=new Set(n.match(/[\da-f]{8}-([\da-f]{4}-){3}[\da-f]{12}/gi)).values();try{for(var a=Object(o.h)(r),s=a.next();!s.done;s=a.next())n=n.replaceAll(s.value,Object(x.a)())}catch(c){e={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}return JSON.parse(n)},t.\u0275fac=function(e){return new(e||t)(n.Wb(k.b),n.Wb(d))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),R=i("ioF9");function A(t,e){1&t&&n.Nb(0,"wizard-basics")}function T(t,e){1&t&&n.Nb(0,"wizard-design")}function D(t,e){1&t&&n.Nb(0,"wizard-behaviours")}function C(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",19),n.ac("click",(function(){return n.tc(i),n.ec().previousStep()})),n.Sb(1,"span",20),n.Dc(2,"arrow_back"),n.Rb(),n.Sb(3,"span"),n.Dc(4,"Previous"),n.Rb(),n.Rb()}}function _(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",21),n.ac("click",(function(){return n.tc(i),n.ec().nextStep()})),n.Sb(1,"span"),n.Dc(2,"Continue"),n.Rb(),n.Sb(3,"span",20),n.Dc(4,"arrow_forward"),n.Rb(),n.Rb()}}function M(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",21),n.ac("click",(function(){return n.tc(i),n.ec().save()})),n.Sb(1,"span"),n.Dc(2,"Finish"),n.Rb(),n.Rb()}}function O(t,e){1&t&&(n.Sb(0,"div",22),n.Nb(1,"loading-indicator"),n.Sb(2,"p",23),n.Dc(3,"Your awesome widget will be ready in a sec..."),n.Rb(),n.Rb())}function E(t,e){1&t&&(n.Sb(0,"div",24),n.Sb(1,"span",25),n.Dc(2,"\ud83c\udf89"),n.Rb(),n.Sb(3,"h3",9),n.Dc(4,"Done!"),n.Rb(),n.Sb(5,"p",23),n.Dc(6,"Your widget has been created and we're taking you to it..."),n.Rb(),n.Rb())}var I=function(){function t(t,e,i,n){this.widgetsService=t,this.statusService=e,this.router=i,this.route=n,this.model=Object.assign({},this.widgetsService.getDefaultWidget()),this.IS_CREATING=this.widgetsService.creating$,this.IS_CREATED=!1,this.currentStep=1}return t.prototype.save=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e,i=this;return Object(o.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.widgetsService.create(this.model)];case 1:if(!(t=n.sent()).success)throw new Error(t.error||"Something went wrong, please try again.");return this.IS_CREATED=!0,setTimeout((function(){return Object(o.b)(i,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:return[4,this.close()];case 1:return e.sent(),[4,this.router.navigate(["/widgets/editor",t.data.uid])];case 2:return e.sent(),[2]}}))}))}),3e3),[3,3];case 2:return e=n.sent(),this.statusService.error({message:Object(l.e)(e),modal:!0}),[3,3];case 3:return[2]}}))}))},t.prototype.isStep=function(t){return this.currentStep==t},t.prototype.nextStep=function(){this.currentStep++},t.prototype.previousStep=function(){this.currentStep--},t.prototype.gotoStep=function(t){this.currentStep=t},t.prototype.isStepCompleted=function(t){return this.currentStep>t},t.prototype.close=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return[2,this.router.navigate(["",{outlets:{overlay:null}}])]}))}))},t.\u0275fac=function(e){return new(e||t)(n.Mb(S),n.Mb(R.a),n.Mb(a.d),n.Mb(a.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["widget-wizard"]],decls:45,vars:25,consts:[["screen","wizard"],[1,"wizard"],[1,"row","no-gutters"],[1,"col-md-auto","side"],[1,"illustration","-fluid",3,"src"],[1,"progress-steps"],[1,"step",3,"click"],[1,"number"],[1,"body"],[1,"title"],[1,"description"],[1,"col-md","content"],["type","button",1,"close","button","-outline","-icon","material-icons",3,"click"],[4,"ngIf"],[1,"footer"],["type","button","class","button -outline",3,"click",4,"ngIf"],["type","button","class","button -primary",3,"click",4,"ngIf"],["class","state is-loading",4,"ngIf"],["class","state is-leaving",4,"ngIf"],["type","button",1,"button","-outline",3,"click"],[1,"icon","material-icons"],["type","button",1,"button","-primary",3,"click"],[1,"state","is-loading"],[1,"chiller"],[1,"state","is-leaving"],[1,"icon"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"aside",3),n.Nb(4,"img",4),n.fc(5,"baseUrl"),n.Sb(6,"div",5),n.Sb(7,"div",6),n.ac("click",(function(){return e.gotoStep(1)})),n.Sb(8,"span",7),n.Dc(9,"1"),n.Rb(),n.Sb(10,"div",8),n.Sb(11,"h3",9),n.Dc(12,"Basics"),n.Rb(),n.Sb(13,"p",10),n.Dc(14,"Name your widget and choose a type."),n.Rb(),n.Rb(),n.Rb(),n.Sb(15,"div",6),n.ac("click",(function(){return e.gotoStep(2)})),n.Sb(16,"span",7),n.Dc(17,"2"),n.Rb(),n.Sb(18,"div",8),n.Sb(19,"h3",9),n.Dc(20,"Look & feel"),n.Rb(),n.Sb(21,"p",10),n.Dc(22,"Control how the widget should look and feel."),n.Rb(),n.Rb(),n.Rb(),n.Sb(23,"div",6),n.ac("click",(function(){return e.gotoStep(3)})),n.Sb(24,"span",7),n.Dc(25,"3"),n.Rb(),n.Sb(26,"div",8),n.Sb(27,"h3",9),n.Dc(28,"Behaviours"),n.Rb(),n.Sb(29,"p",10),n.Dc(30,"Control the behaviours of the widget."),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(31,"main",11),n.Sb(32,"button",12),n.ac("click",(function(){return e.close()})),n.Dc(33,"close"),n.Rb(),n.Sb(34,"div",8),n.Bc(35,A,1,0,"wizard-basics",13),n.Bc(36,T,1,0,"wizard-design",13),n.Bc(37,D,1,0,"wizard-behaviours",13),n.Rb(),n.Sb(38,"div",14),n.Bc(39,C,5,0,"button",15),n.Bc(40,_,5,0,"button",16),n.Bc(41,M,3,0,"button",16),n.Rb(),n.Rb(),n.Rb(),n.Bc(42,O,4,0,"div",17),n.fc(43,"async"),n.Bc(44,E,7,0,"div",18),n.Rb()),2&t&&(n.Ab(4),n.kc("src",n.gc(5,21,"assets/images/wizard-illustration.svg"),n.vc),n.Ab(3),n.Eb("is-current",e.isStep(1))("is-completed",e.isStepCompleted(1)),n.Ab(8),n.Eb("is-current",e.isStep(2))("is-completed",e.isStepCompleted(2)),n.Ab(8),n.Eb("is-current",e.isStep(3))("is-completed",e.isStepCompleted(3)),n.Ab(12),n.kc("ngIf",e.isStep(1)),n.Ab(1),n.kc("ngIf",e.isStep(2)),n.Ab(1),n.kc("ngIf",e.isStep(3)),n.Ab(2),n.kc("ngIf",!e.isStep(1)),n.Ab(1),n.kc("ngIf",!e.isStep(3)),n.Ab(1),n.kc("ngIf",e.isStep(3)),n.Ab(1),n.kc("ngIf",n.gc(43,23,e.IS_CREATING)),n.Ab(2),n.kc("ngIf",e.IS_CREATED))},encapsulation:2}),t}(),j=function(){function t(){this._tasks={}}return Object.defineProperty(t.prototype,"tasks",{get:function(){return Object(l.b)("totalrating.workflow.tasks",this._tasks)},enumerable:!0,configurable:!0}),t.prototype.hasTasks=function(){return Object.keys(this.tasks).length>0},t.prototype.registerTaskSettingsComponent=function(t,e){this._tasks[t]=e},t.prototype.getTaskSettings=function(t){return t?this.tasks[t.id]:null},t.prototype.getFreshCondition=function(){return{attributeUid:"",pointUid:"",operator:"equals"}},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),z=i("6pFl"),P=i("ud0A"),N=i("3IF1"),B=i("QJY3"),F=i("+sP0"),U=i("3mJB");function L(t,e){1&t&&n.Nb(0,"loading-state",5)}var G=function(){return{action:"save-widget",target:"widget"}};function $(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",15),n.ac("click",(function(){return n.tc(i),n.ec(2).save()})),n.fc(1,"async"),n.Dc(2,"Save "),n.Rb()}if(2&t){var o=n.ec(2);n.kc("clickTracker",n.nc(4,G))("disabled",n.gc(1,2,o.IS_UPDATING))}}function V(t,e){1&t&&n.Nb(0,"loading-indicator")}var q=function(){return{action:"preview-widget",target:"widgets"}};function H(t,e){if(1&t){var i=n.Tb();n.Sb(0,"main-tabs",6),n.Sb(1,"div",7),n.Sb(2,"label",8),n.Sb(3,"input",9),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().widget.enabled=t})),n.Rb(),n.Sb(4,"span",10),n.Dc(5),n.Rb(),n.Rb(),n.Sb(6,"a",11),n.Dc(7,"Preview"),n.Rb(),n.Bc(8,$,3,5,"button",12),n.fc(9,"async"),n.Bc(10,V,1,0,"loading-indicator",13),n.fc(11,"async"),n.Rb(),n.Rb(),n.Sb(12,"div",14),n.Nb(13,"router-outlet"),n.Rb()}if(2&t){var o=n.ec();n.kc("tabs",o.editorTabs),n.Ab(3),n.kc("ngModel",o.widget.enabled),n.Ab(2),n.Ec(o.widget.enabled?"Enabled":"Disabled"),n.Ab(1),n.kc("href",o.widget.url,n.vc)("clickTracker",n.nc(11,q)),n.Ab(2),n.kc("ngIf",!n.gc(9,7,o.IS_UPDATING)),n.Ab(2),n.kc("ngIf",n.gc(11,9,o.IS_UPDATING))}}var W=function(){function t(t,e,i,n,o){this.config=t,this.widgetsService=e,this.statusService=i,this.route=n,this.workflowsService=o,this.IS_GETTING=this.widgetsService.getting$,this.IS_UPDATING=this.widgetsService.updating$,this.editorTabs=[];var r=[{name:"Configure",route:"configuration"},{name:"Design",route:"design"},{name:"Integrate",route:"integration"},{name:"Browse",route:"ratings"},{name:"Export",route:"export"}];o.hasTasks()&&r.push({name:"Workflow",route:"workflow"}),this.editorTabs=Object(l.b)("totalrating.editor.tabs",r)}return t.prototype.ngOnInit=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return this.subscription=this.route.params.subscribe(this.watchWidgetUid.bind(this)),[2]}))}))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.watchWidgetUid=function(t){return Object(o.b)(this,void 0,void 0,(function(){var e,i,n=this;return Object(o.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=this,[4,this.widgetsService.get(t.widgetUid)];case 1:return e.widget=o.sent().data,this.widget.settings.limitations.hasOwnProperty("user")||(this.widget.settings.limitations.user={enabled:!1,options:{specificRoles:!1,roles:{}}},this.config.roles.forEach((function(t){n.widget.settings.limitations.user.options.roles[t.id]=!1}))),[3,3];case 2:return i=o.sent(),this.statusService.error({message:Object(l.e)(i),modal:!0}),[3,3];case 3:return[2]}}))}))},t.prototype.save=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e;return Object(o.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.widgetsService.update(this.widget.uid,this.widget)];case 1:if(!(t=i.sent()).success)throw new Error(t.error||"Something went wrong, please try again.");return this.statusService.success({message:"Changes were been saved."}),[3,3];case 2:return e=i.sent(),this.statusService.error({message:Object(l.e)(e),modal:!0}),[3,3];case 3:return[2]}}))}))},t.\u0275fac=function(e){return new(e||t)(n.Mb(d),n.Mb(S),n.Mb(R.a),n.Mb(a.a),n.Mb(j))},t.\u0275cmp=n.Gb({type:t,selectors:[["editor"]],decls:7,vars:4,consts:[["screen","widget-editor"],[1,"widget-editor"],["description","Retrieving the widget...",4,"ngIf","ngIfElse"],["main",""],["name","rating"],["description","Retrieving the widget..."],[1,"navigation",3,"tabs"],["slot","side",1,"actions"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],[1,"label"],["target","_blank",1,"button","-alt","-white",3,"href","clickTracker"],["type","button","class","button -primary",3,"clickTracker","disabled","click",4,"ngIf"],[4,"ngIf"],[1,"content"],["type","button",1,"button","-primary",3,"clickTracker","disabled","click"]],template:function(t,e){if(1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Bc(2,L,1,0,"loading-state",2),n.fc(3,"async"),n.Bc(4,H,14,12,"ng-template",null,3,n.Cc),n.Rb(),n.Nb(6,"router-outlet",4)),2&t){var i=n.rc(5);n.Ab(2),n.kc("ngIf",!e.widget||n.gc(3,2,e.IS_GETTING))("ngIfElse",i)}},directives:[z.a,m.t,a.i,P.a,N.a,B.a,B.n,B.q,F.a,U.a],pipes:[m.b],encapsulation:2}),t}();function Y(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Sb(2,"label",2),n.Dc(3,"Name"),n.Rb(),n.Sb(4,"input",3),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().widget.name=t})),n.Rb(),n.Rb(),n.Sb(5,"div",1),n.Sb(6,"label",4),n.Dc(7,"Title"),n.Rb(),n.Sb(8,"input",5),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().widget.title=t})),n.Rb(),n.Rb(),n.Sb(9,"div",1),n.Sb(10,"label",6),n.Dc(11,"Description"),n.Rb(),n.Sb(12,"textarea",7),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().widget.description=t})),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(4),n.kc("ngModel",o.widget.name),n.Ab(4),n.kc("ngModel",o.widget.title),n.Ab(4),n.kc("ngModel",o.widget.description)}}var Q=function(){function t(){this.propagateChange=function(t){}}return Object.defineProperty(t.prototype,"widget",{get:function(){return this._widget},set:function(t){this._widget=t,this.propagateChange(this._widget)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.widget=t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["configuration-general"]],features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group"],["for","widget_name",1,"label"],["type","text","id","widget_name","placeholder","",1,"input",3,"ngModel","ngModelChange"],["for","widget_title",1,"label"],["type","text","id","widget_title","name","widget_title","placeholder","",1,"input",3,"ngModel","ngModelChange"],["for","widget_description",1,"label"],["id","widget_description","name","widget_description","placeholder","","rows","4",1,"input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&n.Bc(0,Y,13,3,"ng-container",0),2&t&&n.kc("ngIf",e.widget)},directives:[m.t,B.c,B.n,B.q],encapsulation:2}),t}(),J=i("ZwxD"),K=function(){function t(){this.onCreate=new n.n}return t.prototype.create=function(){this.onCreate.emit()},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["count-point-creation"]],outputs:{onCreate:"onCreate"},decls:5,vars:0,consts:[[1,"attribute-point","-create",3,"click"],[1,"icon","material-icons"],[1,"title"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.ac("click",(function(){return e.create()})),n.Sb(1,"span",1),n.Dc(2,"add_circle"),n.Rb(),n.Sb(3,"h4",2),n.Dc(4,"New Point"),n.Rb(),n.Rb())},encapsulation:2}),t}(),X=i("9Tw3");function Z(t,e){if(1&t&&n.Nb(0,"img",9),2&t){var i=n.ec(2);n.kc("src",i.symbol.default,n.vc)}}function tt(t,e){if(1&t&&(n.Sb(0,"span",10),n.Dc(1),n.Rb()),2&t){var i=n.ec(2);n.Ab(1),n.Ec(i.symbol.default)}}function et(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",15),n.Sb(1,"button",16),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec(3).setTextSymbol(t)})),n.Dc(2),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit;n.Ab(2),n.Fc(" ",o," ")}}function it(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",11),n.Bc(2,et,3,1,"div",12),n.Sb(3,"div",13),n.Sb(4,"input",14),n.ac("input",(function(t){return n.tc(i),n.ec(2).setCustomTextSymbol(t.target.value)}))("change",(function(t){return n.tc(i),n.ec(2).setCustomTextSymbol(t.target.value)}))("keyup.enter",(function(t){return n.tc(i),n.ec(2).setCustomTextSymbol(t.target.value)})),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec(2);n.Ab(2),n.kc("ngForOf",o.textSymbolsPreset)}}function nt(t,e){if(1&t){var i=n.Tb();n.Sb(0,"input",26),n.ac("change",(function(t){return n.tc(i),n.ec(3).handleUpload(t)})),n.Rb()}}function ot(t,e){1&t&&(n.Sb(0,"span"),n.Dc(1,"Uploading..."),n.Rb())}function rt(t,e){1&t&&(n.Sb(0,"span"),n.Dc(1,"Drop or select image"),n.Rb())}function at(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",17),n.Sb(2,"div",18),n.Sb(3,"label",19),n.Dc(4,"Image URL"),n.Rb(),n.Sb(5,"div",20),n.Sb(6,"div",13),n.Nb(7,"input",21,22),n.Rb(),n.Sb(9,"div",15),n.Sb(10,"button",23),n.ac("click",(function(){n.tc(i);var t=n.rc(8);return n.ec(2).setUrlSymbol(t.value)})),n.Dc(11," Apply "),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(12,"div",18),n.Sb(13,"div",24),n.Bc(14,nt,1,0,"input",25),n.Bc(15,ot,2,0,"span",0),n.Bc(16,rt,2,0,"span",0),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec(2);n.Ab(7),n.kc("value",o.symbol.type===o.URL_SYMBOL?o.symbol.default:null),n.Ab(6),n.Eb("is-uploading",o.isUploading()),n.Ab(1),n.kc("ngIf",!o.isUploading()),n.Ab(1),n.kc("ngIf",o.isUploading()),n.Ab(1),n.kc("ngIf",!o.isUploading())}}var st=function(t){return[t]};function ct(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Bc(2,Z,1,1,"img",2),n.Bc(3,tt,2,1,"span",3),n.Sb(4,"div",4),n.Sb(5,"button",5),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.togglePanel(t.TEXT_PANEL)})),n.Dc(6," emoji_emotions "),n.Rb(),n.Sb(7,"button",6),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.togglePanel(t.URL_PANEL)})),n.Dc(8," image "),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"div",7),n.Sb(10,"button",8),n.ac("click",(function(){return n.tc(i),n.ec().closePanel()})),n.Dc(11,"close"),n.Rb(),n.Bc(12,it,5,1,"ng-container",0),n.Bc(13,at,17,6,"ng-container",0),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(1),n.kc("ngClass",n.oc(9,st,"is-"+o.symbol.type)),n.Ab(1),n.kc("ngIf",o.symbol.type==o.URL_SYMBOL),n.Ab(1),n.kc("ngIf",o.symbol.type==o.TEXT_SYMBOL),n.Ab(2),n.kc("ngClass",n.oc(11,st,o.symbol.type==o.TEXT_SYMBOL?"-outline -primary":"")),n.Ab(2),n.kc("ngClass",n.oc(13,st,o.symbol.type==o.URL_PANEL?"-outline -primary":"")),n.Ab(2),n.Eb("is-open",o.isPanelOpen()),n.Ab(3),n.kc("ngIf",o.isPanelOpen(o.TEXT_SYMBOL)),n.Ab(1),n.kc("ngIf",o.isPanelOpen(o.URL_PANEL))}}var lt=function(){function t(t){var e;this.mediaService=t,this.propagateChange=function(t){},this.TEXT_SYMBOL="text",this.URL_SYMBOL="url",this.TEXT_PANEL=this.TEXT_SYMBOL,this.URL_PANEL=this.URL_SYMBOL,this.currentPanel=null,this.textSymbolsPreset=["\ud83d\udc4d","\ud83d\udc4e","\ud83d\ude41","\ud83d\ude10","\ud83d\ude42","\ud83d\ude00","\ud83e\udd29","\ud83d\ude12","\ud83d\ude31","\ud83d\ude20","\u2764\ufe0f","\ud83d\udc94","\ud83d\ude4c","\ud83d\udc4f","\ud83d\udc4c","\u2714\ufe0f","\u274c","\ud83d\udc51","\ud83c\udfa9","\u2b50"],this.uploading=!1,this.symbolDesignerClasses=["is-"+((null===(e=this.symbol)||void 0===e?void 0:e.type)||this.TEXT_SYMBOL)]}return Object.defineProperty(t.prototype,"symbol",{get:function(){return this._symbol},set:function(t){this._symbol=t,this.propagateChange(this._symbol)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.symbol=t)},t.prototype.togglePanel=function(t){document.dispatchEvent(new Event("click")),this.currentPanel=this.currentPanel===t?null:t},t.prototype.isPanelOpen=function(t){return void 0===t&&(t=null),null===t?Boolean(this.currentPanel):this.currentPanel===t},t.prototype.closePanel=function(){this.currentPanel=null},t.prototype.setTextSymbol=function(t){this.symbol.type=this.TEXT_SYMBOL,this.symbol.default=t.trim(),this.closePanel()},t.prototype.setCustomTextSymbol=function(t){t&&(this.setTextSymbol(t),this.closePanel())},t.prototype.setUrlSymbol=function(t){t.trim()&&(this.symbol.type=this.URL_SYMBOL,this.symbol.default=t.trim()),this.closePanel()},t.prototype.isUploading=function(){return this.uploading},t.prototype.handleUpload=function(t){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(i){switch(i.label){case 0:if(t.preventDefault(),!t.target.files[0])return[3,5];this.uploading=!0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.mediaService.upload(t.target.files[0])];case 2:return e=i.sent(),this.setUrlSymbol(e.source_url),[3,4];case 3:return i.sent(),alert("Something went wrong, please try again."),[3,4];case 4:this.uploading=!1,i.label=5;case 5:return[2]}}))}))},t.prototype.onClick=function(t){t.stopPropagation()},t.prototype.onDocumentClick=function(t){this.isPanelOpen()&&this.closePanel()},t.prototype.onEscape=function(t){this.closePanel(),t.preventDefault()},t.\u0275fac=function(e){return new(e||t)(n.Mb(X.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["symbol-designer"]],hostVars:4,hostBindings:function(t,e){1&t&&n.ac("click",(function(t){return e.onClick(t)}))("click",(function(t){return e.onDocumentClick(t)}),!1,n.sc)("keydown.escape",(function(t){return e.onEscape(t)}),!1,n.sc),2&t&&(n.Cb(e.symbolDesignerClasses),n.Eb("symbol-designer",!0))},features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"symbol",3,"ngClass"],["class","image",3,"src",4,"ngIf"],["class","text",4,"ngIf"],[1,"types"],["type","button","data-tooltip","Emoji","data-tooltip-bottom","",1,"emoji","button","-icon","-plain","material-icons",3,"ngClass","click"],["type","button","data-tooltip","Image","data-tooltip-bottom","",1,"image","button","-icon","-plain","material-icons",3,"ngClass","click"],[1,"panel"],["type","button",1,"button","-plain","-icon","material-icons","close",3,"click"],[1,"image",3,"src"],[1,"text"],[1,"row","no-gutters","text-symbols"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col"],["type","text","placeholder","Paste custom emoji",1,"input","-pill",3,"input","change","keyup.enter"],[1,"col-auto"],["type","button",1,"button","-icon","-plain",3,"click"],[1,"url-form"],[1,"form-group"],["for","symbol_url"],[1,"row","no-gutters"],["id","symbol_url","placeholder","https://...","type","url","required","required",1,"input","-left-attach",3,"value"],["urlField",""],["type","button",1,"button","-primary","-right-attach",3,"click"],[1,"upload-zone"],["type","file","accept","image/png,image/jpg,image/svg",3,"change",4,"ngIf"],["type","file","accept","image/png,image/jpg,image/svg",3,"change"]],template:function(t,e){1&t&&n.Bc(0,ct,14,15,"ng-container",0),2&t&&n.kc("ngIf",e.symbol)},directives:[m.t,m.q,m.s],encapsulation:2}),t}();function dt(t,e){1&t&&n.Nb(0,"div")}function bt(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",10),n.ac("click",(function(t){return n.tc(i),n.ec(2).remove(t)})),n.Dc(1," delete "),n.Rb()}}function pt(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Bc(2,dt,1,0,"div",2),n.Sb(3,"div",3),n.Sb(4,"button",4),n.Dc(5," drag_indicator "),n.Rb(),n.Sb(6,"button",5),n.ac("click",(function(){return n.tc(i),n.ec().duplicate()})),n.Dc(7," filter_none "),n.Rb(),n.Bc(8,bt,2,0,"button",6),n.Rb(),n.Sb(9,"div",7),n.Sb(10,"symbol-designer",8),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().point.symbol=t})),n.Rb(),n.Rb(),n.Sb(11,"input",9),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().point.label=t})),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(8),n.kc("ngIf",o.removable),n.Ab(2),n.kc("ngModel",o.point.symbol),n.Ab(1),n.kc("ngModel",o.point.label)}}var ut=function(){function t(){this.propagateChange=function(t){},this.removable=!0,this.onRemove=new n.n,this.onDuplicate=new n.n}return Object.defineProperty(t.prototype,"point",{get:function(){return this._point},set:function(t){this._point=t,this.propagateChange(this._point)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.point=t)},t.prototype.remove=function(t){Object(l.d)(t)&&this.onRemove.emit(this.point)},t.prototype.duplicate=function(){this.onDuplicate.emit(this.point)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["count-point"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Eb("count-point",!0)},inputs:{removable:"removable"},outputs:{onRemove:"onRemove",onDuplicate:"onDuplicate"},features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],["cdkDrag","",1,"attribute-point"],[4,"cdkDragPreview"],[1,"toolbar"],["type","button","data-tooltip","Re-order","cdkDragHandle","",1,"handle","button","-icon","-plain","material-icons"],["type","button","data-tooltip","Duplicate",1,"duplicate","button","-plain","-icon","material-icons",3,"click"],["type","button","class","remove button -icon -plain material-icons","data-tooltip","Delete",3,"click",4,"ngIf"],[1,"body"],[3,"ngModel","ngModelChange"],["type","text","placeholder","Label",1,"input",3,"ngModel","ngModelChange"],["type","button","data-tooltip","Delete",1,"remove","button","-icon","-plain","material-icons",3,"click"]],template:function(t,e){1&t&&n.Bc(0,pt,12,3,"ng-container",0),2&t&&n.kc("ngIf",e.point)},directives:[m.t,J.a,J.d,J.b,lt,B.n,B.q,B.c],encapsulation:2}),t}();function gt(t,e){if(1&t){var i=n.Tb();n.Sb(0,"count-point",5),n.ac("onRemove",(function(){n.tc(i);var t=e.$implicit;return n.ec(2).remove(t)}))("onDuplicate",(function(){n.tc(i);var t=e.$implicit;return n.ec(2).duplicate(t)}))("ngModelChange",(function(){n.tc(i);var t=e.$implicit;return n.ec(2).update(t)})),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec(2);n.kc("removable",r.points.length>2)("ngModel",o)}}function ft(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"label",1),n.Dc(2,"Points"),n.Rb(),n.Sb(3,"div",2),n.ac("cdkDropListDropped",(function(t){return n.tc(i),n.ec().drop(t)})),n.Bc(4,gt,1,2,"count-point",3),n.Sb(5,"count-point-creation",4),n.ac("onCreate",(function(){return n.tc(i),n.ec().add()})),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(4),n.kc("ngForOf",o.points)}}var ht=function(){function t(t){this.widgetsService=t,this.propagateChange=function(t){}}return Object.defineProperty(t.prototype,"points",{get:function(){return this._points},set:function(t){this._points=t,this.propagateChange(this._points)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.points=t)},t.prototype.drop=function(t){Object(J.h)(this.points,t.previousIndex,t.currentIndex)},t.prototype.remove=function(t){var e=this.points.indexOf(t);this.points.splice(e,1)},t.prototype.duplicate=function(t){var e=this.points.indexOf(t),i=Object(l.g)(t,{});delete i.uid,i=Object(l.g)(this.widgetsService.getFreshAttributePoint(),i),this.points.splice(e,1,t,i)},t.prototype.update=function(t){this.points.forEach((function(t,e){t.value=e+1}))},t.prototype.add=function(){this.points.push(this.widgetsService.getFreshAttributePoint())},t.\u0275fac=function(e){return new(e||t)(n.Mb(S))},t.\u0275cmp=n.Gb({type:t,selectors:[["count-points"]],features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"label"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"count-points","row",3,"cdkDropListDropped"],["class","col-md-2",3,"removable","ngModel","onRemove","onDuplicate","ngModelChange",4,"ngFor","ngForOf"],[1,"col-md-2",3,"onCreate"],[1,"col-md-2",3,"removable","ngModel","onRemove","onDuplicate","ngModelChange"]],template:function(t,e){1&t&&n.Bc(0,ft,6,1,"ng-container",0),2&t&&n.kc("ngIf",e.points)},directives:[m.t,J.e,m.s,K,ut,B.n,B.q],encapsulation:2}),t}();function mt(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Nb(1,"div",1),n.Sb(2,"div",2),n.Dc(3),n.Rb(),n.Sb(4,"div",3),n.Sb(5,"div",4),n.Sb(6,"symbol-designer",5),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().point.symbol=t})),n.Rb(),n.Rb(),n.Sb(7,"input",6),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().point.label=t})),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(3),n.Ec(o.index+1),n.Ab(3),n.kc("ngModel",o.point.symbol),n.Ab(1),n.kc("ngModel",o.point.label)}}var vt=function(){function t(){this.index=0,this.propagateChange=function(t){}}return Object.defineProperty(t.prototype,"point",{get:function(){return this._point},set:function(t){this._point=t,this.propagateChange(this._point)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.point=t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["scale-point"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Eb("scale-point",!0)},inputs:{index:"index"},features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"attribute-indicator"],[1,"attribute-number"],[1,"attribute-point","-scale"],[1,"body"],[3,"ngModel","ngModelChange"],["type","text","placeholder","Label",1,"input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&n.Bc(0,mt,8,3,"ng-container",0),2&t&&n.kc("ngIf",e.point)},directives:[m.t,lt,B.n,B.q,B.c],encapsulation:2}),t}();function wt(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",13),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec(2).updatePoints(t)})),n.Dc(1),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec(2);n.kc("ngClass",r._points.length==o?"-primary":"-alt"),n.Ab(1),n.Fc(" ",o," ")}}function xt(t,e){if(1&t&&n.Nb(0,"option",14),2&t){var i=e.$implicit;n.kc("label",i.label)("value",i.value)}}function yt(t,e){if(1&t){var i=n.Tb();n.Sb(0,"scale-point",15),n.ac("ngModelChange",(function(){n.tc(i);var t=e.$implicit;return n.ec(2).update(t)})),n.Rb()}if(2&t){var o=e.$implicit;n.kc("index",e.index)("ngModel",o)}}var kt=function(){return[1,2,3,4,5,6,7,8,9,10]};function St(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"div",1),n.Sb(5,"label",4),n.Dc(6,"Scale of"),n.Rb(),n.Sb(7,"div",5),n.Bc(8,wt,2,2,"button",6),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"div",3),n.Sb(10,"div",1),n.Sb(11,"label",4),n.Dc(12,"Results format"),n.Rb(),n.Sb(13,"select",7),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().attribute.resultsFormat=t})),n.Bc(14,xt,1,2,"option",8),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(15,"div",1),n.Sb(16,"div",9),n.Nb(17,"div",10),n.Sb(18,"div",11),n.Bc(19,yt,1,2,"scale-point",12),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(8),n.kc("ngForOf",n.nc(4,kt)),n.Ab(5),n.kc("ngModel",o.attribute.resultsFormat),n.Ab(1),n.kc("ngForOf",o.resultsFormats),n.Ab(5),n.kc("ngForOf",o.points)}}var Rt=function(){function t(t){this.widgetsService=t,this.resultsFormats=[{label:"Rated {{avg}} out of {{scale}}",value:"{{rated}}"},{label:"Rated {{avg}} out of {{scale}} based on {{votes}}",value:"{{rated}} {{based}}"}],this.propagateChange=function(t){}}return t.prototype.drop=function(t){Object(J.h)(this.points,t.previousIndex,t.currentIndex)},Object.defineProperty(t.prototype,"points",{get:function(){return this._points},set:function(t){this._points=t,this.propagateChange(this._points)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){var e;void 0!==t&&(this.points=t,0===(null===(e=t)||void 0===e?void 0:e.length)&&this.updatePoints(5))},t.prototype.add=function(){this.points.push(this.widgetsService.getFreshAttributePoint())},t.prototype.updatePoints=function(t){if(t=parseInt(t),this.points.splice(t),this.points.length<t)for(var e=this.points.length;e<t;e++){var i=this.widgetsService.getFreshAttributePoint();this.points[this.points.length-1]&&(i.symbol=Object(o.a)({},this.points[this.points.length-1].symbol)),this.points.push(i)}},t.prototype.update=function(t){this.points.forEach((function(e,i){e.symbol=t.symbol,e.value=i+1}))},t.prototype.remove=function(t){var e=this.points.indexOf(t);this.points.splice(e,1)},t.prototype.duplicate=function(t){var e=this.points.indexOf(t),i=Object(l.g)(t,{});delete i.uid,i=Object(l.g)(this.widgetsService.getFreshAttributePoint(),i),this.points.splice(e,1,t,i)},t.\u0275fac=function(e){return new(e||t)(n.Mb(S))},t.\u0275cmp=n.Gb({type:t,selectors:[["scale-points"]],inputs:{attribute:"attribute"},features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group"],[1,"row"],[1,"col-6"],[1,"label"],[1,"button-group","-attached"],["class","button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"input",3,"ngModel","ngModelChange"],[3,"label","value",4,"ngFor","ngForOf"],[1,"scale-points"],[1,"line"],[1,"points","row","no-gutters"],["class","col",3,"index","ngModel","ngModelChange",4,"ngFor","ngForOf"],[1,"button",3,"ngClass","click"],[3,"label","value"],[1,"col",3,"index","ngModel","ngModelChange"]],template:function(t,e){1&t&&n.Bc(0,St,20,5,"ng-container",0),2&t&&n.kc("ngIf",e.points)},directives:[m.t,m.s,B.z,B.n,B.q,m.q,B.s,B.B,vt],encapsulation:2}),t}();function At(t,e){1&t&&n.Nb(0,"div")}function Tt(t,e){if(1&t){var i=n.Tb();n.Sb(0,"count-points",21),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec(2).attribute.points=t})),n.Rb()}if(2&t){var o=n.ec(2);n.kc("ngModel",o.attribute.points)}}function Dt(t,e){if(1&t){var i=n.Tb();n.Sb(0,"scale-points",22),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec(2).attribute.points=t})),n.Rb()}if(2&t){var o=n.ec(2);n.kc("ngModel",o.attribute.points)("attribute",o.attribute)}}function Ct(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",25),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec(3).attribute.comment.thresholdPoint=t.uid})),n.Dc(1),n.Rb()}if(2&t){var o=e.$implicit,r=e.index,a=n.ec(3);n.Eb("-primary",a.attribute.comment.thresholdPoint==o.uid),n.Ab(1),n.Fc(" ",o.label||"Point #"+(r+1)," ")}}function _t(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",13),n.Sb(2,"label",20),n.Dc(3,"Threshold"),n.Rb(),n.Sb(4,"div",23),n.Bc(5,Ct,2,3,"button",24),n.Sb(6,"button",25),n.ac("click",(function(){return n.tc(i),n.ec(2).attribute.comment.thresholdPoint=""})),n.Dc(7," Always "),n.Rb(),n.Rb(),n.Rb(),n.Sb(8,"div",13),n.Sb(9,"label",26),n.Dc(10,"Message"),n.Rb(),n.Sb(11,"textarea",27),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec(2).attribute.comment.message=t})),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec(2);n.Ab(5),n.kc("ngForOf",o.attribute.points),n.Ab(1),n.Eb("-primary",""==o.attribute.comment.thresholdPoint),n.Ab(5),n.kc("ngModel",o.attribute.comment.message)}}function Mt(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Bc(2,At,1,0,"div",2),n.Sb(3,"div",3),n.Sb(4,"div",4),n.Dc(5),n.Rb(),n.Sb(6,"div",5),n.Sb(7,"h5",6),n.Dc(8),n.Rb(),n.Sb(9,"p",7),n.Dc(10),n.Rb(),n.Rb(),n.Sb(11,"div",8),n.Sb(12,"button",9),n.Dc(13," drag_indicator "),n.Rb(),n.Sb(14,"button",10),n.ac("click",(function(){return n.tc(i),n.ec().duplicate()})),n.Dc(15," filter_none "),n.Rb(),n.Sb(16,"button",11),n.ac("click",(function(){return n.tc(i),n.ec().remove()})),n.Dc(17," delete "),n.Rb(),n.Rb(),n.Rb(),n.Sb(18,"div",12),n.Sb(19,"div",13),n.Sb(20,"label",14),n.Dc(21,"Label"),n.Rb(),n.Sb(22,"input",15),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().attribute.label=t})),n.Rb(),n.Rb(),n.Sb(23,"div",13),n.Bc(24,Tt,1,1,"count-points",16),n.Bc(25,Dt,1,2,"scale-points",17),n.Rb(),n.Sb(26,"div",13),n.Sb(27,"label",18),n.Sb(28,"input",19),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().attribute.comment.enabled=t})),n.Rb(),n.Sb(29,"span",20),n.Dc(30,"Require comment"),n.Rb(),n.Rb(),n.Rb(),n.Bc(31,_t,12,4,"ng-container",0),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(5),n.Ec(o.isScale()?"linear_scale":"plus_one"),n.Ab(3),n.Ec(o.attribute.label||"Untitled"),n.Ab(2),n.Fc("",o.attribute.points.length," points"),n.Ab(10),n.kc("for","attribute_label"+o.attribute.uid),n.Ab(2),n.kc("id","attribute_label"+o.attribute.uid)("ngModel",o.attribute.label),n.Ab(2),n.kc("ngIf",o.isCount()),n.Ab(1),n.kc("ngIf",o.isScale()),n.Ab(3),n.kc("ngModel",o.attribute.comment.enabled),n.Ab(3),n.kc("ngIf",o.attribute.comment.enabled)}}var Ot=function(){function t(){this.propagateChange=function(t){},this.index=0,this.onRemove=new n.n,this.onDuplicate=new n.n}return Object.defineProperty(t.prototype,"attribute",{get:function(){return this._attribute},set:function(t){this._attribute=t,this.propagateChange(this._attribute)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.attribute=t)},t.prototype.drop=function(t){Object(J.h)(this.attribute.points,t.previousIndex,t.currentIndex)},t.prototype.isScale=function(){return"scale"===this.attribute.type},t.prototype.isCount=function(){return"count"===this.attribute.type},t.prototype.remove=function(){this.onRemove.emit(this.attribute)},t.prototype.duplicate=function(){this.onDuplicate.emit(this.attribute)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["attribute-item"]],inputs:{index:"index"},outputs:{onRemove:"onRemove",onDuplicate:"onDuplicate"},features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],["cdkDragLockAxis","y","cdkDrag","",1,"attribute-item"],[4,"cdkDragPreview"],[1,"header"],[1,"icon","material-icons"],[1,"details"],[1,"title"],[1,"description"],[1,"toolbar"],["type","button","data-tooltip","Re-order","cdkDragHandle","",1,"handle","button","-plain","-icon","material-icons"],["type","button","data-tooltip","Duplicate",1,"duplicate","button","-plain","-icon","material-icons",3,"click"],["type","button","data-tooltip","Delete",1,"remove","button","-plain","-icon","material-icons",3,"click"],[1,"body"],[1,"form-group"],[1,"label",3,"for"],["type","text","name","","placeholder","",1,"input",3,"id","ngModel","ngModelChange"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","attribute","ngModelChange",4,"ngIf"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],[1,"label"],[3,"ngModel","ngModelChange"],[3,"ngModel","attribute","ngModelChange"],[1,"button-group"],["type","button","class","button",3,"-primary","click",4,"ngFor","ngForOf"],["type","button",1,"button",3,"click"],["for","widget_behaviour_comment",1,"label"],["id","widget_behaviour_comment","placeholder","Example: Sorry to hear that your experience wasn't pleasant, how could we improve it?","rows","4",1,"input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&n.Bc(0,Mt,32,10,"ng-container",0),2&t&&n.kc("ngIf",e.attribute)},directives:[m.t,J.a,J.d,J.b,B.c,B.n,B.q,B.a,ht,Rt,m.s],encapsulation:2}),t}();function Et(t,e){if(1&t){var i=n.Tb();n.Sb(0,"attribute-item",10),n.ac("onRemove",(function(){n.tc(i);var t=e.$implicit;return n.ec().remove(t)}))("onDuplicate",(function(){n.tc(i);var t=e.$implicit;return n.ec().duplicate(t)})),n.Rb()}if(2&t){var o=e.index;n.kc("ngModel",e.$implicit)("index",o)}}var It=function(t){return{action:"create-from-preset",target:t}};function jt(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",5),n.Sb(1,"button",6),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec().createFromPreset(t)})),n.Sb(2,"span",7),n.Dc(3),n.Rb(),n.Sb(4,"span",8),n.Dc(5),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit;n.Ab(1),n.kc("clickTracker",n.oc(3,It,o.id)),n.Ab(2),n.Ec(o.icon),n.Ab(2),n.Ec(o.label)}}var zt=function(){return{action:"add-attribute-widget",target:"scale"}},Pt=function(){return{action:"add-attribute-widget",target:"count"}},Nt=function(){function t(t){this.widgetsService=t,this.propagateChange=function(t){},this.SCALE_TYPE="scale",this.COUNT_TYPE="count",this.presets=this.widgetsService.getPresets().filter((function(t){var e;return"all"==(null===(e=t.meta)||void 0===e?void 0:e.visible)}))}return Object.defineProperty(t.prototype,"attributes",{get:function(){return this._attributes},set:function(t){this._attributes=t,this.propagateChange(this._attributes)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.attributes=t)},t.prototype.create=function(t){var e=this.widgetsService.getFreshAttribute(t);this.attributes.push(e)},t.prototype.createFromPreset=function(t){var e,i=this.widgetsService.getFreshAttributeFromPreset(t);(e=this.attributes).push.apply(e,Object(o.g)(i))},t.prototype.remove=function(t){var e=this.attributes.indexOf(t);this.attributes.splice(e,1)},t.prototype.duplicate=function(t){var e=this.attributes.indexOf(t),i=this.widgetsService.duplicateModel(t);this.attributes.splice(e,1,t,i)},t.prototype.drop=function(t){Object(J.h)(this.attributes,t.previousIndex,t.currentIndex)},t.prototype.updateAttribute=function(t,e,i){},t.\u0275fac=function(e){return new(e||t)(n.Mb(S))},t.\u0275cmp=n.Gb({type:t,selectors:[["configuration-attributes"]],features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:19,vars:6,consts:[["cdkDropList","","cdkDropListOrientation","vertical",1,"attributes-manager",3,"cdkDropListDropped"],[3,"ngModel","index","onRemove","onDuplicate",4,"ngFor","ngForOf"],[1,"form-group","-large"],[1,"label","-large"],[1,"row"],[1,"col"],["type","button",1,"button","-preset",3,"clickTracker","click"],[1,"icon","material-icons"],[1,"name"],["class","col",4,"ngFor","ngForOf"],[3,"ngModel","index","onRemove","onDuplicate"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.ac("cdkDropListDropped",(function(t){return e.drop(t)})),n.Bc(1,Et,1,2,"attribute-item",1),n.Sb(2,"div",2),n.Sb(3,"label",3),n.Dc(4,"Add new attribute"),n.Rb(),n.Sb(5,"div",4),n.Sb(6,"div",5),n.Sb(7,"button",6),n.ac("click",(function(){return e.create(e.SCALE_TYPE)})),n.Sb(8,"span",7),n.Dc(9,"linear_scale"),n.Rb(),n.Sb(10,"span",8),n.Dc(11,"Scale"),n.Rb(),n.Rb(),n.Rb(),n.Sb(12,"div",5),n.Sb(13,"button",6),n.ac("click",(function(){return e.create(e.COUNT_TYPE)})),n.Sb(14,"span",7),n.Dc(15,"plus_one"),n.Rb(),n.Sb(16,"span",8),n.Dc(17,"Count"),n.Rb(),n.Rb(),n.Rb(),n.Bc(18,jt,6,5,"div",9),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(1),n.kc("ngForOf",e.attributes),n.Ab(6),n.kc("clickTracker",n.nc(4,zt)),n.Ab(6),n.kc("clickTracker",n.nc(5,Pt)),n.Ab(5),n.kc("ngForOf",e.presets))},directives:[J.e,m.s,F.a,Ot,B.n,B.q],encapsulation:2}),t}(),Bt=i("vs4s");function Ft(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",4),n.Sb(1,"label",9),n.Dc(2,"Custom timeout (in minutes)"),n.Rb(),n.Sb(3,"input",19),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec(2).limitations.timeout=t})),n.Rb(),n.Rb()}if(2&t){var o=n.ec(2);n.Ab(3),n.kc("ngModel",o.limitations.timeout)}}function Ut(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",4),n.Sb(1,"label",16),n.Sb(2,"input",21),n.ac("change",(function(t){n.tc(i);var o=e.$implicit;return n.ec(3).limitations.user.options.roles[o.id]=null==t.target?null:t.target.checked})),n.Rb(),n.Sb(3,"span",18),n.Dc(4),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec(3);n.Ab(2),n.kc("checked",r.limitations.user.options.roles[o.id]),n.Ab(2),n.Ec(o.name)}}function Lt(t,e){if(1&t&&(n.Qb(0),n.Nb(1,"hr"),n.Bc(2,Ut,5,2,"div",20),n.Pb()),2&t){var i=n.ec(2);n.Ab(2),n.kc("ngForOf",i.config.roles)}}var Gt=function(){return{action:"limitation-timeout-widget",target:"1 hour"}},$t=function(){return{action:"limitation-timeout-widget",target:"1 day"}},Vt=function(){return{action:"limitation-timeout-widget",target:"1 week"}},qt=function(){return{action:"limitation-timeout-widget",target:"custom"}},Ht=function(){return{action:"limitation-widget",target:"cookies"}},Wt=function(){return{action:"limitation-widget",target:"ip"}};function Yt(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",1),n.Sb(4,"div",3),n.Sb(5,"div",4),n.Sb(6,"label",5),n.Dc(7,"Ratings per session"),n.Rb(),n.Sb(8,"input",6),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().limitations.session=t})),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"div",3),n.Sb(10,"div",4),n.Sb(11,"label",7),n.Dc(12,"Ratings per entity"),n.Rb(),n.Sb(13,"input",8),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().limitations.entity=t})),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Nb(14,"div",4),n.Sb(15,"div",4),n.Sb(16,"label",9),n.Dc(17,"Timeout"),n.Rb(),n.Sb(18,"div",10),n.Sb(19,"button",11),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.setTimeoutFromPreset(t.LIMITATIONS_TIMEOUT_HOUR)})),n.Dc(20," 1 Hour "),n.Rb(),n.Sb(21,"button",11),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.setTimeoutFromPreset(t.LIMITATIONS_TIMEOUT_DAY)})),n.Dc(22," 1 Day "),n.Rb(),n.Sb(23,"button",11),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.setTimeoutFromPreset(t.LIMITATIONS_TIMEOUT_WEEK)})),n.Dc(24," 1 Week "),n.Rb(),n.Sb(25,"button",11),n.ac("click",(function(){return n.tc(i),n.ec().setCustomTimeout()})),n.Dc(26,"Custom "),n.Rb(),n.Rb(),n.Rb(),n.Bc(27,Ft,4,1,"div",12),n.Rb(),n.Sb(28,"div",2),n.Sb(29,"feature-switch",13),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().limitations.cookies.enabled=t})),n.Rb(),n.Sb(30,"feature-switch",14),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().limitations.ip.enabled=t})),n.Rb(),n.Sb(31,"feature-switch",15),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().limitations.user.enabled=t})),n.Sb(32,"div",4),n.Sb(33,"label",16),n.Sb(34,"input",17),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().limitations.user.options.specificRoles=t})),n.Rb(),n.Sb(35,"span",18),n.Dc(36,"Allow specific roles"),n.Rb(),n.Rb(),n.Rb(),n.Bc(37,Lt,3,1,"ng-container",0),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(8),n.kc("ngModel",o.limitations.session),n.Ab(5),n.kc("ngModel",o.limitations.entity),n.Ab(6),n.Eb("-primary",o.isTimeoutPreset(o.LIMITATIONS_TIMEOUT_HOUR)),n.kc("clickTracker",n.nc(22,Gt)),n.Ab(2),n.Eb("-primary",o.isTimeoutPreset(o.LIMITATIONS_TIMEOUT_DAY)),n.kc("clickTracker",n.nc(23,$t)),n.Ab(2),n.Eb("-primary",o.isTimeoutPreset(o.LIMITATIONS_TIMEOUT_WEEK)),n.kc("clickTracker",n.nc(24,Vt)),n.Ab(2),n.Eb("-primary",o.isCustomTimeout()),n.kc("clickTracker",n.nc(25,qt)),n.Ab(2),n.kc("ngIf",o.isCustomTimeout()),n.Ab(2),n.kc("clickTracker",n.nc(26,Ht))("ngModel",o.limitations.cookies.enabled),n.Ab(1),n.kc("clickTracker",n.nc(27,Wt))("ngModel",o.limitations.ip.enabled),n.Ab(1),n.kc("ngModel",o.limitations.user.enabled),n.Ab(3),n.kc("ngModel",o.limitations.user.options.specificRoles),n.Ab(3),n.kc("ngIf",o.limitations.user.options.specificRoles)}}var Qt=function(){function t(t){this.config=t,this.LIMITATIONS_TIMEOUT_HOUR=60,this.LIMITATIONS_TIMEOUT_DAY=1440,this.LIMITATIONS_TIMEOUT_WEEK=10080,this.customTimeout=!1,this.propagateChange=function(t){}}return t.prototype.setTimeoutFromPreset=function(t){this.limitations.timeout=t,this.customTimeout=!1},t.prototype.isTimeoutPreset=function(t){return!this.isCustomTimeout()&&this.limitations.timeout==t},t.prototype.isTimeInPreset=function(t){return[this.LIMITATIONS_TIMEOUT_HOUR,this.LIMITATIONS_TIMEOUT_DAY,this.LIMITATIONS_TIMEOUT_WEEK].includes(t)},t.prototype.isCustomTimeout=function(){return this.customTimeout||!this.isTimeInPreset(this.limitations.timeout)},t.prototype.setCustomTimeout=function(){this.customTimeout=!0},t.prototype.setRole=function(t,e){this.limitations.user.options.roles[e]=!0},Object.defineProperty(t.prototype,"limitations",{get:function(){return this._limitations},set:function(t){this._limitations=t,this.propagateChange(this._limitations)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.limitations=t)},t.\u0275fac=function(e){return new(e||t)(n.Mb(d))},t.\u0275cmp=n.Gb({type:t,selectors:[["configuration-limitations"]],features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-6"],[1,"col"],[1,"form-group"],["for","limitations_per_session",1,"label"],["type","number","min","1","step","1","max","9999","id","limitations_per_session","placeholder","1",1,"input",3,"ngModel","ngModelChange"],["for","limitations_per_entity",1,"label"],["type","number","min","1","step","1","max","9999","id","limitations_per_entity","placeholder","1",1,"input",3,"ngModel","ngModelChange"],["for","limitations_timeout",1,"label"],[1,"button-group"],["type","button",1,"button",3,"clickTracker","click"],["class","form-group",4,"ngIf"],["icon","devices","name","Cookies","description","Use browser cookies as a method to limit the rating.",3,"clickTracker","ngModel","ngModelChange"],["icon","public","name","IP Address","description","Use visitor's IP as a method to limit the rating.",3,"clickTracker","ngModel","ngModelChange"],["icon","person","name","Authenticated user","description","Use the currently authenticated user as a method to limit the rating.",3,"ngModel","ngModelChange"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],[1,"label"],["type","number","min","0","step","1","max","999999","id","limitations_timeout","placeholder","0",1,"input",3,"ngModel","ngModelChange"],["class","form-group",4,"ngFor","ngForOf"],["type","checkbox",1,"switch",3,"checked","change"]],template:function(t,e){1&t&&n.Bc(0,Yt,38,28,"ng-container",0),2&t&&n.kc("ngIf",e.limitations)},directives:[m.t,B.t,B.c,B.n,B.q,F.a,Bt.a,B.a,m.s],encapsulation:2}),t}(),Jt=function(){return{action:"behaviour-confirmation-widget",target:"widget"}},Kt=function(){return{action:"behaviour-visibility-widget",target:"non-voters"}},Xt=function(){return{action:"behaviour-visibility-widget",target:"all"}};function Zt(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"feature-switch",3),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().behaviours.confirmation.enabled=t})),n.Rb(),n.Sb(4,"feature-switch",4),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().behaviours.hideResults.enabled=t})),n.Sb(5,"div",5),n.Sb(6,"div",6),n.Sb(7,"button",7),n.ac("click",(function(){return n.tc(i),n.ec().behaviours.hideResults.for="non-voters"})),n.Dc(8," Hide for non-voters "),n.Rb(),n.Sb(9,"button",7),n.ac("click",(function(){return n.tc(i),n.ec().behaviours.hideResults.for="all"})),n.Dc(10," Hide for all "),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(11,"div",2),n.Sb(12,"feature-switch",8),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().behaviours.change.enabled=t})),n.Rb(),n.Sb(13,"feature-switch",9),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().behaviours.revoke.enabled=t})),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(3),n.kc("clickTracker",n.nc(11,Jt))("ngModel",o.behaviours.confirmation.enabled),n.Ab(1),n.kc("ngModel",o.behaviours.hideResults.enabled),n.Ab(3),n.Eb("-primary","non-voters"==o.behaviours.hideResults.for),n.kc("clickTracker",n.nc(12,Kt)),n.Ab(2),n.Eb("-primary","all"==o.behaviours.hideResults.for),n.kc("clickTracker",n.nc(13,Xt)),n.Ab(3),n.kc("ngModel",o.behaviours.change.enabled),n.Ab(1),n.kc("ngModel",o.behaviours.revoke.enabled)}}var te=function(){function t(){this.propagateChange=function(t){}}return Object.defineProperty(t.prototype,"behaviours",{get:function(){return this._behaviours},set:function(t){this._behaviours=t,this.propagateChange(this._behaviours)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.behaviours=t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["configurations-behaviours"]],features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-6"],["icon","done_all","name","Confirmation","description","Add a confirmation button before casting a rating",3,"clickTracker","ngModel","ngModelChange"],["icon","visibility","name","Hide results","description","Control the results visibility",3,"ngModel","ngModelChange"],[1,"form-group"],[1,"button-group"],["type","button",1,"button",3,"clickTracker","click"],["icon","sync","name","Change rating","description","Allow the user to change his rating",3,"ngModel","ngModelChange"],["icon","remove_circle_outline","name","Revoke rating","description","Allow the user to revoke his rating",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&n.Bc(0,Zt,14,14,"ng-container",0),2&t&&n.kc("ngIf",e.behaviours)},directives:[m.t,Bt.a,F.a,B.n,B.q],encapsulation:2}),t}();function ee(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",9),n.Sb(1,"button",10),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec(2).toggleEntityType(t.id)})),n.Sb(2,"span",11),n.Dc(3),n.Rb(),n.Sb(4,"span",12),n.Dc(5),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec(2);n.Ab(1),n.Eb("is-active",r.hasEntityType(o.id)),n.Ab(2),n.Ec(o.icon),n.Ab(2),n.Ec(o.label)}}function ie(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Sb(2,"label",2),n.Dc(3,"Accept ratings for the following entities"),n.Rb(),n.Sb(4,"div",3),n.Bc(5,ee,6,4,"div",4),n.Rb(),n.Rb(),n.Sb(6,"div",1),n.Sb(7,"div",5),n.Sb(8,"div",6),n.Sb(9,"feature-switch",7),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().editor.widget.settings.behaviours.autoIntegrate.enabled=t})),n.Dc(10,' By enabling this, the widget will be displayed automatically in entities\' pages. For instance, if you choose the "post" entity, this rating widget will appear automatically below or above the content of the post. '),n.Rb(),n.Rb(),n.Sb(11,"div",6),n.Sb(12,"div",1),n.Sb(13,"feature-switch",8),n.ac("change",(function(){return n.tc(i),n.ec().toggleEntityType("widget")})),n.Dc(14,' By enabling this, this widget will accept ratings from the integration context. For instance, if you choose "post" entity, and you paste widget\'s shortcode in a "page" then TotalRating will accept the rating despite that "page" isn\'t selected. '),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(5),n.kc("ngForOf",o.entities),n.Ab(4),n.kc("ngModel",o.editor.widget.settings.behaviours.autoIntegrate.enabled),n.Ab(4),n.kc("ngModel",o.hasEntityType("widget"))}}var ne=function(){function t(t,e){this.widgetsService=t,this.editor=e,this.entities=this.widgetsService.getEntities().post,this.propagateChange=function(t){}}return Object.defineProperty(t.prototype,"rules",{get:function(){return this._rules},set:function(t){this._rules=t,this.propagateChange(this._rules)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(null!==t&&(t.entities=t.entities.filter((function(t,e,i){return i.indexOf(t)==e}))||[]),this.rules=t)},t.prototype.addEntityType=function(t){this.rules.entities.push(t)},t.prototype.removeEntityType=function(t){this.rules.entities=this.rules.entities.filter((function(e){return e!==t}))},t.prototype.hasEntityType=function(t){return this.rules.entities.includes(t)},t.prototype.isRootEntityType=function(t){return!t.includes(":")},t.prototype.hasNotEntityTypes=function(){return 0===this.rules.entities.length},t.prototype.toggleEntityType=function(t){this.hasEntityType(t)?this.removeEntityType(t):this.addEntityType(t)},t.\u0275fac=function(e){return new(e||t)(n.Mb(S),n.Mb(W))},t.\u0275cmp=n.Gb({type:t,selectors:[["configuration-rules"]],features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group"],[1,"label"],[1,"row","row-grid"],["class","col-2",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-6"],["icon","read_more","name","Auto Integrate","description","Automatically display the rating widget for the selected entities.",3,"ngModel","ngModelChange"],["icon","category","name","Allow Other","description","Accept all ratings regardless the entity.",3,"ngModel","change"],[1,"col-2"],[1,"button","-preset","-option",3,"click"],[1,"icon","material-icons"],[1,"name"]],template:function(t,e){1&t&&n.Bc(0,ie,15,3,"ng-container",0),2&t&&n.kc("ngIf",e.rules)},directives:[m.t,m.s,Bt.a,B.n,B.q],encapsulation:2}),t}();function oe(t,e){if(1&t&&(n.Sb(0,"span",12),n.Dc(1),n.Rb()),2&t){var i=n.ec().$implicit;n.Ab(1),n.Ec(i.matches)}}function re(t,e){if(1&t&&(n.Sb(0,"div",8),n.Sb(1,"span",9),n.Dc(2),n.Rb(),n.Sb(3,"span",10),n.Dc(4),n.Rb(),n.Bc(5,oe,2,1,"span",11),n.Rb()),2&t){var i=e.$implicit;n.kc("routerLink",i.route),n.Ab(2),n.Ec(i.icon),n.Ab(2),n.Ec(i.name),n.Ab(1),n.kc("ngIf",i.matches)}}function ae(t,e){if(1&t){var i=n.Tb();n.Sb(0,"configuration-general",13),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().editor.widget=t})),n.Rb()}if(2&t){var o=n.ec();n.kc("ngModel",o.editor.widget)}}function se(t,e){if(1&t){var i=n.Tb();n.Sb(0,"configuration-attributes",13),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().editor.widget.attributes=t})),n.Rb()}if(2&t){var o=n.ec();n.kc("ngModel",o.editor.widget.attributes)}}function ce(t,e){if(1&t){var i=n.Tb();n.Sb(0,"configuration-limitations",13),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().editor.widget.settings.limitations=t})),n.Rb()}if(2&t){var o=n.ec();n.kc("ngModel",o.editor.widget.settings.limitations)}}function le(t,e){if(1&t){var i=n.Tb();n.Sb(0,"configurations-behaviours",13),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().editor.widget.settings.behaviours=t})),n.Rb()}if(2&t){var o=n.ec();n.kc("ngModel",o.editor.widget.settings.behaviours)}}function de(t,e){if(1&t){var i=n.Tb();n.Sb(0,"configuration-rules",13),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().editor.widget.settings.rules=t})),n.Rb()}if(2&t){var o=n.ec();n.kc("ngModel",o.editor.widget.settings.rules)}}var be=function(){function t(t,e){this.editor=t,this.route=e,this._searchQuery="",this.configurationTabs=[{name:"General",icon:"settings",route:"../general",keywords:"general name title description",matches:0},{name:"Attributes",icon:"star",route:"../attributes",keywords:"attributes scale count stars faces thumb",matches:0},{name:"Entities",icon:"description",route:"../entities",keywords:"allow other auto integrate entities rules post page type entity",matches:0},{name:"Limitations",icon:"lock",route:"../limitations",keywords:"limitations session rating timeout ip cookie",matches:0},{name:"Behaviours",icon:"build",route:"../behaviours",keywords:"behaviours comment captcha visibility confirm",matches:0}]}return Object.defineProperty(t.prototype,"searchQuery",{get:function(){return this._searchQuery},set:function(t){var e=this;this._searchQuery=t.trim(),this.configurationTabs.forEach((function(t){t.matches=0===e._searchQuery.length?0:(t.keywords.match(new RegExp(e._searchQuery,"gi"))||[]).length}))},enumerable:!0,configurable:!0}),t.prototype.isTab=function(t){return this.tab===t},t.prototype.ngOnInit=function(){this.subscription=this.route.params.subscribe(this.watchTab.bind(this))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.watchTab=function(t){this.tab=t.tab||"general"},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(a.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["configuration"]],decls:12,vars:7,consts:[["screen","widget-settings"],[1,"settings-panel"],[1,"navigation"],["type","text","placeholder","Search settings...",1,"settings-search",3,"ngModel","ngModelChange"],[1,"settings-tabs"],["class","item","routerLinkActive","is-current",3,"routerLink",4,"ngFor","ngForOf"],[1,"content"],[3,"ngModel","ngModelChange",4,"ngIf"],["routerLinkActive","is-current",1,"item",3,"routerLink"],[1,"icon","material-icons"],[1,"name"],["class","matches chip -pill -highlight",4,"ngIf"],[1,"matches","chip","-pill","-highlight"],[3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"input",3),n.ac("ngModelChange",(function(t){return e.searchQuery=t})),n.Rb(),n.Sb(4,"div",4),n.Bc(5,re,6,4,"div",5),n.Rb(),n.Rb(),n.Sb(6,"div",6),n.Bc(7,ae,1,1,"configuration-general",7),n.Bc(8,se,1,1,"configuration-attributes",7),n.Bc(9,ce,1,1,"configuration-limitations",7),n.Bc(10,le,1,1,"configurations-behaviours",7),n.Bc(11,de,1,1,"configuration-rules",7),n.Rb(),n.Rb()),2&t&&(n.Ab(3),n.kc("ngModel",e.searchQuery),n.Ab(2),n.kc("ngForOf",e.configurationTabs),n.Ab(2),n.kc("ngIf",e.isTab("general")),n.Ab(1),n.kc("ngIf",e.isTab("attributes")),n.Ab(1),n.kc("ngIf",e.isTab("limitations")),n.Ab(1),n.kc("ngIf",e.isTab("behaviours")),n.Ab(1),n.kc("ngIf",e.isTab("entities")))},directives:[z.a,B.c,B.n,B.q,m.s,m.t,a.f,a.e,Q,Nt,Qt,te,ne],encapsulation:2}),t}(),pe=i("42Yd"),ue=i("y9O+");function ge(t,e){1&t&&(n.Sb(0,"p",47),n.Dc(1," This won't work unless you enable "),n.Sb(2,"a",48),n.Dc(3,"Allow Other"),n.Rb(),n.Dc(4," option. "),n.Rb())}function fe(t,e){1&t&&(n.Sb(0,"p",43),n.Dc(1," This widget is "),n.Sb(2,"a",48),n.Dc(3,"automatically integrated"),n.Rb(),n.Dc(4,", if you are going to use it outside the "),n.Sb(5,"a",48),n.Dc(6,"defined entities"),n.Rb(),n.Dc(7,", then you will need to enable "),n.Sb(8,"a",48),n.Dc(9,"Allow Other"),n.Rb(),n.Dc(10," option. "),n.Rb())}function he(t,e){1&t&&(n.Sb(0,"p",43),n.Dc(1," If you're integrating this widget outside the "),n.Sb(2,"a",48),n.Dc(3,"defined entities"),n.Rb(),n.Dc(4,", please make sure to enable "),n.Sb(5,"a",48),n.Dc(6,"Allow Other"),n.Rb(),n.Dc(7," option. "),n.Rb())}function me(t,e){if(1&t&&(n.Bc(0,ge,5,0,"p",45),n.Bc(1,fe,11,0,"p",46),n.Bc(2,he,8,0,"p",46)),2&t){var i=n.ec();n.kc("ngIf",i.allowOtherRequired),n.Ab(1),n.kc("ngIf",i.allowOtherRecommended),n.Ab(1),n.kc("ngIf",i.allowOtherOptional)}}function ve(t,e){1&t&&n.Ob(0)}var we=function(t,e){return{attribute:t,point:e}};function xe(t,e){if(1&t&&n.Nb(0,"option",51),2&t){var i=e.$implicit,o=e.index,r=n.ec().$implicit;n.kc("label",i.label||"Point #"+(o+1))("ngValue",n.pc(2,we,r,i))}}function ye(t,e){if(1&t&&(n.Sb(0,"optgroup",49),n.Bc(1,xe,1,5,"option",50),n.Rb()),2&t){var i=e.$implicit;n.kc("label",i.label||"Attribute #"+(e.index+1)),n.Ab(1),n.kc("ngForOf",i.points)}}var ke=function(){function t(t,e){this.editor=t,this.config=e,this.shortcodeOptions={hideTitle:!1,customDescription:!1,customDescriptionContent:""},this.exampleDefaultAttributePoint={attribute:null,point:null},this.exampleAttributePoint=this.exampleDefaultAttributePoint}return Object.defineProperty(t.prototype,"allowOtherRequired",{get:function(){return 0===this.editor.widget.settings.rules.entities.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowOtherRecommended",{get:function(){var t=this.editor.widget.settings.rules.entities.length>0,e=!this.editor.widget.settings.rules.entities.includes("widget");return this.editor.widget.settings.behaviours.autoIntegrate.enabled&&t&&e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowOtherOptional",{get:function(){var t=this.editor.widget.settings.rules.entities.length>0,e=!this.editor.widget.settings.rules.entities.includes("widget");return!this.editor.widget.settings.behaviours.autoIntegrate.enabled&&t&&e},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"shortcode",{get:function(){return'[totalrating-widget id="'+this.editor.widget.id+'"'+(this.shortcodeOptions.hideTitle?' hide-title="true"':"")+"]"+(this.shortcodeOptions.customDescription?this.shortcodeOptions.customDescriptionContent+"[/totalrating-widget]":"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"restApi",{get:function(){var t,e,i,n;return{getWidget:this.config.api.base+"/widget/"+this.editor.widget.uid,postRating:this.config.api.base+"/rating",patchRating:this.config.api.base+"/rating",deleteRating:this.config.api.base+"/rating",postRatingExample:{widget_uid:this.editor.widget.uid,attribute_uid:(null===(t=this.exampleAttributePoint.attribute)||void 0===t?void 0:t.uid)||"ATTRIBUTE_UID",point_uid:(null===(e=this.exampleAttributePoint.point)||void 0===e?void 0:e.uid)||"POINT_UID",entity_id:"ENTITY_ID",entity_type:"ENTITY_TYPE",entity_meta:"ENTITY_META",comment:"Comment",recaptcha:"RECAPTCHA_TOKEN"},patchRatingExample:{widget_uid:this.editor.widget.uid,attribute_uid:(null===(i=this.exampleAttributePoint.attribute)||void 0===i?void 0:i.uid)||"ATTRIBUTE_UID",point_uid:(null===(n=this.exampleAttributePoint.point)||void 0===n?void 0:n.uid)||"POINT_UID",rating_uid:"RATING_UID",comment:"Comment",recaptcha:"RECAPTCHA_TOKEN"},deleteRatingExample:{widget_uid:this.editor.widget.uid,rating_uid:"RATING_UID",recaptcha:"RECAPTCHA_TOKEN"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"php",{get:function(){return{displayWidget:"<?php do_action('totalrating/display/widget', '"+this.editor.widget.uid+"'); ?>",displayResults:"<?php do_action('totalrating/display/results', '"+this.editor.widget.uid+"'); ?>"}},enumerable:!0,configurable:!0}),t.prototype.notifyCopy=function(t){t.innerText="done",setTimeout((function(){return t.innerText="file_copy"}),2e3)},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(d))},t.\u0275cmp=n.Gb({type:t,selectors:[["integration"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Eb("integrations-manager",!0)},decls:112,vars:30,consts:[["screen","widget-integration"],["allowOtherTemplate",""],[4,"ngTemplateOutlet"],[1,"content"],[1,"row"],["name","Shortcode",1,"col-md-4"],[1,"form-group"],["for","widget_integration_shortcode",1,"label"],[1,"input-with-action"],["type","text","id","widget_integration_shortcode","readonly","",1,"input","-left-attach",3,"value"],["type","button",1,"button","-primary","-right-attach",3,"cdkCopyToClipboard","cdkCopyToClipboardCopied"],[1,"icon","material-icons"],["shortcodeCopy",""],["name","Hide title","description","The title of the widget will be hidden.",3,"ngModel","ngModelChange"],["name","Custom description","description","Override the description of the widget.",3,"ngModel","ngModelChange"],["for","widget_integration_shortcode_custom_description",1,"label"],["id","widget_integration_shortcode_custom_description","rows","4",1,"input",3,"ngModel","ngModelChange"],["name","REST API",1,"col-md-4"],["for","widget_integration_rest_api_get_widget",1,"label"],[1,"chip"],["type","text","id","widget_integration_rest_api_get_widget","readonly","",1,"input","-left-attach",3,"value"],["getWidgetCopy",""],["for","widget_integration_rest_api_post_rating",1,"label"],["type","text","id","widget_integration_rest_api_post_rating","readonly","",1,"input","-left-attach",3,"value"],["postRatingCopy",""],["for","widget_integration_rest_api_example",1,"label"],["id","widget_integration_rest_api_example",1,"input",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"code-sample",3,"innerHTML"],["for","widget_integration_rest_api_change_rating",1,"label"],["type","text","id","widget_integration_rest_api_change_rating","readonly","",1,"input","-left-attach",3,"value"],["patchRatingCopy",""],["for","widget_integration_rest_api_revoke_rating",1,"label"],["type","text","id","widget_integration_rest_api_revoke_rating","readonly","",1,"input","-left-attach",3,"value"],["deleteRevokeCopy",""],["name","PHP",1,"col-md-4"],["for","widget_integration_shortcode_php_display_widget",1,"label"],["type","text","id","widget_integration_shortcode_php_display_widget","readonly","",1,"input","-left-attach",3,"value"],["displayWidgetCopy",""],["for","widget_integration_shortcode_php_display_results",1,"label"],["type","text","id","widget_integration_shortcode_php_display_results","readonly","",1,"input","-left-attach",3,"value"],["displayResultsCopy",""],[1,"message","-info"],["href","#"],["class","message -attention",4,"ngIf"],["class","message -info",4,"ngIf"],[1,"message","-attention"],["routerLink","../configuration/entities"],[3,"label"],[3,"label","ngValue",4,"ngFor","ngForOf"],[3,"label","ngValue"]],template:function(t,e){if(1&t){var i=n.Tb();n.Nb(0,"screen-tracker",0),n.Bc(1,me,3,3,"ng-template",null,1,n.Cc),n.Bc(3,ve,1,0,"ng-container",2),n.Sb(4,"div",3),n.Sb(5,"div",4),n.Sb(6,"card",5),n.Sb(7,"div",6),n.Sb(8,"label",7),n.Dc(9,"Shortcode"),n.Rb(),n.Sb(10,"div",8),n.Nb(11,"input",9),n.Sb(12,"button",10),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(14);return e.notifyCopy(t)})),n.Sb(13,"span",11,12),n.Dc(15,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(16,"div",6),n.Sb(17,"label",7),n.Dc(18,"Options"),n.Rb(),n.Sb(19,"feature-switch",13),n.ac("ngModelChange",(function(t){return e.shortcodeOptions.hideTitle=t})),n.Rb(),n.Sb(20,"feature-switch",14),n.ac("ngModelChange",(function(t){return e.shortcodeOptions.customDescription=t})),n.Sb(21,"div",6),n.Sb(22,"label",15),n.Dc(23,"Description"),n.Rb(),n.Sb(24,"textarea",16),n.ac("ngModelChange",(function(t){return e.shortcodeOptions.customDescriptionContent=t})),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(25,"card",17),n.Sb(26,"div",6),n.Sb(27,"label",18),n.Sb(28,"span"),n.Dc(29,"Get widget endpoint"),n.Rb(),n.Sb(30,"span",19),n.Dc(31,"GET"),n.Rb(),n.Rb(),n.Sb(32,"div",8),n.Nb(33,"input",20),n.Sb(34,"button",10),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(36);return e.notifyCopy(t)})),n.Sb(35,"span",11,21),n.Dc(37,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(38,"div",6),n.Sb(39,"label",22),n.Sb(40,"span"),n.Dc(41,"Post rating endpoint"),n.Rb(),n.Sb(42,"span",19),n.Dc(43,"POST"),n.Rb(),n.Rb(),n.Sb(44,"div",8),n.Nb(45,"input",23),n.Sb(46,"button",10),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(48);return e.notifyCopy(t)})),n.Sb(47,"span",11,24),n.Dc(49,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(50,"div",6),n.Sb(51,"label",25),n.Dc(52,"Example of attribute"),n.Rb(),n.Sb(53,"select",26),n.ac("ngModelChange",(function(t){return e.exampleAttributePoint=t})),n.Sb(54,"option",27),n.Dc(55,"Choose"),n.Rb(),n.Bc(56,ye,2,2,"optgroup",28),n.Rb(),n.Nb(57,"pre",29),n.fc(58,"json"),n.Rb(),n.Sb(59,"div",6),n.Sb(60,"label",30),n.Sb(61,"span"),n.Dc(62,"Change rating endpoint"),n.Rb(),n.Sb(63,"span",19),n.Dc(64,"PATCH"),n.Rb(),n.Rb(),n.Sb(65,"div",8),n.Nb(66,"input",31),n.Sb(67,"button",10),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(69);return e.notifyCopy(t)})),n.Sb(68,"span",11,32),n.Dc(70,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Nb(71,"pre",29),n.fc(72,"json"),n.Rb(),n.Sb(73,"div",6),n.Sb(74,"label",33),n.Sb(75,"span"),n.Dc(76,"Revoke rating endpoint"),n.Rb(),n.Sb(77,"span",19),n.Dc(78,"DELETE"),n.Rb(),n.Rb(),n.Sb(79,"div",8),n.Nb(80,"input",34),n.Sb(81,"button",10),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(83);return e.notifyCopy(t)})),n.Sb(82,"span",11,35),n.Dc(84,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Nb(85,"pre",29),n.fc(86,"json"),n.Rb(),n.Rb(),n.Sb(87,"card",36),n.Sb(88,"div",6),n.Sb(89,"label",37),n.Dc(90,"Display widget"),n.Rb(),n.Sb(91,"div",8),n.Nb(92,"input",38),n.Sb(93,"button",10),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(95);return e.notifyCopy(t)})),n.Sb(94,"span",11,39),n.Dc(96,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(97,"div",6),n.Sb(98,"label",40),n.Dc(99,"Display results only"),n.Rb(),n.Sb(100,"div",8),n.Nb(101,"input",41),n.Sb(102,"button",10),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(104);return e.notifyCopy(t)})),n.Sb(103,"span",11,42),n.Dc(105,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(106,"div",6),n.Sb(107,"div",43),n.Dc(108,"For more detailed information, please visit "),n.Sb(109,"a",44),n.Dc(110,"the codex"),n.Rb(),n.Dc(111,"."),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=n.rc(2);n.Ab(3),n.kc("ngTemplateOutlet",o),n.Ab(8),n.kc("value",e.shortcode),n.Ab(1),n.kc("cdkCopyToClipboard",e.shortcode),n.Ab(7),n.kc("ngModel",e.shortcodeOptions.hideTitle),n.Ab(1),n.kc("ngModel",e.shortcodeOptions.customDescription),n.Ab(4),n.kc("ngModel",e.shortcodeOptions.customDescriptionContent),n.Ab(9),n.kc("value",e.restApi.getWidget),n.Ab(1),n.kc("cdkCopyToClipboard",e.restApi.getWidget),n.Ab(11),n.kc("value",e.restApi.postRating),n.Ab(1),n.kc("cdkCopyToClipboard",e.restApi.postRating),n.Ab(7),n.kc("ngModel",e.exampleAttributePoint),n.Ab(1),n.kc("ngValue",e.exampleDefaultAttributePoint),n.Ab(2),n.kc("ngForOf",e.editor.widget.attributes),n.Ab(1),n.kc("innerHTML",n.gc(58,24,e.restApi.postRatingExample),n.uc),n.Ab(9),n.kc("value",e.restApi.patchRating),n.Ab(1),n.kc("cdkCopyToClipboard",e.restApi.patchRating),n.Ab(4),n.kc("innerHTML",n.gc(72,26,e.restApi.patchRatingExample),n.uc),n.Ab(9),n.kc("value",e.restApi.deleteRating),n.Ab(1),n.kc("cdkCopyToClipboard",e.restApi.deleteRating),n.Ab(4),n.kc("innerHTML",n.gc(86,28,e.restApi.deleteRatingExample),n.uc),n.Ab(7),n.kc("value",e.php.displayWidget),n.Ab(1),n.kc("cdkCopyToClipboard",e.php.displayWidget),n.Ab(8),n.kc("value",e.php.displayResults),n.Ab(1),n.kc("cdkCopyToClipboard",e.php.displayResults)}},directives:[z.a,m.A,pe.a,ue.a,Bt.a,B.n,B.q,B.c,B.z,B.s,B.B,m.s,m.t,a.g],pipes:[m.k],encapsulation:2}),t}(),Se=function(){return{action:"design-emplacement-widget",target:"before_content"}},Re=function(t){return[t]},Ae=function(){return{action:"design-emplacement-widget",target:"after_content"}},Te=function(){return{action:"design-size-widget",target:"small"}},De=function(){return{action:"design-size-widget",target:"regular"}},Ce=function(){return{action:"design-size-widget",target:"medium"}},_e=function(){return{action:"design-size-widget",target:"large"}},Me=function(){return{action:"design-spacing-widget",target:"compact"}},Oe=function(){return{action:"design-spacing-widget",target:"normal"}},Ee=function(){return{action:"design-spacing-widget",target:"comfortable"}},Ie=function(){return{action:"design-roundness-widget",target:"sharp"}},je=function(){return{action:"design-roundness-widget",target:"rounded"}},ze=function(){function t(t){this.editor=t,this.SIZE_SMALL="small",this.SIZE_REGULAR="regular",this.SIZE_MEDIUM="medium",this.SIZE_LARGE="large",this.SPACING_COMPACT="compact",this.SPACING_NORMAL="normal",this.SPACING_COMFORTABLE="comfortable",this.RADIUS_SHARP="sharp",this.RADIUS_ROUNDED="rounded",this.EMPLACEMENT_BEFORE_CONTENT="before_content",this.EMPLACEMENT_AFTER_CONTENT="after_content",this.POSITION_ABOVE="above",this.POSITION_BELOW="below",this.DEVICE_SMARTPHONE="smartphone",this.DEVICE_TABLET="tablet",this.DEVICE_DESKTOP="desktop",this.currentDevice=this.DEVICE_DESKTOP,this.VIEW_RATE="rate",this.VIEW_RESULTS="results",this.currentView=this.VIEW_RATE}return t.prototype.setSize=function(t){this.editor.widget.settings.design.size=t},t.prototype.isSize=function(t){return this.editor.widget.settings.design.size==t},t.prototype.setSpacing=function(t){this.editor.widget.settings.design.space=t},t.prototype.isSpacing=function(t){return this.editor.widget.settings.design.space==t},t.prototype.setRadius=function(t){this.editor.widget.settings.design.radius=t},t.prototype.isRadius=function(t){return this.editor.widget.settings.design.radius==t},t.prototype.setEmplacement=function(t){this.editor.widget.settings.design.emplacement=t},t.prototype.isEmplacement=function(t){return this.editor.widget.settings.design.emplacement===t},t.prototype.setLabelPosition=function(t){this.editor.widget.settings.design.position=t},t.prototype.isPosition=function(t){return this.editor.widget.settings.design.position===t},t.prototype.setDevice=function(t){this.currentDevice=t},t.prototype.isDevice=function(t){return this.currentDevice==t},t.prototype.setView=function(t){this.currentView=t},t.prototype.isView=function(t){return this.currentView==t},t.\u0275fac=function(e){return new(e||t)(n.Mb(W))},t.\u0275cmp=n.Gb({type:t,selectors:[["design"]],decls:77,vars:71,consts:[["screen","widget-design"],[1,"design-customizer"],[1,"sidebar"],[3,"ngModel","ngModelChange"],[1,"options"],[1,"form-group"],[1,"label"],[1,"button-group"],["type","button",1,"button",3,"clickTracker","ngClass","click"],[1,"row"],[1,"col-6"],["name","Primary",3,"ngModel","ngModelChange"],["name","Secondary",3,"ngModel","ngModelChange"],["name","Background",3,"ngModel","ngModelChange"],["name","Dark",3,"ngModel","ngModelChange"],["type","button",1,"button",3,"ngClass","click"],["placeholder","Custom CSS...","rows","6",1,"input",2,"margin-top","10px",3,"ngModel","ngModelChange"],[1,"content"],[1,"body"],[1,"footer"],[1,"states"],["type","button",1,"button",3,"click"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"template-picker",3),n.ac("ngModelChange",(function(t){return e.editor.widget.settings.design.template=t})),n.Rb(),n.Sb(4,"div",4),n.Sb(5,"div",5),n.Sb(6,"label",6),n.Dc(7,"Emplacement"),n.Rb(),n.Sb(8,"div",7),n.Sb(9,"button",8),n.ac("click",(function(){return e.setEmplacement(e.EMPLACEMENT_BEFORE_CONTENT)})),n.Dc(10," Before content "),n.Rb(),n.Sb(11,"button",8),n.ac("click",(function(){return e.setEmplacement(e.EMPLACEMENT_AFTER_CONTENT)})),n.Dc(12," After content "),n.Rb(),n.Rb(),n.Rb(),n.Sb(13,"div",5),n.Sb(14,"label",6),n.Dc(15,"Colors"),n.Rb(),n.Sb(16,"div",9),n.Sb(17,"div",10),n.Sb(18,"color-builder",11),n.ac("ngModelChange",(function(t){return e.editor.widget.settings.design.colors.primary=t})),n.Rb(),n.Rb(),n.Sb(19,"div",10),n.Sb(20,"color-builder",12),n.ac("ngModelChange",(function(t){return e.editor.widget.settings.design.colors.secondary=t})),n.Rb(),n.Rb(),n.Sb(21,"div",10),n.Sb(22,"color-builder",13),n.ac("ngModelChange",(function(t){return e.editor.widget.settings.design.colors.background=t})),n.Rb(),n.Rb(),n.Sb(23,"div",10),n.Sb(24,"color-builder",14),n.ac("ngModelChange",(function(t){return e.editor.widget.settings.design.colors.dark=t})),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(25,"div",5),n.Sb(26,"label",6),n.Dc(27,"Size"),n.Rb(),n.Sb(28,"div",7),n.Sb(29,"button",8),n.ac("click",(function(){return e.setSize(e.SIZE_SMALL)})),n.Dc(30," Small "),n.Rb(),n.Sb(31,"button",8),n.ac("click",(function(){return e.setSize(e.SIZE_REGULAR)})),n.Dc(32," Regular "),n.Rb(),n.Sb(33,"button",8),n.ac("click",(function(){return e.setSize(e.SIZE_MEDIUM)})),n.Dc(34," Medium "),n.Rb(),n.Sb(35,"button",8),n.ac("click",(function(){return e.setSize(e.SIZE_LARGE)})),n.Dc(36," Large "),n.Rb(),n.Rb(),n.Rb(),n.Sb(37,"div",5),n.Sb(38,"label",6),n.Dc(39,"Spacing"),n.Rb(),n.Sb(40,"div",7),n.Sb(41,"button",8),n.ac("click",(function(){return e.setSpacing(e.SPACING_COMPACT)})),n.Dc(42," Compact "),n.Rb(),n.Sb(43,"button",8),n.ac("click",(function(){return e.setSpacing(e.SPACING_NORMAL)})),n.Dc(44," Normal "),n.Rb(),n.Sb(45,"button",8),n.ac("click",(function(){return e.setSpacing(e.SPACING_COMFORTABLE)})),n.Dc(46," Comfortable "),n.Rb(),n.Rb(),n.Rb(),n.Sb(47,"div",5),n.Sb(48,"label",6),n.Dc(49,"Roundness"),n.Rb(),n.Sb(50,"div",7),n.Sb(51,"button",8),n.ac("click",(function(){return e.setRadius(e.RADIUS_SHARP)})),n.Dc(52," Sharp "),n.Rb(),n.Sb(53,"button",8),n.ac("click",(function(){return e.setRadius(e.RADIUS_ROUNDED)})),n.Dc(54," Rounded "),n.Rb(),n.Rb(),n.Rb(),n.Sb(55,"div",5),n.Sb(56,"label",6),n.Dc(57,"Tooltip position "),n.Rb(),n.Sb(58,"div",7),n.Sb(59,"button",15),n.ac("click",(function(){return e.setLabelPosition(e.POSITION_ABOVE)})),n.Dc(60," Above "),n.Rb(),n.Sb(61,"button",15),n.ac("click",(function(){return e.setLabelPosition(e.POSITION_BELOW)})),n.Dc(62," Below "),n.Rb(),n.Rb(),n.Rb(),n.Sb(63,"div",5),n.Sb(64,"details"),n.Sb(65,"summary"),n.Dc(66,"Custom CSS"),n.Rb(),n.Sb(67,"textarea",16),n.ac("ngModelChange",(function(t){return e.editor.widget.settings.design.customCss=t})),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(68,"div",17),n.Sb(69,"div",18),n.Nb(70,"live-preview"),n.Rb(),n.Sb(71,"div",19),n.Sb(72,"div",20),n.Sb(73,"button",21),n.ac("click",(function(){return e.setView(e.VIEW_RATE)})),n.Dc(74," Rate "),n.Rb(),n.Sb(75,"button",21),n.ac("click",(function(){return e.setView(e.VIEW_RESULTS)})),n.Dc(76," Results "),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(3),n.kc("ngModel",e.editor.widget.settings.design.template),n.Ab(6),n.kc("clickTracker",n.nc(34,Se))("ngClass",n.oc(35,Re,e.isEmplacement(e.EMPLACEMENT_BEFORE_CONTENT)?"-primary -alt":"-white")),n.Ab(2),n.kc("clickTracker",n.nc(37,Ae))("ngClass",n.oc(38,Re,e.isEmplacement(e.EMPLACEMENT_AFTER_CONTENT)?"-primary -alt":"-white")),n.Ab(7),n.kc("ngModel",e.editor.widget.settings.design.colors.primary),n.Ab(2),n.kc("ngModel",e.editor.widget.settings.design.colors.secondary),n.Ab(2),n.kc("ngModel",e.editor.widget.settings.design.colors.background),n.Ab(2),n.kc("ngModel",e.editor.widget.settings.design.colors.dark),n.Ab(5),n.kc("clickTracker",n.nc(40,Te))("ngClass",n.oc(41,Re,e.isSize(e.SIZE_SMALL)?"-primary -alt":"-white")),n.Ab(2),n.kc("clickTracker",n.nc(43,De))("ngClass",n.oc(44,Re,e.isSize(e.SIZE_REGULAR)?"-primary -alt":"-white")),n.Ab(2),n.kc("clickTracker",n.nc(46,Ce))("ngClass",n.oc(47,Re,e.isSize(e.SIZE_MEDIUM)?"-primary -alt":"-white")),n.Ab(2),n.kc("clickTracker",n.nc(49,_e))("ngClass",n.oc(50,Re,e.isSize(e.SIZE_LARGE)?"-primary -alt":"-white")),n.Ab(6),n.kc("clickTracker",n.nc(52,Me))("ngClass",n.oc(53,Re,e.isSpacing(e.SPACING_COMPACT)?"-primary -alt":"-white")),n.Ab(2),n.kc("clickTracker",n.nc(55,Oe))("ngClass",n.oc(56,Re,e.isSpacing(e.SPACING_NORMAL)?"-primary -alt":"-white")),n.Ab(2),n.kc("clickTracker",n.nc(58,Ee))("ngClass",n.oc(59,Re,e.isSpacing(e.SPACING_COMFORTABLE)?"-primary -alt":"-white")),n.Ab(6),n.kc("clickTracker",n.nc(61,Ie))("ngClass",n.oc(62,Re,e.isRadius(e.RADIUS_SHARP)?"-primary -alt":"-white")),n.Ab(2),n.kc("clickTracker",n.nc(64,je))("ngClass",n.oc(65,Re,e.isRadius(e.RADIUS_ROUNDED)?"-primary -alt":"-white")),n.Ab(6),n.kc("ngClass",n.oc(67,Re,e.isPosition(e.POSITION_ABOVE)?"-primary -alt":"-white")),n.Ab(2),n.kc("ngClass",n.oc(69,Re,e.isPosition(e.POSITION_BELOW)?"-primary -alt":"-white")),n.Ab(6),n.kc("ngModel",e.editor.widget.settings.design.customCss),n.Ab(6),n.Eb("-primary",e.isView(e.VIEW_RATE)),n.Ab(2),n.Eb("-primary",e.isView(e.VIEW_RESULTS)))},encapsulation:2}),t}(),Pe=i("CCO+");function Ne(t,e){if(1&t&&(n.Sb(0,"th",8),n.Dc(1),n.Rb()),2&t){var i=e.$implicit;n.kc("dir",i.dir),n.Ab(1),n.Ec(i.name)}}function Be(t,e){1&t&&(n.Sb(0,"tr"),n.Sb(1,"td"),n.Dc(2,"It seems like there is nothing to localize yet."),n.Rb(),n.Rb())}function Fe(t,e){if(1&t){var i=n.Tb();n.Sb(0,"td",8),n.Sb(1,"textarea",12),n.ac("ngModelChange",(function(t){n.tc(i);var o=e.$implicit;return n.ec(2).$implicit.value[o.code]=t})),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec(2).$implicit;n.kc("dir",o.dir),n.Ab(1),n.kc("placeholder",r.original)("dir",o.dir)("ngModel",r.value[o.code])}}function Ue(t,e){if(1&t&&(n.Sb(0,"tr"),n.Sb(1,"td",3),n.Dc(2),n.Sb(3,"span",11),n.Dc(4),n.Rb(),n.Rb(),n.Bc(5,Fe,2,4,"td",4),n.Rb()),2&t){var i=n.ec().$implicit,o=n.ec(2);n.Ab(2),n.Fc(" ",i.original," "),n.Ab(2),n.Ec(i.context),n.Ab(1),n.kc("ngForOf",o.languages)}}function Le(t,e){if(1&t&&(n.Qb(0),n.Bc(1,Ue,6,3,"tr",10),n.Pb()),2&t){var i=e.$implicit;n.Ab(1),n.kc("ngIf",i.original)}}function Ge(t,e){if(1&t&&n.Bc(0,Le,2,1,"ng-container",9),2&t){var i=n.ec();n.kc("ngForOf",i.expressions)}}var $e=function(){function t(t,e){this.editor=t,this.config=e,this.languages=this.config.languages,this.expressions=[{original:this.editor.widget.title,path:"title",context:"Title",value:{}},{original:this.editor.widget.description,path:"description",context:"Description",value:{}}]}return t.prototype.nothingToLocalize=function(){return 0===this.languages.length||0==this.expressions.filter((function(t){return t.original})).length},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(d))},t.\u0275cmp=n.Gb({type:t,selectors:[["localization"]],decls:11,vars:3,consts:[["screen","widget-localization"],[1,"localization-table"],[1,"header"],[1,"original"],["class","translation",3,"dir",4,"ngFor","ngForOf"],[1,"body"],[4,"ngIf","ngIfElse"],["expressionsRows",""],[1,"translation",3,"dir"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"context"],["type","text",1,"input",3,"placeholder","dir","ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"table",1),n.Sb(2,"thead",2),n.Sb(3,"tr"),n.Sb(4,"th",3),n.Dc(5,"Original"),n.Rb(),n.Bc(6,Ne,2,2,"th",4),n.Rb(),n.Rb(),n.Sb(7,"tbody",5),n.Bc(8,Be,3,0,"tr",6),n.Bc(9,Ge,1,1,"ng-template",null,7,n.Cc),n.Rb(),n.Rb()),2&t){var i=n.rc(10);n.Ab(6),n.kc("ngForOf",e.languages),n.Ab(2),n.kc("ngIf",e.nothingToLocalize())("ngIfElse",i)}},directives:[z.a,m.s,m.t,Pe.b,B.c,B.n,B.q],encapsulation:2}),t}(),Ve=function(){function t(t){this.httpClient=t,this.getting$=new y.a(!1),this.fetching$=new y.a(!1),this.exporting$=new y.a(!1),this.deleting$=new y.a(!1)}return t.prototype.get=function(t){return this.getting$.start(),this.httpClient.get("admin/rating/"+t).toPromise().finally(this.getting$.finish())},t.prototype.delete=function(t){return this.deleting$.start(),this.httpClient.delete("admin/rating/delete/"+t).toPromise().finally(this.deleting$.finish())},t.prototype.all=function(t,e){return this.fetching$.start(),this.httpClient.get("admin/rating",{params:Object(o.a)({widget_uid:t},e)}).toPromise().finally(this.fetching$.finish())},t.prototype.export=function(t,e,i){return void 0===e&&(e="json"),void 0===i&&(i={}),this.exporting$.start(e),this.httpClient.post("admin/rating/export/"+e,Object(o.a)({widget_uid:t},i),{responseType:"blob",observe:"response"}).toPromise().then((function(t){return Object(l.h)(t,"export."+e),t})).finally(this.exporting$.finish())},t.\u0275fac=function(e){return new(e||t)(n.Wb(k.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function qe(t,e){1&t&&n.Nb(0,"loading-indicator")}var He=function(){return{action:"export-widget",target:"json"}};function We(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",10),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.exportAs(t.JSON_FORMAT)})),n.Dc(1," Download "),n.Rb()}2&t&&n.kc("clickTracker",n.nc(1,He))}function Ye(t,e){1&t&&n.Nb(0,"loading-indicator")}var Qe=function(){return{action:"export-widget",target:"csv"}};function Je(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",10),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.exportAs(t.CSV_FORMAT)})),n.Dc(1," Download "),n.Rb()}2&t&&n.kc("clickTracker",n.nc(1,Qe))}var Ke=function(){return{action:"browse-store-widget",target:"extension"}},Xe=function(){function t(t,e){this.editor=t,this.ratingsService=e,this.IS_EXPORTING=this.ratingsService.exporting$,this.CSV_FORMAT="csv",this.JSON_FORMAT="json"}return t.prototype.exportAs=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:return[4,this.ratingsService.export(this.editor.widget.uid,t)];case 1:return e.sent(),[2]}}))}))},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(Ve))},t.\u0275cmp=n.Gb({type:t,selectors:[["export"]],decls:30,vars:10,consts:[["screen","export-widget"],[1,"row"],[1,"col-md-3"],[1,"export-as"],[1,"icon","material-icons"],[1,"format"],[4,"ngIf","ngIfElse"],["jsonExport",""],["csvExport",""],["routerLink","/modules/extension",1,"button","-pill","-outline","-primary",3,"clickTracker"],["type","button",1,"button","-pill","-outline","-primary",3,"clickTracker","click"]],template:function(t,e){if(1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"card",2),n.Sb(3,"div",3),n.Sb(4,"span",4),n.Dc(5,"cloud_download"),n.Rb(),n.Sb(6,"h3",5),n.Dc(7,"JSON"),n.Rb(),n.Bc(8,qe,1,0,"loading-indicator",6),n.fc(9,"async"),n.Bc(10,We,2,2,"ng-template",null,7,n.Cc),n.Rb(),n.Rb(),n.Sb(12,"card",2),n.Sb(13,"div",3),n.Sb(14,"span",4),n.Dc(15,"cloud_download"),n.Rb(),n.Sb(16,"h3",5),n.Dc(17,"CSV"),n.Rb(),n.Bc(18,Ye,1,0,"loading-indicator",6),n.fc(19,"async"),n.Bc(20,Je,2,2,"ng-template",null,8,n.Cc),n.Rb(),n.Rb(),n.Sb(22,"card",2),n.Sb(23,"div",3),n.Sb(24,"span",4),n.Dc(25,"extension"),n.Rb(),n.Sb(26,"h3",5),n.Dc(27,"Custom"),n.Rb(),n.Sb(28,"a",9),n.Dc(29,"Browse Store "),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t){var i=n.rc(11),o=n.rc(21);n.Ab(8),n.kc("ngIf",n.gc(9,5,e.IS_EXPORTING)==e.JSON_FORMAT)("ngIfElse",i),n.Ab(10),n.kc("ngIf",n.gc(19,7,e.IS_EXPORTING)==e.CSV_FORMAT)("ngIfElse",o),n.Ab(10),n.kc("clickTracker",n.nc(9,Ke))}},directives:[z.a,pe.a,m.t,a.g,F.a,U.a],pipes:[m.b],encapsulation:2}),t}(),Ze=function(){function t(t,e,i){this.editor=t,this.route=e,this.router=i,this.onApply=new n.n,this.open=!1,this.filters={page:1,from_date:"",to_date:"",entity_id:"",status:{accepted:!1,rejected:!1,revoked:!1,changed:!1}},this.filters.entity_id=this.route.snapshot.queryParams.entity_id||null}return Object.defineProperty(t.prototype,"filtersForApply",{get:function(){var t=Object(l.c)(this.filters);if(t.status)for(var e in delete t.status,t["status[]"]=[],this.filters.status)this.filters.status[e]&&t["status[]"].push(e);return t},enumerable:!0,configurable:!0}),t.prototype.apply=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){switch(t.label){case 0:return this.open=!1,[4,this.router.navigate([],{relativeTo:this.route,queryParams:{filters:JSON.stringify(Object(l.c)(this.filters))}})];case 1:return t.sent(),[2]}}))}))},t.prototype.applyFilters=function(){this.filters.page=1,this.apply()},t.prototype.isOpen=function(){return this.open},t.prototype.toggle=function(){this.open=!this.open},t.prototype.setPage=function(t){this.filters.page=t,this.apply()},t.prototype.ngOnInit=function(){this.subscription=this.route.queryParams.subscribe(this.watchQueryParams.bind(this))},t.prototype.watchQueryParams=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){return this.filters=Object(o.a)(Object(o.a)(Object(o.a)({},this.filters),{page:1}),JSON.parse(t.filters||"{}")),this.onApply.emit(this.filtersForApply),[2]}))}))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t){t.stopPropagation()},t.prototype.onDismiss=function(t){this.open=!1},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(a.a),n.Mb(a.d))},t.\u0275cmp=n.Gb({type:t,selectors:[["ratings-filter"]],hostVars:2,hostBindings:function(t,e){1&t&&n.ac("click",(function(t){return e.onClick(t)}))("click",(function(t){return e.onDismiss(t)}),!1,n.sc),2&t&&n.Eb("ratings-filter",!0)},outputs:{onApply:"onApply"},decls:44,vars:8,consts:[[1,"button","-right-attach","-white",3,"click"],[1,"icon","material-icons"],[1,"dialog"],[1,"body"],[1,"form-group"],[1,"row"],[1,"col"],["for","ratings_from_date",1,"label"],["type","date","id","ratings_from_date",1,"input",3,"ngModel","ngModelChange"],["for","ratings_to_date",1,"label"],["type","date","id","ratings_to_date",1,"input",3,"ngModel","ngModelChange"],[1,"form-group","-last"],[1,"label"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"footer"],[1,"button","-alt",3,"click"],[1,"button","-primary",3,"click"]],template:function(t,e){1&t&&(n.Sb(0,"button",0),n.ac("click",(function(){return e.toggle()})),n.Sb(1,"span",1),n.Dc(2,"filter_list"),n.Rb(),n.Sb(3,"span"),n.Dc(4,"Filters"),n.Rb(),n.Rb(),n.Sb(5,"div",2),n.Sb(6,"div",3),n.Sb(7,"div",4),n.Sb(8,"div",5),n.Sb(9,"div",6),n.Sb(10,"div",4),n.Sb(11,"label",7),n.Dc(12,"From"),n.Rb(),n.Sb(13,"input",8),n.ac("ngModelChange",(function(t){return e.filters.from_date=t})),n.Rb(),n.Rb(),n.Rb(),n.Sb(14,"div",6),n.Sb(15,"div",4),n.Sb(16,"label",9),n.Dc(17,"To"),n.Rb(),n.Sb(18,"input",10),n.ac("ngModelChange",(function(t){return e.filters.to_date=t})),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(19,"div",11),n.Sb(20,"label",12),n.Dc(21,"Status"),n.Rb(),n.Sb(22,"div"),n.Sb(23,"label",13),n.Sb(24,"input",14),n.ac("ngModelChange",(function(t){return e.filters.status.accepted=t})),n.Rb(),n.Sb(25,"span"),n.Dc(26,"Accepted"),n.Rb(),n.Rb(),n.Sb(27,"label",13),n.Sb(28,"input",14),n.ac("ngModelChange",(function(t){return e.filters.status.rejected=t})),n.Rb(),n.Sb(29,"span"),n.Dc(30,"Rejected"),n.Rb(),n.Rb(),n.Sb(31,"label",13),n.Sb(32,"input",14),n.ac("ngModelChange",(function(t){return e.filters.status.revoked=t})),n.Rb(),n.Sb(33,"span"),n.Dc(34,"Revoked"),n.Rb(),n.Rb(),n.Sb(35,"label",13),n.Sb(36,"input",14),n.ac("ngModelChange",(function(t){return e.filters.status.changed=t})),n.Rb(),n.Sb(37,"span"),n.Dc(38,"Changed"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(39,"div",15),n.Sb(40,"button",16),n.ac("click",(function(){return e.toggle()})),n.Dc(41,"Cancel"),n.Rb(),n.Sb(42,"button",17),n.ac("click",(function(){return e.applyFilters()})),n.Dc(43,"Apply"),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(5),n.Eb("is-open",e.isOpen()),n.Ab(8),n.kc("ngModel",e.filters.from_date),n.Ab(5),n.kc("ngModel",e.filters.to_date),n.Ab(6),n.kc("ngModel",e.filters.status.accepted),n.Ab(4),n.kc("ngModel",e.filters.status.rejected),n.Ab(4),n.kc("ngModel",e.filters.status.revoked),n.Ab(4),n.kc("ngModel",e.filters.status.changed))},directives:[B.c,B.n,B.q,B.a],encapsulation:2}),t}();function ti(t,e){1&t&&n.Nb(0,"loading-indicator")}function ei(t,e){if(1&t){var i=n.Tb();n.Sb(0,"span",3),n.Dc(1,"Export as"),n.Rb(),n.Sb(2,"div",4),n.Sb(3,"button",5),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.exportAs(t.CSV_FORMAT)})),n.Sb(4,"span"),n.Dc(5,"CSV"),n.Rb(),n.Rb(),n.Sb(6,"button",5),n.ac("click",(function(){n.tc(i);var t=n.ec();return t.exportAs(t.JSON_FORMAT)})),n.Sb(7,"span"),n.Dc(8,"JSON"),n.Rb(),n.Rb(),n.Rb()}}var ii=function(){function t(t,e){this.editor=t,this.ratingsService=e,this.filters={},this.IS_EXPORTING=this.ratingsService.exporting$,this.CSV_FORMAT="csv",this.JSON_FORMAT="json"}return t.prototype.exportAs=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:return[4,this.ratingsService.export(this.editor.widget.uid,t,this.filters)];case 1:return e.sent(),[2]}}))}))},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(Ve))},t.\u0275cmp=n.Gb({type:t,selectors:[["ratings-export"]],inputs:{filters:"filters"},decls:5,vars:4,consts:[[1,"form-group","-inline"],[4,"ngIf","ngIfElse"],["exportButtons",""],[1,"label"],[1,"button-group"],[1,"button","-white",3,"click"]],template:function(t,e){if(1&t&&(n.Sb(0,"div",0),n.Bc(1,ti,1,0,"loading-indicator",1),n.fc(2,"async"),n.Bc(3,ei,9,0,"ng-template",null,2,n.Cc),n.Rb()),2&t){var i=n.rc(4);n.Ab(1),n.kc("ngIf",n.gc(2,2,e.IS_EXPORTING))("ngIfElse",i)}},directives:[m.t,U.a],pipes:[m.b],encapsulation:2}),t}(),ni=i("Qzon"),oi=["ratingsTable"],ri=["filtersComponent"];function ai(t,e){1&t&&(n.Sb(0,"tr",25),n.Sb(1,"td",26),n.Nb(2,"loading-indicator"),n.Rb(),n.Rb())}function si(t,e){1&t&&(n.Sb(0,"tr"),n.Sb(1,"td",29),n.Nb(2,"empty-state",30),n.Rb(),n.Rb())}function ci(t,e){if(1&t&&(n.Sb(0,"a",41),n.Dc(1),n.Rb()),2&t){var i=n.ec().$implicit;n.kc("href",i.entity.url,n.vc),n.Ab(1),n.Fc(" ",i.entity.name," ")}}function li(t,e){if(1&t&&(n.Sb(0,"span"),n.Dc(1),n.Rb()),2&t){var i=n.ec().$implicit;n.Ab(1),n.Ec(i.entity.name)}}function di(t,e){1&t&&(n.Sb(0,"span"),n.Dc(1,"Unknown"),n.Rb())}function bi(t,e){1&t&&n.Nb(0,"loading-indicator")}function pi(t,e){if(1&t){var i=n.Tb();n.Sb(0,"a",44),n.ac("click",(function(t){n.tc(i);var e=n.ec(2).$implicit;return n.ec(2).deleteRating(e.uid,t)})),n.Dc(1,"delete"),n.Rb()}}var ui=function(t){return[t]};function gi(t,e){if(1&t){var i=n.Tb();n.Sb(0,"a",45),n.ac("click",(function(){n.tc(i);var t=n.ec(2).$implicit;return n.ec(2).openRating(t)})),n.Dc(1,"visibility"),n.Rb()}if(2&t){var o=n.ec(2).$implicit;n.kc("routerLink",n.oc(1,ui,o.uid))}}function fi(t,e){if(1&t&&(n.Bc(0,pi,2,0,"a",42),n.Bc(1,gi,2,3,"a",43)),2&t){var i=n.ec().$implicit;n.kc("ngIf","deleted"!==i.status),n.Ab(1),n.kc("ngIf","deleted"!==i.status)}}function hi(t,e){if(1&t&&(n.Sb(0,"tr",31),n.Sb(1,"td",15),n.Sb(2,"small",32),n.Dc(3),n.Rb(),n.Sb(4,"span",33),n.Dc(5),n.Sb(6,"small"),n.Dc(7),n.Rb(),n.Rb(),n.Rb(),n.Sb(8,"td",16),n.Sb(9,"small",32),n.Dc(10),n.Rb(),n.Bc(11,ci,2,2,"a",34),n.Bc(12,li,2,1,"span",27),n.Bc(13,di,2,0,"span",27),n.Rb(),n.Sb(14,"td",35),n.Sb(15,"span",36),n.Dc(16),n.Rb(),n.Rb(),n.Sb(17,"td",18),n.Sb(18,"span",37),n.Dc(19),n.fc(20,"amTimeAgo"),n.fc(21,"amFromUtc"),n.Rb(),n.Rb(),n.Sb(22,"td",19),n.Sb(23,"span",36),n.Dc(24),n.Rb(),n.Rb(),n.Sb(25,"td",20),n.Sb(26,"span",36),n.Dc(27),n.Rb(),n.Rb(),n.Sb(28,"td",38),n.Bc(29,bi,1,0,"loading-indicator",39),n.fc(30,"async"),n.Bc(31,fi,2,2,"ng-template",null,40,n.Cc),n.Rb(),n.Rb()),2&t){var i,o=e.$implicit,r=n.rc(32),a=n.ec(2);n.mc("id","rating_",o.uid,""),n.Ab(3),n.Ec(null==(i=a.getRatingAttribute(o))?null:i.label),n.Ab(2),n.Fc("",a.getRatingValue(o)," "),n.Ab(1),n.Db("status-badge is-",o.status,""),n.Ab(1),n.Ec(o.status),n.Ab(3),n.Ec((null==o.entity?null:o.entity.typeName)||o.entity_type),n.Ab(1),n.kc("ngIf",o.entity&&o.entity.url),n.Ab(1),n.kc("ngIf",o.entity&&!o.entity.url),n.Ab(1),n.kc("ngIf",!o.entity),n.Ab(3),n.Ec(o.comment),n.Ab(2),n.kc("title",o.created_at),n.Ab(1),n.Ec(n.gc(20,18,n.gc(21,20,o.created_at))),n.Ab(5),n.Ec(o.user?o.user.name:"Anonymous"),n.Ab(3),n.Ec(o.ip),n.Ab(2),n.kc("ngIf",n.gc(30,22,a.IS_DELETING_RATING))("ngIfElse",r)}}function mi(t,e){if(1&t&&(n.Bc(0,si,3,0,"tr",27),n.Bc(1,hi,33,24,"tr",28)),2&t){var i=n.ec();n.kc("ngIf",0==i.ratings.length),n.Ab(1),n.kc("ngForOf",i.ratings)}}function vi(t,e){if(1&t&&(n.Sb(0,"option",52),n.Dc(1),n.Rb()),2&t){var i=e.index;n.kc("value",i+1),n.Ab(1),n.Ec(i+1)}}var wi=function(){return[]};function xi(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",46),n.Sb(1,"div",47),n.Dc(2),n.Rb(),n.Sb(3,"div",4),n.Sb(4,"button",48),n.ac("click",(function(){return n.tc(i),n.ec().previousPage()})),n.Dc(5," Previous "),n.Rb(),n.Sb(6,"select",49),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().goToPage(t)})),n.Bc(7,vi,2,2,"option",50),n.Rb(),n.Sb(8,"button",51),n.ac("click",(function(){return n.tc(i),n.ec().nextPage()})),n.Dc(9," Next "),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=n.ec();n.Ab(2),n.Hc(" Showing from ",o.showingFrom," to ",o.showingTo," of ",o.showingTotal," "),n.Ab(2),n.kc("disabled",!o.hasPreviousPage()),n.Ab(2),n.kc("ngModel",o.page),n.Ab(1),n.kc("ngForOf",n.nc(7,wi).constructor(o.pagination.pages)),n.Ab(1),n.kc("disabled",!o.hasNextPage())}}var yi=function(){function t(t,e,i,n,o){this.editor=t,this.route=e,this.router=i,this.ratingsService=n,this.widgetService=o,this._page=1,this.IS_FETCHING=this.ratingsService.fetching$,this.IS_DELETING=this.widgetService.deleting$,this.IS_DELETING_RATING=this.ratingsService.deleting$,this.ratings=[]}return Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(t){this._page=t,this.filtersComponent.setPage(t)},enumerable:!0,configurable:!0}),t.prototype.fetch=function(t){return void 0===t&&(t={}),Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(i){switch(i.label){case 0:return[4,this.ratingsService.all(this.editor.widget.uid,t)];case 1:return e=i.sent(),this.pagination=e.data.pagination,this._page=this.pagination.current,this.ratings=e.data.items,[2]}}))}))},t.prototype.all=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2]}}))}))},t.prototype.openRating=function(t){this.currentRating=t},t.prototype.deleteRating=function(t,e){var i,n=this;if((null===(i=e)||void 0===i?void 0:i.altKey)||confirm("Are you sure? To skip this confirmation next time, hold the ALT key.")){var o=this.ratingsTable.nativeElement.querySelector("#rating_"+t);o.classList.add("is-deleted"),this.ratingsService.delete(t).then((function(t){var e=t.data;n.ratings.forEach((function(t){if(t.uid===e.uid)return t.status="deleted",void setTimeout((function(){o.remove()}),2e3)}))})).catch((function(){o.classList.remove("is-deleted")}))}e.preventDefault()},t.prototype.resetRatings=function(){var t=this;"purge"===prompt("Type \u201cpurge\u201d to confirm the deletion of all ratings. This action is irreversible!","")&&this.widgetService.reset(this.editor.widget.uid).then((function(){t.ratings=[]}))},t.prototype.hasPreviousPage=function(){return+this.page-1>0},t.prototype.hasNextPage=function(){return+this.page+1<=this.pagination.pages},t.prototype.previousPage=function(){this.hasPreviousPage()&&this.goToPage(+this.page-1)},t.prototype.nextPage=function(){this.hasNextPage()&&this.goToPage(+this.page+1)},t.prototype.goToPage=function(t){this.page=t},Object.defineProperty(t.prototype,"showingFrom",{get:function(){var t=(this.pagination.current-1)*this.pagination.per_page;return t>0?t:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showingTo",{get:function(){var t=this.pagination.current*this.pagination.per_page;return t>this.pagination.total?this.pagination.total:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showingTotal",{get:function(){return this.pagination.total},enumerable:!0,configurable:!0}),t.prototype.getRatingAttribute=function(t){return this.editor.widget.attributes.find((function(e){return e.uid===t.attribute_uid}))},t.prototype.getRatingValue=function(t){var e,i,n;return(null===(n=null===(i=null===(e=this.getRatingAttribute(t))||void 0===e?void 0:e.points)||void 0===i?void 0:i.find((function(e){return e.uid===t.point_uid})))||void 0===n?void 0:n.label)||t.value},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(a.a),n.Mb(a.d),n.Mb(Ve),n.Mb(S))},t.\u0275cmp=n.Gb({type:t,selectors:[["ratings"]],viewQuery:function(t,e){var i;1&t&&(n.Ic(oi,!0),n.Ic(ri,!0)),2&t&&(n.qc(i=n.bc())&&(e.ratingsTable=i.first),n.qc(i=n.bc())&&(e.filtersComponent=i.first))},decls:49,vars:16,consts:[["screen","widget-ratings"],[1,"ratings-toolbar"],[1,"row"],[1,"col-auto"],[1,"buttons"],[1,"button","-white","-left-attach",3,"disabled","click"],[1,"icon","material-icons"],[3,"onApply"],["filtersComponent",""],[1,"col"],[3,"filters"],[1,"button","-white",3,"disabled","click"],[1,"ratings-browser"],["ratingsTable",""],[1,"header"],[1,"column","is-rating"],[1,"column","is-entity"],[1,"column","is-agent"],[1,"column","is-date"],[1,"column","is-user"],[1,"column","is-ip"],[1,"body"],["class","loading-item",4,"ngIf","ngIfElse"],["items",""],["class","pagination-navigation",4,"ngIf"],[1,"loading-item"],["colspan","8"],[4,"ngIf"],["class","rating-item",3,"id",4,"ngFor","ngForOf"],["colspan","6"],["icon","weekend"],[1,"rating-item",3,"id"],[1,"entity-type"],[1,"avg-rating"],["target","_blank","class","entity-name",3,"href",4,"ngIf"],[1,"column","is-comment"],[1,"user"],[1,"time",3,"title"],[1,"column","is-actions"],[4,"ngIf","ngIfElse"],["actions",""],["target","_blank",1,"entity-name",3,"href"],["class","button -outline -icon material-icons","href","#","data-tooltip","Delete rating",3,"click",4,"ngIf"],["class","button -outline -icon material-icons","queryParamsHandling","preserve","data-tooltip","View details",3,"routerLink","click",4,"ngIf"],["href","#","data-tooltip","Delete rating",1,"button","-outline","-icon","material-icons",3,"click"],["queryParamsHandling","preserve","data-tooltip","View details",1,"button","-outline","-icon","material-icons",3,"routerLink","click"],[1,"pagination-navigation"],[1,"text"],["type","button",1,"button","-alt","-left-attach",3,"disabled","click"],[1,"input","-middle-attach",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"button","-alt","-right-attach",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"div",4),n.Sb(5,"button",5),n.ac("click",(function(){return e.all()})),n.fc(6,"async"),n.Sb(7,"span",6),n.Dc(8,"refresh"),n.Rb(),n.Sb(9,"span"),n.Dc(10,"Refresh"),n.Rb(),n.Rb(),n.Sb(11,"ratings-filter",7,8),n.ac("onApply",(function(t){return e.fetch(t)})),n.Rb(),n.Rb(),n.Rb(),n.Nb(13,"div",9),n.Sb(14,"div",3),n.Nb(15,"ratings-export",10),n.Rb(),n.Sb(16,"div",3),n.Sb(17,"button",11),n.ac("click",(function(){return e.resetRatings()})),n.fc(18,"async"),n.Sb(19,"span",6),n.Dc(20,"delete"),n.Rb(),n.Sb(21,"span"),n.Dc(22,"Purge"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(23,"table",12,13),n.Sb(25,"thead",14),n.Sb(26,"tr"),n.Sb(27,"th",15),n.Dc(28,"Rating"),n.Rb(),n.Sb(29,"th",16),n.Dc(30,"Entity"),n.Rb(),n.Sb(31,"th",17),n.Dc(32,"Comment"),n.Rb(),n.Sb(33,"th",18),n.Dc(34,"Date"),n.Rb(),n.Sb(35,"th",19),n.Dc(36,"User"),n.Rb(),n.Sb(37,"th",20),n.Dc(38,"IP"),n.Rb(),n.Nb(39,"th",20),n.Rb(),n.Rb(),n.Sb(40,"tbody",21),n.Bc(41,ai,3,0,"tr",22),n.fc(42,"async"),n.fc(43,"async"),n.Bc(44,mi,2,2,"ng-template",null,23,n.Cc),n.Rb(),n.Rb(),n.Bc(46,xi,10,8,"div",24),n.fc(47,"async"),n.Nb(48,"router-outlet")),2&t){var i=n.rc(12),o=n.rc(45);n.Ab(5),n.kc("disabled",n.gc(6,6,e.IS_FETCHING)),n.Ab(10),n.kc("filters",i.filtersForApply),n.Ab(2),n.kc("disabled",n.gc(18,8,e.IS_DELETING)||!e.ratings.length),n.Ab(24),n.kc("ngIf",n.gc(42,10,e.IS_FETCHING)||n.gc(43,12,e.IS_DELETING))("ngIfElse",o),n.Ab(5),n.kc("ngIf",e.pagination&&e.pagination.total>0&&!n.gc(47,14,e.IS_FETCHING))}},directives:[z.a,Ze,ii,m.t,a.i,U.a,m.s,ni.a,a.g,B.z,B.n,B.q,B.s,B.B],pipes:[m.b,v.p,v.g],encapsulation:2}),t}(),ki=i("iEMC");function Si(t,e){1&t&&n.Nb(0,"loading-state")}function Ri(t,e){if(1&t&&(n.Sb(0,"a",17),n.Dc(1),n.Rb()),2&t){var i=n.ec(2);n.kc("href",i.rating.entity.url,n.vc),n.Ab(1),n.Fc(" ",i.rating.entity.name," ")}}function Ai(t,e){if(1&t&&(n.Sb(0,"span"),n.Dc(1),n.Rb()),2&t){var i=n.ec(2);n.Ab(1),n.Ec(i.rating.entity.name)}}function Ti(t,e){1&t&&(n.Sb(0,"span"),n.Dc(1,"Unknown"),n.Rb())}function Di(t,e){if(1&t&&(n.Sb(0,"div",10),n.Sb(1,"div",11),n.Sb(2,"span",12),n.Dc(3,"comment"),n.Rb(),n.Sb(4,"div"),n.Sb(5,"h4",8),n.Dc(6,"Comment"),n.Rb(),n.Sb(7,"p",9),n.Dc(8),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t){var i=n.ec(2);n.Ab(8),n.Ec(i.rating.comment)}}function Ci(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",4),n.ac("click",(function(t){return n.tc(i),n.ec().close(t)})),n.Dc(1,"close"),n.Rb(),n.Sb(2,"div",5),n.Sb(3,"div",6),n.Sb(4,"span",7),n.Dc(5,"person"),n.Rb(),n.Rb(),n.Sb(6,"h4",8),n.Dc(7),n.Rb(),n.Sb(8,"p",9),n.Dc(9),n.fc(10,"amTimeAgo"),n.Rb(),n.Rb(),n.Sb(11,"div",10),n.Sb(12,"div",11),n.Sb(13,"span",12),n.Dc(14,"star"),n.Rb(),n.Sb(15,"div"),n.Sb(16,"h4",8),n.Dc(17),n.Rb(),n.Sb(18,"p",9),n.Dc(19),n.Rb(),n.Rb(),n.Rb(),n.Sb(20,"div",11),n.Sb(21,"span",12),n.Dc(22,"description"),n.Rb(),n.Sb(23,"div"),n.Sb(24,"h4",8),n.Dc(25),n.Rb(),n.Sb(26,"span",9),n.Bc(27,Ri,2,2,"a",13),n.Bc(28,Ai,2,1,"span",14),n.Bc(29,Ti,2,0,"span",14),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Bc(30,Di,9,1,"div",15),n.Sb(31,"div",10),n.Sb(32,"div",11),n.Sb(33,"span",12),n.Dc(34,"desktop_windows"),n.Rb(),n.Sb(35,"div"),n.Sb(36,"h4",8),n.Dc(37,"User agent"),n.Rb(),n.Sb(38,"p",16),n.Dc(39),n.fc(40,"platform"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(41,"div",10),n.Sb(42,"div",11),n.Sb(43,"span",12),n.Dc(44,"public"),n.Rb(),n.Sb(45,"div"),n.Sb(46,"h4",8),n.Dc(47,"IP Address"),n.Rb(),n.Sb(48,"p",9),n.Dc(49),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(50,"div",10),n.Sb(51,"div",11),n.Sb(52,"span",12),n.Dc(53,"fingerprint"),n.Rb(),n.Sb(54,"div"),n.Sb(55,"h4",8),n.Dc(56,"Unique ID"),n.Rb(),n.Sb(57,"p",9),n.Dc(58),n.Rb(),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=n.ec();n.Ab(7),n.Ec(o.rating.user?o.rating.user.name:"Anonymous"),n.Ab(2),n.Ec(n.gc(10,13,o.rating.created_at)),n.Ab(8),n.Ec((null==o.attribute?null:o.attribute.label)||"Rating"),n.Ab(2),n.Ec((o.point?o.point.label:"")||o.rating.value),n.Ab(6),n.Ec((null==o.rating.entity?null:o.rating.entity.typeName)||o.rating.entity_type),n.Ab(2),n.kc("ngIf",o.rating.entity&&o.rating.entity.url),n.Ab(1),n.kc("ngIf",o.rating.entity&&!o.rating.entity.url),n.Ab(1),n.kc("ngIf",!o.rating.entity),n.Ab(1),n.kc("ngIf",o.rating.comment),n.Ab(8),n.kc("title",o.rating.agent),n.Ab(1),n.Ec(n.gc(40,15,o.rating.agent)),n.Ab(10),n.Ec(o.rating.ip),n.Ab(9),n.Ec(o.rating.uid)}}var _i=function(){function t(t,e,i,n,o){this.editor=t,this.ratingsService=e,this.ratingsBrowser=i,this.router=n,this.route=o,this.rating=this.ratingsBrowser.currentRating,this.IS_GETTING=this.ratingsService.getting$}return Object.defineProperty(t.prototype,"attribute",{get:function(){var t=this;return this.editor.widget.attributes.find((function(e){return e.uid===t.rating.attribute_uid}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"point",{get:function(){var t,e,i=this;return null===(e=null===(t=this.attribute)||void 0===t?void 0:t.points)||void 0===e?void 0:e.find((function(t){return t.uid===i.rating.point_uid}))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){return Object(o.b)(this,void 0,void 0,(function(){var t=this;return Object(o.d)(this,(function(e){return this.subscription=this.route.paramMap.subscribe((function(e){return Object(o.b)(t,void 0,void 0,(function(){var t,i;return Object(o.d)(this,(function(n){switch(n.label){case 0:return t=e.get("ratingUid"),this.rating?[3,2]:(i=this,[4,this.ratingsService.get(t)]);case 1:i.rating=n.sent().data,n.label=2;case 2:return[2]}}))}))})),[2]}))}))},t.prototype.ngOnDestroy=function(){this.ratingsBrowser.currentRating=null,this.subscription.unsubscribe()},t.prototype.onDismiss=function(t){t.preventDefault(),this.close()},t.prototype.close=function(t){this.router.navigate([".."],{relativeTo:this.route,queryParamsHandling:"preserve"})},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(Ve),n.Mb(yi),n.Mb(a.d),n.Mb(a.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["rating"]],hostBindings:function(t,e){1&t&&n.ac("keydown.escape",(function(t){return e.onDismiss(t)}),!1,n.sc)},decls:6,vars:4,consts:[[1,"rating-dialog"],[1,"content"],[4,"ngIf","ngIfElse"],["content",""],[1,"close","button","-outline","-icon","material-icons",3,"click"],[1,"user"],[1,"avatar"],[1,"material-icons"],[1,"name"],[1,"value"],[1,"details"],[1,"item"],[1,"icon","material-icons"],["target","_blank",3,"href",4,"ngIf"],[4,"ngIf"],["class","details",4,"ngIf"],[1,"value",3,"title"],["target","_blank",3,"href"]],template:function(t,e){if(1&t&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Bc(2,Si,1,0,"loading-state",2),n.fc(3,"async"),n.Bc(4,Ci,59,17,"ng-template",null,3,n.Cc),n.Rb(),n.Rb()),2&t){var i=n.rc(5);n.Ab(2),n.kc("ngIf",n.gc(3,2,e.IS_GETTING))("ngIfElse",i)}},directives:[m.t,P.a],pipes:[m.b,v.p,ki.a],encapsulation:2}),t}(),Mi=i("LJd0"),Oi=function(t){return{action:"create-from-preset",target:t}},Ei=function(){return["wizard"]},Ii=function(t){return{overlay:t}},ji=function(t){return{outlets:t}},zi=function(t){return["",t]},Pi=function(t){return{preset:t}};function Ni(t,e){if(1&t&&(n.Sb(0,"div",6),n.Sb(1,"button",7),n.Sb(2,"span",8),n.Dc(3),n.Rb(),n.Sb(4,"span",9),n.Dc(5),n.Rb(),n.Rb(),n.Rb()),2&t){var i=e.$implicit;n.Ab(1),n.kc("clickTracker",n.oc(5,Oi,i.id))("routerLink",n.oc(12,zi,n.oc(10,ji,n.oc(8,Ii,n.nc(7,Ei)))))("queryParams",n.oc(14,Pi,i.id)),n.Ab(2),n.Ec(i.icon),n.Ab(2),n.Ec(i.label)}}var Bi=function(){function t(t){this.config=t,this.presets=this.config.presets}return t.\u0275fac=function(e){return new(e||t)(n.Mb(d))},t.\u0275cmp=n.Gb({type:t,selectors:[["quick-start-card"]],decls:9,vars:4,consts:[[1,"quick-start"],[1,"title"],[1,"description"],[1,"row"],["class","col-auto",4,"ngFor","ngForOf"],["alt","Quick start",1,"illustration",3,"src"],[1,"col-auto"],["type","button",1,"button","-preset",3,"clickTracker","routerLink","queryParams"],[1,"icon","material-icons"],[1,"name"]],template:function(t,e){1&t&&(n.Sb(0,"card",0),n.Sb(1,"h1",1),n.Dc(2,"Hey! Let's get started"),n.Rb(),n.Sb(3,"p",2),n.Dc(4,"Create your first rating widget by choosing a widget from the presets or a custom one."),n.Rb(),n.Sb(5,"div",3),n.Bc(6,Ni,6,16,"div",4),n.Rb(),n.Nb(7,"img",5),n.fc(8,"baseUrl"),n.Rb()),2&t&&(n.Ab(6),n.kc("ngForOf",e.presets),n.Ab(1),n.kc("src",n.gc(8,2,"assets/images/quick-start-illustration.svg"),n.vc))},directives:[pe.a,m.s,F.a,a.e],pipes:[Mi.a],encapsulation:2}),t}(),Fi=function(){function t(t){this.config=t,this.documentationUrl=this.config.support.documentation}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(n.Mb(d))},t.\u0275cmp=n.Gb({type:t,selectors:[["documentation-card"]],decls:10,vars:1,consts:[[1,"documentation-card"],[1,"icon","material-icons"],[1,"title"],[1,"description"],["target","_blank",1,"button","-pill","-outline","-primary",3,"href"]],template:function(t,e){1&t&&(n.Sb(0,"card"),n.Sb(1,"div",0),n.Sb(2,"span",1),n.Dc(3,"contact_support"),n.Rb(),n.Sb(4,"h4",2),n.Dc(5,"Documentation"),n.Rb(),n.Sb(6,"p",3),n.Dc(7,"Read the documentation to get familiar with TotalRating in few minutes."),n.Rb(),n.Sb(8,"a",4),n.Dc(9,"Open Documentation"),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(8),n.kc("href",e.documentationUrl,n.vc))},directives:[pe.a],encapsulation:2}),t}(),Ui=function(){return["wizard"]},Li=function(t){return{overlay:t}},Gi=function(t){return{outlets:t}},$i=function(t){return["",t]},Vi=function(){return{preset:"fivestars"}},qi=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["widget-creation-card"]],decls:5,vars:10,consts:[[1,"widget-card","-create",3,"routerLink","queryParams"],[1,"icon","material-icons"],[1,"title"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"span",1),n.Dc(2,"add_circle"),n.Rb(),n.Sb(3,"h4",2),n.Dc(4,"New Widget"),n.Rb(),n.Rb()),2&t&&n.kc("routerLink",n.oc(7,$i,n.oc(5,Gi,n.oc(3,Li,n.nc(2,Ui)))))("queryParams",n.nc(9,Vi))},directives:[a.e],encapsulation:2}),t}(),Hi=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["widget-skeleton-card"]],decls:3,vars:0,consts:[[1,"widget-card","-skeleton"],[1,"icon"],[1,"title"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Nb(1,"div",1),n.Nb(2,"div",2),n.Rb())},encapsulation:2}),t}();function Wi(t,e){1&t&&(n.Qb(0),n.Nb(1,"loading-indicator"),n.Sb(2,"p",19),n.Dc(3,"One moment please..."),n.Rb(),n.Pb())}var Yi=function(){return{action:"cancel-trash-widget",target:"widget"}},Qi=function(){return{action:"confirm-trash-widget",target:"widget"}};function Ji(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"span",11),n.Dc(2,"warning"),n.Rb(),n.Sb(3,"p",19),n.Dc(4,"You're going to trash this widget, are you sure?"),n.Rb(),n.Sb(5,"div",20),n.Sb(6,"button",21),n.ac("click",(function(){return n.tc(i),n.ec(2).cancelRemoval()})),n.Dc(7,"Cancel"),n.Rb(),n.Sb(8,"button",22),n.ac("click",(function(){return n.tc(i),n.ec(2).trash()})),n.Dc(9,"I'm sure"),n.Rb(),n.Rb(),n.Pb()}2&t&&(n.Ab(6),n.kc("clickTracker",n.nc(2,Yi)),n.Ab(2),n.kc("clickTracker",n.nc(3,Qi)))}function Ki(t,e){1&t&&(n.Qb(0),n.Nb(1,"loading-indicator"),n.Sb(2,"p",19),n.Dc(3,"Okay, we're trashing it..."),n.Rb(),n.Pb())}var Xi=function(){return{action:"erase-widget",target:"widget"}},Zi=function(){return{action:"undo-trash-widget",target:"widget"}};function tn(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"span",11),n.Dc(2,"delete"),n.Rb(),n.Sb(3,"p",19),n.Dc(4,"Widget has been trashed."),n.Rb(),n.Sb(5,"div",20),n.Sb(6,"button",21),n.ac("click",(function(){return n.tc(i),n.ec(2).remove()})),n.Dc(7,"Erase"),n.Rb(),n.Sb(8,"button",22),n.ac("click",(function(){return n.tc(i),n.ec(2).undoRemoval()})),n.Dc(9,"Undo"),n.Rb(),n.Rb(),n.Pb()}2&t&&(n.Ab(6),n.kc("clickTracker",n.nc(2,Xi)),n.Ab(2),n.kc("clickTracker",n.nc(3,Zi)))}function en(t,e){1&t&&(n.Qb(0),n.Nb(1,"loading-indicator"),n.Sb(2,"p",19),n.Dc(3,"Getting the widget back..."),n.Rb(),n.Pb())}function nn(t,e){1&t&&(n.Qb(0),n.Sb(1,"span",23),n.Dc(2,"\ud83d\ude80"),n.Rb(),n.Sb(3,"p",19),n.Dc(4,"Sending it to a black hole..."),n.Rb(),n.Pb())}function on(t,e){if(1&t&&(n.Sb(0,"div",17),n.Bc(1,Wi,4,0,"ng-container",18),n.Bc(2,Ji,10,4,"ng-container",18),n.Bc(3,Ki,4,0,"ng-container",18),n.Bc(4,tn,10,4,"ng-container",18),n.Bc(5,en,4,0,"ng-container",18),n.Bc(6,nn,5,0,"ng-container",18),n.Rb()),2&t){var i=n.ec();n.Ab(1),n.kc("ngIf",i.isStatus(i.STATUS_UPDATING)),n.Ab(1),n.kc("ngIf",i.isStatus(i.STATUS_REQUESTED)),n.Ab(1),n.kc("ngIf",i.isStatus(i.STATUS_TRASHING)),n.Ab(1),n.kc("ngIf",i.isStatus(i.STATUS_TRASHED)),n.Ab(1),n.kc("ngIf",i.isStatus(i.STATUS_RESTORING)),n.Ab(1),n.kc("ngIf",i.isStatus(i.STATUS_REMOVING))}}var rn=function(){return{action:"delete-widget",target:"widget"}},an=function(){return{action:"duplicate-widget",target:"widgets"}},sn=function(t){return["editor",t,"ratings"]},cn=function(){return{action:"view-ratings",target:"widget"}},ln=function(t){return["editor",t]},dn=function(){return{action:"setting-widget",target:"widget"}},bn=function(){return{action:"preview-widget",target:"widgets"}},pn=function(){function t(t,e,i){this.widgetsService=t,this.router=e,this.route=i,this.onRemove=new n.n,this.STATUS_DEFAULT="default",this.STATUS_REQUESTED="requested",this.STATUS_TRASHING="trashing",this.STATUS_TRASHED="trashed",this.STATUS_RESTORING="restoring",this.STATUS_REMOVING="removing",this.STATUS_REMOVED="removed",this.STATUS_UPDATING="updating",this.status=this.STATUS_DEFAULT}return t.prototype.isStatus=function(t){return this.status==t},t.prototype.requestRemoval=function(){this.status=this.STATUS_REQUESTED},t.prototype.cancelRemoval=function(){this.status=this.STATUS_DEFAULT},t.prototype.trash=function(){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(e){switch(e.label){case 0:return this.status=this.STATUS_TRASHING,[4,this.widgetsService.trash(this.widget.uid)];case 1:return t=e.sent(),this.status=t.success?this.STATUS_TRASHED:this.STATUS_TRASHING,[2]}}))}))},t.prototype.undoRemoval=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){switch(t.label){case 0:return this.status=this.STATUS_RESTORING,[4,this.widgetsService.restore(this.widget.uid)];case 1:return t.sent().success&&(this.status=this.STATUS_DEFAULT),[2]}}))}))},t.prototype.remove=function(){return Object(o.b)(this,void 0,void 0,(function(){var t=this;return Object(o.d)(this,(function(e){switch(e.label){case 0:return this.status=this.STATUS_REMOVING,[4,this.widgetsService.delete(this.widget.uid)];case 1:return e.sent().success&&(this.status=this.STATUS_REMOVED,setTimeout((function(){t.onRemove.emit(t.widget)}),1e3)),[2]}}))}))},t.prototype.toggleEnabled=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:return this.status=this.STATUS_UPDATING,[4,this.widgetsService.enabled(this.widget.uid,t.target.checked)];case 1:return e.sent().success&&(this.status=this.STATUS_DEFAULT),[2]}}))}))},t.prototype.duplicate=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e=this;return Object(o.d)(this,(function(i){return(t=this.widgetsService.duplicateModel(this.widget)).name=t.name.concat(" (Copy)"),this.widgetsService.create(t).then((function(t){return Object(o.b)(e,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:return[4,this.router.navigate(["/widgets/editor",t.data.uid])];case 1:return e.sent(),[2]}}))}))})),[2]}))}))},t.\u0275fac=function(e){return new(e||t)(n.Mb(S),n.Mb(a.d),n.Mb(a.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["widget-card"]],inputs:{widget:"widget"},outputs:{onRemove:"onRemove"},decls:41,vars:42,consts:[[1,"widget-card"],[1,"toolbar"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange","change"],[1,"label"],["type","button","data-tooltip","Delete",1,"button","-icon","-plain","material-icons",3,"clickTracker","click"],["data-tooltip","Duplicate","type","button",1,"button","-icon","-plain","material-icons",3,"clickTracker","click"],["data-tooltip","Browse ratings",1,"button","-icon","-plain","material-icons",3,"routerLink","clickTracker"],["data-tooltip","Edit",1,"button","-icon","-plain","material-icons",3,"routerLink","clickTracker"],["data-tooltip","Preview","target","_blank",1,"button","-icon","-plain","material-icons",3,"href","clickTracker","click"],[1,"body",3,"routerLink"],[1,"icon","material-icons"],[1,"name"],[1,"statistics",3,"routerLink"],[1,"segment"],[1,"value"],["class","operation",4,"ngIf"],[1,"operation"],[4,"ngIf"],[1,"description"],[1,"buttons"],["type","button",1,"button","-outline",3,"clickTracker","click"],["type","button",1,"button","-attention",3,"clickTracker","click"],[1,"icon"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"label",2),n.Sb(3,"input",3),n.ac("ngModelChange",(function(t){return e.widget.enabled=t}))("change",(function(t){return e.toggleEnabled(t)})),n.Rb(),n.Sb(4,"span",4),n.Dc(5),n.Rb(),n.Rb(),n.Sb(6,"button",5),n.ac("click",(function(){return e.requestRemoval()})),n.Dc(7," delete "),n.Rb(),n.Sb(8,"button",6),n.ac("click",(function(){return e.duplicate()})),n.Dc(9,"content_copy "),n.Rb(),n.Sb(10,"a",7),n.Dc(11,"leaderboard"),n.Rb(),n.Sb(12,"a",8),n.Dc(13,"settings"),n.Rb(),n.Sb(14,"a",9),n.ac("click",(function(t){return t.stopPropagation()})),n.Dc(15,"open_in_new"),n.Rb(),n.Rb(),n.Sb(16,"div",10),n.Sb(17,"div",11),n.Dc(18),n.Rb(),n.Sb(19,"h4",12),n.Dc(20),n.Rb(),n.Rb(),n.Sb(21,"div",13),n.Sb(22,"div",14),n.Sb(23,"div",15),n.Dc(24),n.fc(25,"number"),n.Rb(),n.Sb(26,"div",12),n.Dc(27,"Ratings"),n.Rb(),n.Rb(),n.Sb(28,"div",14),n.Sb(29,"div",15),n.Dc(30),n.fc(31,"number"),n.Rb(),n.Sb(32,"div",12),n.Dc(33,"Avg. Rating"),n.Rb(),n.Rb(),n.Sb(34,"div",14),n.Sb(35,"div",15),n.Dc(36),n.fc(37,"number"),n.Rb(),n.Sb(38,"div",12),n.Dc(39,"Today"),n.Rb(),n.Rb(),n.Rb(),n.Bc(40,on,7,6,"div",16),n.Rb()),2&t&&(n.Eb("is-removed",e.isStatus(e.STATUS_REMOVED))("is-disabled",!e.widget.enabled),n.Ab(3),n.kc("ngModel",e.widget.enabled),n.Ab(2),n.Ec(e.widget.enabled?"Enabled":"Disabled"),n.Ab(1),n.kc("clickTracker",n.nc(29,rn)),n.Ab(2),n.kc("clickTracker",n.nc(30,an)),n.Ab(2),n.kc("routerLink",n.oc(31,sn,e.widget.uid))("clickTracker",n.nc(33,cn)),n.Ab(2),n.kc("routerLink",n.oc(34,ln,e.widget.uid))("clickTracker",n.nc(36,dn)),n.Ab(2),n.kc("href",e.widget.url,n.vc)("clickTracker",n.nc(37,bn)),n.Ab(2),n.kc("routerLink",n.oc(38,ln,e.widget.uid)),n.Ab(2),n.Ec(e.widget.icon||"stars"),n.Ab(2),n.Ec(e.widget.name||"Untitled #"+e.widget.id),n.Ab(1),n.kc("routerLink",n.oc(40,sn,e.widget.uid)),n.Ab(3),n.Ec(n.gc(25,22,e.widget.statistics.total)),n.Ab(6),n.Ec(n.hc(31,24,e.widget.statistics.avg,"1.0-1")),n.Ab(6),n.Ec(n.gc(37,27,e.widget.statistics.today)),n.Ab(4),n.kc("ngIf",!e.isStatus(e.STATUS_DEFAULT)||e.isStatus(e.STATUS_UPDATING)))},directives:[B.a,B.n,B.q,F.a,a.g,a.e,m.t,U.a],pipes:[m.g],encapsulation:2}),t}();function un(t,e){1&t&&(n.Qb(0),n.Nb(1,"widget-skeleton-card",6),n.Nb(2,"widget-skeleton-card",6),n.Nb(3,"widget-skeleton-card",6),n.Pb())}function gn(t,e){if(1&t){var i=n.Tb();n.Sb(0,"widget-card",8),n.ac("onRemove",(function(t){return n.tc(i),n.ec(2).removeWidget(t)})),n.Rb()}2&t&&n.kc("widget",e.$implicit)}function fn(t,e){if(1&t&&(n.Qb(0),n.Bc(1,gn,1,1,"widget-card",7),n.Pb()),2&t){var i=n.ec();n.Ab(1),n.kc("ngForOf",i.widgets)}}function hn(t,e){1&t&&n.Nb(0,"empty-state")}var mn=function(){function t(t){this.widgetsService=t,this.widgets=[],this.IS_FETCHING=this.widgetsService.fetching$}return t.prototype.ngOnInit=function(){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(e){switch(e.label){case 0:return t=this,[4,this.widgetsService.all()];case 1:return t.widgets=e.sent().data,[2]}}))}))},t.prototype.removeWidget=function(t){var e=this.widgets.indexOf(t);this.widgets.splice(e,1)},t.\u0275fac=function(e){return new(e||t)(n.Mb(S))},t.\u0275cmp=n.Gb({type:t,selectors:[["widgets-page"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Eb("widgets-page",!0)},decls:13,vars:7,consts:[["screen","widgets"],[1,"container-fluid"],[1,"row"],[1,"col"],[1,"col-md-4"],[4,"ngIf"],[1,"col-md-3"],["class","col-md-3",3,"widget","onRemove",4,"ngFor","ngForOf"],[1,"col-md-3",3,"widget","onRemove"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Nb(3,"quick-start-card",3),n.Nb(4,"documentation-card",4),n.Rb(),n.Sb(5,"div",2),n.Bc(6,un,4,0,"ng-container",5),n.fc(7,"async"),n.Bc(8,fn,2,1,"ng-container",5),n.Nb(9,"widget-creation-card",6),n.Rb(),n.Bc(10,hn,1,0,"empty-state",5),n.fc(11,"async"),n.Rb(),n.Nb(12,"router-outlet")),2&t&&(n.Ab(6),n.kc("ngIf",n.gc(7,3,e.IS_FETCHING)),n.Ab(2),n.kc("ngIf",e.widgets.length>0),n.Ab(2),n.kc("ngIf",n.gc(11,5,e.IS_FETCHING)&&e.widgets.length))},directives:[z.a,Bi,Fi,m.t,qi,a.i,Hi,m.s,pn,ni.a],pipes:[m.b],encapsulation:2}),t}(),vn=i("pftK"),wn=i("q5oi");function xn(t,e){if(1&t&&n.Nb(0,"option",20),2&t){var i=e.$implicit;n.kc("value",i.id)("label",i.label)}}function yn(t,e){if(1&t&&n.Nb(0,"option",33),2&t){var i=e.$implicit;n.kc("label",i.label||"Attribute #"+(e.index+1))("value",i.uid)}}function kn(t,e){if(1&t&&n.Nb(0,"option",33),2&t){var i=e.$implicit;n.kc("label",i.label||"Point #"+(e.index+1))("value",i.uid)}}function Sn(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",21),n.Sb(1,"div",22),n.Sb(2,"select",23),n.ac("ngModelChange",(function(t){return n.tc(i),e.$implicit.attributeUid=t})),n.Sb(3,"option",24),n.Dc(4,"Choose an attribute"),n.Rb(),n.Bc(5,yn,1,2,"option",25),n.Rb(),n.Rb(),n.Sb(6,"div",26),n.Sb(7,"select",27),n.ac("ngModelChange",(function(t){return n.tc(i),e.$implicit.operator=t})),n.Sb(8,"option",28),n.Dc(9,"Less than"),n.Rb(),n.Sb(10,"option",29),n.Dc(11,"Equals"),n.Rb(),n.Sb(12,"option",30),n.Dc(13,"Greater than"),n.Rb(),n.Rb(),n.Rb(),n.Sb(14,"div",22),n.Sb(15,"select",31),n.ac("ngModelChange",(function(t){return n.tc(i),e.$implicit.pointUid=t})),n.Sb(16,"option",24),n.Dc(17,"Choose a point"),n.Rb(),n.Bc(18,kn,1,2,"option",25),n.Rb(),n.Rb(),n.Sb(19,"div",26),n.Sb(20,"button",32),n.ac("click",(function(t){n.tc(i);var o=e.$implicit;return n.ec(2).removeCondition(o,t)})),n.Dc(21," delete "),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec(2);n.Ab(2),n.kc("ngModel",o.attributeUid),n.Ab(3),n.kc("ngForOf",r.attributes),n.Ab(2),n.kc("ngModel",o.operator),n.Ab(8),n.kc("ngModel",o.pointUid),n.Ab(3),n.kc("ngForOf",r.attributePoints(o.attributeUid))}}function Rn(t,e){if(1&t&&n.Nb(0,"option",20),2&t){var i=e.$implicit;n.kc("value",i.id)("label",i.label)}}function An(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"span",3),n.Dc(4),n.Rb(),n.Rb(),n.Sb(5,"div",4),n.Sb(6,"h5",5),n.Dc(7,"Status"),n.Rb(),n.Sb(8,"small",6),n.Dc(9,"The status of this rule"),n.Rb(),n.Rb(),n.Sb(10,"div",7),n.Sb(11,"div",8),n.Sb(12,"button",9),n.ac("click",(function(){return n.tc(i),n.ec().rule.enabled=!0})),n.Dc(13," Enabled "),n.Rb(),n.Sb(14,"button",9),n.ac("click",(function(){return n.tc(i),n.ec().rule.enabled=!1})),n.Dc(15," Disabled "),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Nb(16,"hr"),n.Sb(17,"div",1),n.Sb(18,"div",2),n.Sb(19,"span",3),n.Dc(20,"offline_pin"),n.Rb(),n.Rb(),n.Sb(21,"div",4),n.Sb(22,"h5",5),n.Dc(23,"When"),n.Rb(),n.Sb(24,"small",6),n.Dc(25,"The trigger of this rule"),n.Rb(),n.Rb(),n.Sb(26,"div",7),n.Sb(27,"select",10),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().rule.event=t})),n.Bc(28,xn,1,2,"option",11),n.Rb(),n.Rb(),n.Rb(),n.Nb(29,"hr"),n.Sb(30,"div",1),n.Sb(31,"div",2),n.Sb(32,"span",3),n.Dc(33,"build_circle"),n.Rb(),n.Rb(),n.Sb(34,"div",4),n.Sb(35,"h5",5),n.Dc(36,"Where"),n.Rb(),n.Sb(37,"small",6),n.Dc(38,"The conditions to run this rule"),n.Rb(),n.Rb(),n.Sb(39,"div",12),n.Bc(40,Sn,22,5,"div",13),n.Sb(41,"button",14),n.ac("click",(function(){return n.tc(i),n.ec().addCondition()})),n.Sb(42,"span",3),n.Dc(43,"add"),n.Rb(),n.Sb(44,"span",15),n.Dc(45),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Nb(46,"hr"),n.Sb(47,"div",1),n.Sb(48,"div",2),n.Sb(49,"span",3),n.Dc(50,"offline_bolt"),n.Rb(),n.Rb(),n.Sb(51,"div",4),n.Sb(52,"h5",5),n.Dc(53,"Then"),n.Rb(),n.Sb(54,"small",6),n.Dc(55,"The task to run"),n.Rb(),n.Rb(),n.Sb(56,"div",16),n.Sb(57,"select",17),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().rule.task.id=t})),n.Bc(58,Rn,1,2,"option",11),n.Rb(),n.Sb(59,"div",18),n.Ob(60,19),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(4),n.Ec(o.rule.enabled?"play_circle_filled":"pause_circle_filled"),n.Ab(8),n.Eb("-primary",o.rule.enabled),n.Ab(2),n.Eb("-attention",!o.rule.enabled),n.Ab(13),n.kc("ngModel",o.rule.event),n.Ab(1),n.kc("ngForOf",o.events),n.Ab(12),n.kc("ngForOf",o.rule.conditions),n.Ab(5),n.Ec(o.rule.conditions.length?"And":"Add Condition"),n.Ab(12),n.kc("ngModel",o.rule.task.id),n.Ab(1),n.kc("ngForOf",o.tasks),n.Ab(2),n.kc("ngComponentOutlet",o.taskSettingsComponent)}}var Tn=function(){function t(t,e,i){this.editor=t,this.workflows=e,this.config=i,this.attributes=this.editor.widget.attributes,this.events=this.config.workflows.events,this.tasks=this.config.workflows.tasks}return t.prototype.attributePoints=function(t){var e;return(null===(e=this.attributes.find((function(e){return e.uid==t})))||void 0===e?void 0:e.points)||[]},Object.defineProperty(t.prototype,"taskSettingsComponent",{get:function(){return this.workflows.getTaskSettings(this.rule.task)},enumerable:!0,configurable:!0}),t.prototype.addCondition=function(){this.rule.conditions.push(this.workflows.getFreshCondition())},t.prototype.removeCondition=function(t,e){Object(l.d)(e)&&this.rule.conditions.splice(this.rule.conditions.indexOf(t),1)},t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(j),n.Mb(d))},t.\u0275cmp=n.Gb({type:t,selectors:[["workflow-rule"]],inputs:{rule:"rule"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","workflow-rule"],[1,"col-auto","col-icon"],[1,"icon","material-icons"],[1,"col-2","col-details"],[1,"title"],[1,"description"],[1,"col-3","col-form"],[1,"button-group"],["type","button",1,"button",3,"click"],[1,"input",3,"ngModel","ngModelChange"],[3,"value","label",4,"ngFor","ngForOf"],[1,"col-6","col-form","conditions"],["class","row no-gutters condition",4,"ngFor","ngForOf"],["type","button",1,"add","button","-small","-alt",3,"click"],[1,"name"],[1,"col-7","col-form"],[1,"input","col-5",3,"ngModel","ngModelChange"],[1,"task"],[3,"ngComponentOutlet"],[3,"value","label"],[1,"row","no-gutters","condition"],[1,"col"],[1,"input","-left-attach",3,"ngModel","ngModelChange"],["value",""],[3,"label","value",4,"ngFor","ngForOf"],[1,"col-auto"],[1,"input","-middle-attach",3,"ngModel","ngModelChange"],["value","lessThan"],["value","equals"],["value","greaterThan"],[1,"input","-right-attach",3,"ngModel","ngModelChange"],["type","button","data-tooltip","Remove",1,"remove","button","-plain","-icon","material-icons",3,"click"],[3,"label","value"]],template:function(t,e){1&t&&n.Bc(0,An,61,12,"ng-container",0),2&t&&n.kc("ngIf",e.rule)},directives:[m.t,B.z,B.n,B.q,m.s,m.r,B.s,B.B],encapsulation:2}),t}();function Dn(t,e){if(1&t){var i=n.Tb();n.Sb(0,"empty-state",4),n.Sb(1,"button",5),n.ac("click",(function(){return n.tc(i),n.ec().add()})),n.Dc(2,"Create a Rule"),n.Rb(),n.Rb()}}function Cn(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",17),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec(2).setCurrentRule(t)})),n.Sb(1,"span",18),n.Dc(2),n.Rb(),n.Sb(3,"button",19),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec(2).duplicate(t)})),n.Dc(4," filter_none "),n.Rb(),n.Sb(5,"button",20),n.ac("click",(function(t){n.tc(i);var o=e.$implicit;return n.ec(2).remove(o,t)})),n.Dc(6," delete "),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,r=e.index,a=n.ec(2);n.Eb("is-current",a.isCurrentRule(o)),n.Ab(2),n.Ec("Rule #"+(r+1))}}function _n(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",6),n.Sb(1,"div",7),n.Sb(2,"header",8),n.Sb(3,"div",9),n.Sb(4,"h5",10),n.Dc(5,"Rules"),n.Rb(),n.Sb(6,"small",11),n.Dc(7,"Workflow rules"),n.Rb(),n.Rb(),n.Sb(8,"div",12),n.Sb(9,"button",5),n.ac("click",(function(){return n.tc(i),n.ec().add()})),n.Dc(10,"Add Rule"),n.Rb(),n.Rb(),n.Rb(),n.Sb(11,"div",13),n.Bc(12,Cn,7,3,"div",14),n.Rb(),n.Rb(),n.Sb(13,"div",15),n.Nb(14,"workflow-rule",16),n.Rb(),n.Rb()}if(2&t){var o=n.ec();n.Ab(12),n.kc("ngForOf",o.rules),n.Ab(2),n.kc("rule",o.getCurrentRule())}}var Mn=function(){function t(t){this.editor=t,this.rules=this.editor.widget.settings.workflow.rules,this.rules.length&&this.setCurrentRule(this.rules[0])}return t.prototype.getFreshRule=function(){return{enabled:!0,event:"",conditions:[],task:{id:"",arguments:{}}}},t.prototype.add=function(){var t=this.getFreshRule();this.rules.push(t),this.setCurrentRule(t)},t.prototype.duplicate=function(t){var e=Object(l.g)({},t);this.rules.splice(this.rules.indexOf(t),0,e)},t.prototype.remove=function(t,e){var i;if(Object(l.d)(e)){var n=this.rules.indexOf(t);if(this.rules.splice(n,1),t===this.currentRule){var o=null!=(i=this.rules[n])?i:null;this.rules[n-1]?o=this.rules[n-1]:this.rules[n+1]&&(o=this.rules[n+1]),this.setCurrentRule(o)}}},t.prototype.isCurrentRule=function(t){return this.currentRule===t},t.prototype.setCurrentRule=function(t){var e=this;this.currentRule=null,setTimeout((function(){return e.currentRule=t}),10)},t.prototype.getCurrentRule=function(){return this.currentRule},t.\u0275fac=function(e){return new(e||t)(n.Mb(W))},t.\u0275cmp=n.Gb({type:t,selectors:[["workflow"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Eb("workflow-editor",!0)},decls:6,vars:2,consts:[["module","workflows-extension"],["screen","widget-workflow"],["icon","rule","heading","Nothing yet.","description","Start by creating a new workflow rule.",4,"ngIf","ngIfElse"],["rulesEditor",""],["icon","rule","heading","Nothing yet.","description","Start by creating a new workflow rule."],[1,"button","-primary",3,"click"],[1,"settings-panel"],[1,"navigation"],[1,"header","row"],[1,"col"],[1,"title"],[1,"description"],[1,"col-auto"],[1,"settings-tabs"],["class","item",3,"is-current","click",4,"ngFor","ngForOf"],[1,"content"],[3,"rule"],[1,"item",3,"click"],[1,"name"],["data-tooltip","Duplicate",1,"duplicate","button","-plain","-icon","material-icons",3,"click"],["data-tooltip","Remove",1,"remove","button","-plain","-icon","material-icons",3,"click"]],template:function(t,e){if(1&t&&(n.Nb(0,"pro-overlay",0),n.Nb(1,"module-activation",0),n.Nb(2,"screen-tracker",1),n.Bc(3,Dn,3,0,"empty-state",2),n.Bc(4,_n,15,2,"ng-template",null,3,n.Cc)),2&t){var i=n.rc(5);n.Ab(3),n.kc("ngIf",0==e.rules.length)("ngIfElse",i)}},directives:[vn.a,wn.a,z.a,m.t,ni.a,m.s,Tn],encapsulation:2}),t}(),On=i("MO+k"),En=function(){function t(t){this.httpClient=t,this.getting$=new y.a(!1)}return t.prototype.get=function(t,e){return this.getting$.start(),this.httpClient.get("admin/widget/insights/"+t+"/"+e).toPromise().finally(this.getting$.finish())},t.\u0275fac=function(e){return new(e||t)(n.Wb(k.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),In=i("gMhZ"),jn=i("T8Ue");function zn(t,e){if(1&t){var i=n.Tb();n.Sb(0,"li",13),n.Sb(1,"label",14),n.Sb(2,"input",15),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().currentAttribute=t})),n.Rb(),n.Sb(3,"span"),n.Dc(4),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec();n.Ab(1),n.kc("for",o.uid),n.Ab(1),n.kc("ngModel",r.currentAttribute)("id",o.uid)("value",o),n.Ab(2),n.Ec(o.label)}}function Pn(t,e){1&t&&n.Nb(0,"loading-state",16)}function Nn(t,e){1&t&&n.Nb(0,"empty-state")}function Bn(t,e){if(1&t&&(n.Sb(0,"div",19),n.Sb(1,"div",20),n.Nb(2,"insights-overview",21),n.Rb(),n.Sb(3,"div",22),n.Sb(4,"div",19),n.Sb(5,"div",23),n.Nb(6,"insights-entities",21),n.Rb(),n.Sb(7,"div",23),n.Nb(8,"insights-users",21),n.Rb(),n.Sb(9,"div",24),n.Nb(10,"insights-timeline",21),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t){var i=n.ec(2);n.Ab(2),n.kc("statistics",i.statistics)("attribute",i.currentAttribute),n.Ab(4),n.kc("statistics",i.statistics)("attribute",i.currentAttribute),n.Ab(2),n.kc("statistics",i.statistics)("attribute",i.currentAttribute),n.Ab(2),n.kc("statistics",i.statistics)("attribute",i.currentAttribute)}}function Fn(t,e){if(1&t&&(n.Bc(0,Nn,1,0,"empty-state",17),n.Bc(1,Bn,11,8,"ng-template",null,18,n.Cc)),2&t){var i=n.rc(2),o=n.ec();n.kc("ngIf",0===(null==o.statistics?null:o.statistics.total))("ngIfElse",i)}}On.defaults.global.legend.display=!1;var Un=function(){function t(t,e,i,n){this.editor=t,this.insightsService=e,this.promotionService=i,this.moduleService=n,this.cssClass=["insights","row"],this.IS_GETTING=this.insightsService.getting$,this.widget=null,this.statistics=null,this.widget=t.widget}return t.prototype.ngOnInit=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return this.promotionService.isUpgradedNeeded("insights-extension")?[2]:this.moduleService.isModuleActivated("insights-extension")?(this.currentAttribute=this.widget.attributes[0],[2]):[2]}))}))},t.prototype.load=function(t){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(i){switch(i.label){case 0:return[4,this.insightsService.get(this.widget.uid,t)];case 1:return e=i.sent(),this.statistics=e.data.statistics,window.scroll(0,0),[2]}}))}))},Object.defineProperty(t.prototype,"currentAttribute",{get:function(){return this._currentAttribute},set:function(t){this._currentAttribute=t,this.load(t.uid).then((function(){}))},enumerable:!0,configurable:!0}),t.colors=["rgb(231,57,52)","rgb(255,129,42)","rgb(255,188,26)","rgb(153,183,44)","rgb(57,162,61)","rgba(103,58,183 ,1)","rgb(76,46,181)","rgb(3,118,176)","rgba(14,160,176, 1)","rgba(69,90,100 ,1)","rgba(96,125,139 ,1)","rgba(121,85,72 ,1)","rgba(71,82,141, 1)","rgba(69,90,100 ,1)","rgba(193,97,93, 1)"],t.\u0275fac=function(e){return new(e||t)(n.Mb(W),n.Mb(En),n.Mb(In.a),n.Mb(jn.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["insights"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Cb(e.cssClass)},decls:22,vars:7,consts:[["module","insights-extension"],[1,"col-md-3"],[1,"insights-attributes","card"],[1,"card-header"],[1,"title"],[1,"material-icons"],[1,"description"],[1,"card-content"],[1,"insights-list"],["class","insights-list-item",4,"ngFor","ngForOf"],[1,"col-md-9"],["description","Loading...",4,"ngIf","ngIfElse"],["main",""],[1,"insights-list-item"],[1,"radio",3,"for"],["type","radio","name","attribute",1,"custom-control-input",3,"ngModel","id","value","ngModelChange"],["description","Loading..."],[4,"ngIf","ngIfElse"],["overview",""],[1,"row"],[1,"col-md-5"],[3,"statistics","attribute"],[1,"col-md-7"],[1,"col-md-6"],[1,"col-md-12",2,"margin-top","1.5rem"]],template:function(t,e){if(1&t&&(n.Nb(0,"pro-overlay",0),n.Nb(1,"module-activation",0),n.Sb(2,"div",1),n.Sb(3,"div",2),n.Sb(4,"header",3),n.Sb(5,"h3",4),n.Sb(6,"span",5),n.Dc(7,"insights"),n.Rb(),n.Dc(8," Insights"),n.Rb(),n.Sb(9,"p",6),n.Dc(10,"Get a better overview of your rating widget"),n.Rb(),n.Rb(),n.Sb(11,"div",7),n.Sb(12,"h4",4),n.Dc(13,"Insights by"),n.Rb(),n.Nb(14,"br"),n.Sb(15,"ul",8),n.Bc(16,zn,5,5,"li",9),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(17,"div",10),n.Bc(18,Pn,1,0,"loading-state",11),n.fc(19,"async"),n.Bc(20,Fn,3,2,"ng-template",null,12,n.Cc),n.Rb()),2&t){var i=n.rc(21);n.Ab(2),n.Ac("visibility",e._currentAttribute?"visible":"hidden"),n.Ab(14),n.kc("ngForOf",e.widget.attributes),n.Ab(2),n.kc("ngIf",n.gc(19,5,e.IS_GETTING)||!e._currentAttribute)("ngIfElse",i)}},styles:['@keyframes skeleton-shine{0%{background-position-x:-800px}to{background-position-x:800px}}.radio{position:relative;padding-left:1.5rem;line-height:1.33}.radio input[type=radio]{position:absolute;top:0;left:0;opacity:0}.radio span{display:inline-block}.radio span:after,.radio span:before{content:"";position:absolute;left:0;width:20px;height:20px}.radio span:before{width:18px;height:18px;background-color:#eee;border-radius:50%}.radio span:after{top:4px;left:4px;width:10px;height:10px;background-color:#fff;border-radius:50%;transform:scale(0);transition:transform .3s ease-in}.radio input[type=radio]:checked~span:before{background-color:#0288d1}.radio input[type=radio]:checked~span:after{transform:scale(1)}.color-label{display:inline-block;margin-right:.5em;border-radius:50%;width:12px;height:12px;vertical-align:middle;background-color:#eee}@media screen and (min-width:1024px){.-flex{display:flex;flex-shrink:1;justify-content:center;align-items:center}}.insights{display:flex;color:#8e8e8e;min-height:100%}.insights [class^=col-]{align-self:stretch}.insights .card{height:100%}.insights .card-content,.insights .card-footer,.insights .card-header{padding:2em}.insights .card-header{border-bottom:1px solid #eee}.insights .card-content{position:relative}.insights .card-footer{margin-top:auto;border-top:1px solid #eee}.insights .title{color:#0288d1;margin-bottom:.5rem}.insights-list{display:block;list-style:none;padding:0;margin:0 0 1.5rem}.insights-list-item{display:flex;align-content:center;justify-content:space-between;margin-bottom:1em}.insights-table{table-layout:fixed;width:100%;border-collapse:collapse;border:none}.insights-table td,.insights-table th{border:none;text-align:center}.insights-table th{font-weight:400;padding:1.5em 1em 1.25em;color:#5b5b5b}.insights-table td{padding:.5em 1em}.insights-table thead tr{border-bottom:1px solid #eee}.insights-table tbody tr:first-child td{padding-top:2em}.insights-table tbody tr td:first-child,.insights-table tbody tr th:first-child,.insights-table thead tr td:first-child,.insights-table thead tr th:first-child{text-align:left;padding-left:2em}.insights-table tbody tr td:last-child,.insights-table tbody tr th:last-child,.insights-table thead tr td:last-child,.insights-table thead tr th:last-child{text-align:right;padding-right:2em;white-space:nowrap}.insights-table tbody tr:first-child .color-label{background-color:#dd3a36}.insights-table tbody tr:nth-child(2) .color-label{background-color:#ff812a}.insights-table tbody tr:nth-child(3) .color-label{background-color:#ffbc1a}.insights-table tbody tr:nth-child(4) .color-label{background-color:#99b72c}.insights-table tbody tr:nth-child(5) .color-label{background-color:#39a23d}.insights-table tbody tr:nth-child(6) .color-label{background-color:#673ab7}.insights-table tbody tr:nth-child(7) .color-label{background-color:#4c2eb5}.insights-table tbody tr:nth-child(8) .color-label{background-color:#0376b0}.insights-table tbody tr:nth-child(9) .color-label{background-color:#0ea0b0}.insights-table tbody tr:nth-child(10) .color-label{background-color:#455a64}.insights-table tbody tr:nth-child(11) .color-label{background-color:#607d8b}.insights-table tbody tr:nth-child(12) .color-label{background-color:#795548}.insights-table tbody tr:nth-child(13) .color-label{background-color:#47528d}.insights-table .title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.insights-number{display:block;text-align:center;padding:24px}.insights-number-value{display:block;margin-bottom:.5rem;font-size:2.25em;font-weight:500;line-height:1;color:#0288d1}.chart-container{position:relative;width:100%}.chart-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.insights-attributes .card-header{display:flex;flex-direction:column;justify-content:center;text-align:center}.insights-attributes .card-header .material-icons{display:block;margin:24px 0;font-size:128px}.insights-users{position:relative;display:flex;justify-content:center;align-items:center}.insights-users .insights-number{padding:0}.insights-users .insights-number+.insights-number{margin-top:1em}.insights-users .insights-number-value{font-size:2em;margin-bottom:.25rem}.insights-users .insights-number:first-of-type .insights-number-value{color:#673ab7!important}.insights-users .insights-number:last-of-type .insights-number-value{color:#39a23d}.insights-users .insights-users-numbers{position:absolute;z-index:0;top:50%;left:50%;transform:translate(-50%,-50%)}.insights-users-chart{position:relative;z-index:2}.insights-users-chart .chartjs-render-monitor{width:100%!important}.insights-overview .card-header .insights-columns-item{flex-grow:0;text-align:left}.insights-overview.card>.card-content,.insights .insights-overview.card>.card-content{padding-bottom:0}.insights-overview .card-footer{padding:0}.insights-overview .card-footer .insights-columns-item{padding:2em}.insights-overview .chart-content{top:auto;bottom:0;transform:translate(-50%)}.insights-overview .chart-content .insights-number-value{font-size:3.5em;color:#607d8b}.insights-timeline .card-content{padding-bottom:0}.insights-timeline .insights-number{padding:1em;margin-bottom:2rem;background-color:#f9f9f9;border-radius:6px}'],encapsulation:2}),t}(),Ln=[{path:"wizard",component:I,outlet:"overlay"},{path:"widgets",children:[{path:"",pathMatch:"full",component:mn},{path:"editor/:widgetUid",component:W,children:[{path:"",pathMatch:"full",redirectTo:"configuration/general"},{path:"configuration",children:[{path:"",pathMatch:"full",redirectTo:"general"},{path:":tab",component:be}]},{path:"design",component:ze},{path:"integration",component:ke},{path:"localization",component:$e},{path:"ratings",component:yi,children:[{path:":ratingUid",component:_i}]},{path:"export",component:Xe},{path:"workflow",component:Mn},{path:"insights",component:Un}]}]}],Gn=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[a.h.forChild(Ln)],a.h]}),t}(),$n=i("bYjt"),Vn=i("pdUi"),qn=function(t){return{backgroundColor:t}},Hn=function(t){return{color:t}},Wn=function(t,e){return{background:t,color:e}};function Yn(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"span",3),n.Dc(4,"colorize"),n.Rb(),n.Sb(5,"input",4),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().color.base=t})),n.Rb(),n.Rb(),n.Sb(6,"div",5),n.ac("mouseenter",(function(){return n.tc(i),n.rc(8).innerText="colorize"}))("mouseleave",(function(){return n.tc(i),n.rc(8).innerText="invert_colors"})),n.Sb(7,"div",6,7),n.Dc(9,"invert_colors"),n.Rb(),n.Sb(10,"input",4),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().color.contrast=t})),n.Rb(),n.Rb(),n.Sb(11,"input",8),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().color.base=t})),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=n.ec();n.Ab(2),n.kc("ngStyle",n.oc(6,qn,o.color.base)),n.Ab(1),n.kc("ngStyle",n.oc(8,Hn,o.color.contrast)),n.Ab(2),n.kc("ngModel",o.color.base),n.Ab(1),n.kc("ngStyle",n.pc(10,Wn,o.color.contrast,o.color.base)),n.Ab(4),n.kc("ngModel",o.color.contrast),n.Ab(1),n.kc("ngModel",o.color.base)}}var Qn=function(){function t(){this.name="",this.propagateChange=function(t){}}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.propagateChange(this._color)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.color=t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["color-builder"]],inputs:{name:"name"},features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"color-builder"],[1,"base",3,"ngStyle"],[1,"icon","material-icons",3,"ngStyle"],["type","color",3,"ngModel","ngModelChange"],[1,"contrast",3,"ngStyle","mouseenter","mouseleave"],[1,"icon","material-icons"],["contrastIcon",""],["type","text",1,"input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&n.Bc(0,Yn,12,13,"ng-container",0),2&t&&n.kc("ngIf",e.color)},directives:[m.t,m.w,B.c,B.n,B.q],encapsulation:2}),t}(),Jn=function(t){return{action:"preset-widget",target:t}};function Kn(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",8),n.Sb(1,"button",9),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec().setTypePreset(t)})),n.Sb(2,"span",10),n.Dc(3),n.Rb(),n.Sb(4,"span",11),n.Dc(5),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec();n.Ab(1),n.Eb("is-active",r.isSelectedTypePreset(o)),n.kc("clickTracker",n.oc(5,Jn,o.id)),n.Ab(2),n.Ec(o.icon),n.Ab(2),n.Ec(o.label)}}function Xn(t,e){1&t&&n.Nb(0,"br")}var Zn=function(t){return{action:"entity-widget",target:t}};function to(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",12),n.Sb(1,"button",9),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec().setEntityType(t)})),n.Sb(2,"span",10),n.Dc(3),n.Rb(),n.Sb(4,"span",11),n.Dc(5),n.Rb(),n.Rb(),n.Bc(6,Xn,1,0,"br",13),n.Rb()}if(2&t){var o=e.$implicit,r=e.index,a=n.ec();n.Ab(1),n.Eb("is-active",a.isSelectedEntityType(o)),n.kc("clickTracker",n.oc(6,Zn,o.label)),n.Ab(2),n.Ec(o.icon),n.Ab(2),n.Ec(o.label),n.Ab(1),n.kc("ngIf",r%2==0)}}var eo=function(){function t(t,e,i,n){this.wizard=t,this.widgetsService=e,this.route=i,this.config=n,this.model=this.wizard.model,this.presets=this.widgetsService.getPresets(),this.entities=this.widgetsService.getEntities().post,this.selectedTypePreset=this.presets[0],this.CUSTOM_OBJECT_TYPE="widget"}return t.prototype.ngOnInit=function(){this.subscription=this.route.queryParams.subscribe(this.watchPreset.bind(this))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.watchPreset=function(t){var e=this.presets.find((function(e){return e.id===t.preset}))||this.presets[0];this.setTypePreset(e)},t.prototype.isSelectedTypePreset=function(t){return this.selectedTypePreset==t},t.prototype.setTypePreset=function(t){this.selectedTypePreset=t,this.model.attributes=this.widgetsService.getFreshAttributeFromPreset(t)},t.prototype.isSelectedEntityType=function(t){return t.id===this.CUSTOM_OBJECT_TYPE&&0==this.model.settings.rules.entities.length||-1!=this.model.settings.rules.entities.indexOf(t.id)},t.prototype.setEntityType=function(t){var e=this;-1!=this.model.settings.rules.entities.indexOf(t.id)?this.model.settings.rules.entities.splice(this.model.settings.rules.entities.indexOf(t.id),1):this.model.settings.rules.entities.push(t.id),this.model.settings.rules.entities=t.id===this.CUSTOM_OBJECT_TYPE||0==this.model.settings.rules.entities.length?[this.CUSTOM_OBJECT_TYPE]:this.model.settings.rules.entities.filter((function(t){return t!==e.CUSTOM_OBJECT_TYPE}))},t.\u0275fac=function(e){return new(e||t)(n.Mb(I),n.Mb(S),n.Mb(a.a),n.Mb(d))},t.\u0275cmp=n.Gb({type:t,selectors:[["wizard-basics"]],decls:14,vars:3,consts:[[1,"form-group","-large"],["for","widget_name",1,"label"],["type","text","name","widget_name","id","widget_name","placeholder","Widget name",1,"input",3,"ngModel","ngModelChange"],[1,"label","-large"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"label"],["class","col-4",4,"ngFor","ngForOf"],[1,"col"],["type","button",1,"button","-preset",3,"clickTracker","click"],[1,"icon","material-icons"],[1,"name"],[1,"col-4"],[4,"ngIf"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"Name the widget"),n.Rb(),n.Sb(3,"input",2),n.ac("ngModelChange",(function(t){return e.model.name=t})),n.Rb(),n.Rb(),n.Sb(4,"div",0),n.Sb(5,"label",3),n.Dc(6,"Pick a preset"),n.Rb(),n.Sb(7,"div",4),n.Bc(8,Kn,6,7,"div",5),n.Rb(),n.Rb(),n.Sb(9,"div",0),n.Sb(10,"label",6),n.Dc(11,"Target entities"),n.Rb(),n.Sb(12,"div",4),n.Bc(13,to,7,8,"div",7),n.Rb(),n.Rb()),2&t&&(n.Ab(3),n.kc("ngModel",e.model.name),n.Ab(5),n.kc("ngForOf",e.presets),n.Ab(5),n.kc("ngForOf",e.entities))},directives:[B.c,B.n,B.q,m.s,F.a,m.t],encapsulation:2}),t}(),io=function(){return{action:"behaviour-visibility-widget",target:"non-voters"}},no=function(){return{action:"behaviour-visibility-widget",target:"all"}},oo=function(){return{action:"behaviour-confirmation-widget",target:"widget"}},ro=function(){function t(t){this.wizard=t,this.model=this.wizard.model}return t.\u0275fac=function(e){return new(e||t)(n.Mb(I))},t.\u0275cmp=n.Gb({type:t,selectors:[["wizard-behaviours"]],decls:11,vars:12,consts:[[1,"form-group","-large"],[1,"label","-large"],["icon","visibility","name","Hide results","description","Control the results visibility",3,"ngModel","ngModelChange"],[1,"form-group"],[1,"button-group"],["type","button",1,"button",3,"clickTracker","click"],["icon","done_all","name","Confirmation","description","Add a confirmation button before casting a rating",3,"clickTracker","ngModel","ngModelChange"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"Behaviours"),n.Rb(),n.Sb(3,"feature-switch",2),n.ac("ngModelChange",(function(t){return e.model.settings.behaviours.hideResults.enabled=t})),n.Sb(4,"div",3),n.Sb(5,"div",4),n.Sb(6,"button",5),n.ac("click",(function(){return e.model.settings.behaviours.hideResults.for="non-voters"})),n.Dc(7," Hide for non-voters "),n.Rb(),n.Sb(8,"button",5),n.ac("click",(function(){return e.model.settings.behaviours.hideResults.for="all"})),n.Dc(9," Hide for all "),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(10,"feature-switch",6),n.ac("ngModelChange",(function(t){return e.model.settings.behaviours.confirmation.enabled=t})),n.Rb(),n.Rb()),2&t&&(n.Ab(3),n.kc("ngModel",e.model.settings.behaviours.hideResults.enabled),n.Ab(3),n.Eb("-primary","non-voters"==e.model.settings.behaviours.hideResults.for),n.kc("clickTracker",n.nc(9,io)),n.Ab(2),n.Eb("-primary","all"==e.model.settings.behaviours.hideResults.for),n.kc("clickTracker",n.nc(10,no)),n.Ab(2),n.kc("clickTracker",n.nc(11,oo))("ngModel",e.model.settings.behaviours.confirmation.enabled))},directives:[Bt.a,B.n,B.q,F.a],encapsulation:2}),t}(),ao=function(){return{action:"design-palette-widget",target:"light"}},so=function(){return{action:"design-palette-widget",target:"dark"}},co=function(){return{action:"design-spacing-widget",target:"compact"}},lo=function(){return{action:"design-spacing-widget",target:"normal"}},bo=function(){return{action:"design-spacing-widget",target:"comfortable"}},po=function(){return{action:"design-emplacement-widget",target:"before_content"}},uo=function(){return{action:"design-emplacement-widget",target:"after_content"}},go=function(){function t(t){this.wizard=t,this.model=this.wizard.model,this.LIGHT_SCHEME="light",this.DARK_SCHEME="dark",this.COMPACT_SPACING="compact",this.NORMAL_SPACING="normal",this.COMFORTABLE_SPACING="comfortable",this.BEFORE_CONTENT="before_content",this.AFTER_CONTENT="after_content"}return t.prototype.isSelectedScheme=function(t){return this.model.settings.design.scheme===t},t.prototype.setScheme=function(t){this.model.settings.design.scheme=t},t.prototype.isSelectedSpace=function(t){return this.model.settings.design.space===t},t.prototype.setSpace=function(t){this.model.settings.design.space=t},t.prototype.isSelectedEmplacement=function(t){return this.model.settings.design.emplacement===t},t.prototype.setEmplacement=function(t){this.model.settings.design.emplacement=t},t.\u0275fac=function(e){return new(e||t)(n.Mb(I))},t.\u0275cmp=n.Gb({type:t,selectors:[["wizard-design"]],decls:61,vars:28,consts:[["screen","advanced-options"],[1,"form-group","-large"],[1,"label","-large"],[1,"row"],[1,"col"],["type","button",1,"button","-palette",3,"clickTracker","click"],[1,"palette"],[2,"background-color","#DDDDDD"],[2,"background-color","#E26900"],[2,"background-color","#333333"],[2,"background-color","#A0DB73"],[1,"name"],["type","button",1,"button","-palette","-dark",3,"clickTracker","click"],[2,"background-color","#FFFFFF"],[2,"background-color","#94D9FF"],[2,"background-color","#0288D1"],[2,"background-color","#FB8C00"],["type","button",1,"button","-preset",3,"clickTracker","click"],[1,"icon","material-icons"],["type","button",1,"button","-preset","is-active",3,"clickTracker","click"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"label",2),n.Dc(3,"Choose a color palette"),n.Rb(),n.Sb(4,"div",3),n.Sb(5,"div",4),n.Sb(6,"button",5),n.ac("click",(function(){return e.setScheme(e.LIGHT_SCHEME)})),n.Sb(7,"div",6),n.Nb(8,"span",7),n.Nb(9,"span",8),n.Nb(10,"span",9),n.Nb(11,"span",10),n.Rb(),n.Sb(12,"span",11),n.Dc(13,"Light"),n.Rb(),n.Rb(),n.Rb(),n.Sb(14,"div",4),n.Sb(15,"button",12),n.ac("click",(function(){return e.setScheme(e.DARK_SCHEME)})),n.Sb(16,"div",6),n.Nb(17,"span",13),n.Nb(18,"span",14),n.Nb(19,"span",15),n.Nb(20,"span",16),n.Rb(),n.Sb(21,"span",11),n.Dc(22,"Dark"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(23,"div",1),n.Sb(24,"label",2),n.Dc(25,"Choose the spacing"),n.Rb(),n.Sb(26,"div",3),n.Sb(27,"div",4),n.Sb(28,"button",17),n.ac("click",(function(){return e.setSpace(e.COMPACT_SPACING)})),n.Sb(29,"span",18),n.Dc(30,"view_column"),n.Rb(),n.Sb(31,"span",11),n.Dc(32,"Compact"),n.Rb(),n.Rb(),n.Rb(),n.Sb(33,"div",4),n.Sb(34,"button",19),n.ac("click",(function(){return e.setSpace(e.NORMAL_SPACING)})),n.Sb(35,"span",18),n.Dc(36,"view_week"),n.Rb(),n.Sb(37,"span",11),n.Dc(38,"Normal"),n.Rb(),n.Rb(),n.Rb(),n.Sb(39,"div",4),n.Sb(40,"button",17),n.ac("click",(function(){return e.setSpace(e.COMFORTABLE_SPACING)})),n.Sb(41,"span",18),n.Dc(42,"amp_stories"),n.Rb(),n.Sb(43,"span",11),n.Dc(44,"Comfortable"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(45,"div",1),n.Sb(46,"label",2),n.Dc(47,"Choose the emplacement"),n.Rb(),n.Sb(48,"div",3),n.Sb(49,"div",4),n.Sb(50,"button",17),n.ac("click",(function(){return e.setEmplacement(e.BEFORE_CONTENT)})),n.Sb(51,"span",18),n.Dc(52,"vertical_align_top"),n.Rb(),n.Sb(53,"span",11),n.Dc(54,"Before content"),n.Rb(),n.Rb(),n.Rb(),n.Sb(55,"div",4),n.Sb(56,"button",19),n.ac("click",(function(){return e.setEmplacement(e.AFTER_CONTENT)})),n.Sb(57,"span",18),n.Dc(58,"vertical_align_bottom"),n.Rb(),n.Sb(59,"span",11),n.Dc(60,"After content"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(6),n.Eb("is-active",e.isSelectedScheme(e.LIGHT_SCHEME)),n.kc("clickTracker",n.nc(21,ao)),n.Ab(9),n.Eb("is-active",e.isSelectedScheme(e.DARK_SCHEME)),n.kc("clickTracker",n.nc(22,so)),n.Ab(13),n.Eb("is-active",e.isSelectedSpace(e.COMPACT_SPACING)),n.kc("clickTracker",n.nc(23,co)),n.Ab(6),n.Eb("is-active",e.isSelectedSpace(e.NORMAL_SPACING)),n.kc("clickTracker",n.nc(24,lo)),n.Ab(6),n.Eb("is-active",e.isSelectedSpace(e.COMFORTABLE_SPACING)),n.kc("clickTracker",n.nc(25,bo)),n.Ab(10),n.Eb("is-active",e.isSelectedEmplacement(e.BEFORE_CONTENT)),n.kc("clickTracker",n.nc(26,po)),n.Ab(6),n.Eb("is-active",e.isSelectedEmplacement(e.AFTER_CONTENT)),n.kc("clickTracker",n.nc(27,uo)))},directives:[z.a,F.a],encapsulation:2}),t}();function fo(t,e){1&t&&n.Nb(0,"loading-indicator")}function ho(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",4),n.Dc(1,"style"),n.Rb(),n.Sb(2,"div",5),n.Sb(3,"h5",6),n.Dc(4),n.Rb(),n.Sb(5,"p",7),n.Dc(6,"by "),n.Sb(7,"a",8),n.Dc(8),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"button",9),n.ac("click",(function(){return n.tc(i),n.ec().toggleListing()})),n.Dc(10),n.Rb()}if(2&t){var o=n.ec();n.Ab(4),n.Ec(o.currentTemplate.name),n.Ab(3),n.kc("href",o.currentTemplate.author.url,n.vc),n.Ab(1),n.Ec(o.currentTemplate.author.name),n.Ab(2),n.Ec(o.isListing()?"Cancel":"Change")}}function mo(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",13),n.ac("click",(function(){n.tc(i);var t=n.ec().$implicit;return n.ec(2).setCurrentTemplate(t)})),n.Dc(1),n.Rb()}if(2&t){var o=n.ec().$implicit;n.Ab(1),n.Fc(" ",o.activated?"Use":"Activate and Use"," ")}}function vo(t,e){if(1&t&&(n.Sb(0,"div",0),n.Sb(1,"div",5),n.Sb(2,"h5",6),n.Dc(3),n.Rb(),n.Sb(4,"p",7),n.Dc(5,"by "),n.Sb(6,"a",8),n.Dc(7),n.Rb(),n.Rb(),n.Rb(),n.Bc(8,mo,2,1,"button",12),n.Rb()),2&t){var i=e.$implicit,o=n.ec(2);n.Ab(3),n.Ec(i.name),n.Ab(3),n.kc("href",i.author.url,n.vc),n.Ab(1),n.Ec(i.author.name),n.Ab(1),n.kc("ngIf",i.id!=o.currentTemplate.id)}}function wo(t,e){if(1&t&&(n.Sb(0,"div",10),n.Bc(1,vo,9,4,"div",11),n.Rb()),2&t){var i=n.ec();n.Ab(1),n.kc("ngForOf",i.templates)}}var xo=function(){function t(t){this.modulesService=t,this.listing=!1,this.templates=[],this.propagateChange=function(t){}}return t.prototype.toggleListing=function(){this.listing=!this.listing},t.prototype.isListing=function(){return this.listing},t.prototype.ngOnInit=function(){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(e){switch(e.label){case 0:return t=this,[4,this.modulesService.all()];case 1:return t.templates=e.sent().data.filter((function(t){return"template"===t.type})),[2]}}))}))},Object.defineProperty(t.prototype,"currentTemplate",{get:function(){var t=this;return this.templates.find((function(e){return e.id===t.template}))||this.templates.find((function(t){return"default-template"===t.id}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(t){this.listing=!1,this._template=t||"default-template",this.propagateChange(this._template)},enumerable:!0,configurable:!0}),t.prototype.setCurrentTemplate=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:return t.activated?[3,2]:[4,this.modulesService.activate(t.id)];case 1:e.sent(),e.label=2;case 2:return this.template=t.id,[2]}}))}))},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.writeValue=function(t){void 0!==t&&(this.template=t)},t.\u0275fac=function(e){return new(e||t)(n.Mb(jn.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["template-picker"]],hostVars:4,hostBindings:function(t,e){2&t&&n.Eb("is-listing",e.listing)("template-picker",!0)},features:[n.zb([{provide:B.m,useExisting:Object(n.S)((function(){return t})),multi:!0}])],decls:5,vars:3,consts:[[1,"item"],[4,"ngIf","ngIfElse"],["theTemplate",""],["class","listing",4,"ngIf"],[1,"icon","material-icons"],[1,"details"],[1,"name"],[1,"credit"],["target","_blank",3,"href"],["type","button",1,"button","-small","-outline",3,"click"],[1,"listing"],["class","item",4,"ngFor","ngForOf"],["type","button","class","button -small -outline -primary",3,"click",4,"ngIf"],["type","button",1,"button","-small","-outline","-primary",3,"click"]],template:function(t,e){if(1&t&&(n.Sb(0,"div",0),n.Bc(1,fo,1,0,"loading-indicator",1),n.Bc(2,ho,11,4,"ng-template",null,2,n.Cc),n.Rb(),n.Bc(4,wo,2,1,"div",3)),2&t){var i=n.rc(3);n.Ab(1),n.kc("ngIf",!e.currentTemplate)("ngIfElse",i),n.Ab(3),n.kc("ngIf",e.isListing())}},directives:[m.t,U.a,m.s],encapsulation:2}),t}();function yo(t,e){1&t&&n.Nb(0,"div",10)}function ko(t,e){1&t&&n.Nb(0,"div",11)}function So(t,e){1&t&&n.Nb(0,"div",12)}var Ro=function(){function t(t){this.design=t}return Object.defineProperty(t.prototype,"cssVars",{get:function(){return{"--color-primary":this.design.editor.widget.settings.design.colors.primary.base,"--color-primary-contrast":this.design.editor.widget.settings.design.colors.primary.contrast,"--color-secondary":this.design.editor.widget.settings.design.colors.secondary.base,"--color-secondary-contrast":this.design.editor.widget.settings.design.colors.secondary.contrast,"--color-dark":this.design.editor.widget.settings.design.colors.dark.base,"--color-dark-contrast":this.design.editor.widget.settings.design.colors.dark.contrast,"--color-background":this.design.editor.widget.settings.design.colors.background.base,"--color-background-contrast":this.design.editor.widget.settings.design.colors.background.contrast,"--size":"var(--size-"+this.design.editor.widget.settings.design.size+")","--space":"var(--space-"+this.design.editor.widget.settings.design.space+")","--radius":"var(--radius-"+this.design.editor.widget.settings.design.radius+")"}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(n.Mb(ze))},t.\u0275cmp=n.Gb({type:t,selectors:[["live-preview"]],decls:22,vars:5,consts:[[1,"widget-preview"],[1,"title"],[1,"attribute"],[1,"points"],[1,"point","is-checked"],[1,"material-icons"],[1,"point"],["class","score",4,"ngIf"],["class","comment",4,"ngIf"],["class","rate",4,"ngIf"],[1,"score"],[1,"comment"],[1,"rate"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Nb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"div",4),n.Sb(5,"span",5),n.Dc(6,"stars"),n.Rb(),n.Rb(),n.Sb(7,"div",4),n.Sb(8,"span",5),n.Dc(9,"stars"),n.Rb(),n.Rb(),n.Sb(10,"div",4),n.Sb(11,"span",5),n.Dc(12,"stars"),n.Rb(),n.Rb(),n.Sb(13,"div",6),n.Sb(14,"span",5),n.Dc(15,"stars"),n.Rb(),n.Rb(),n.Sb(16,"div",6),n.Sb(17,"span",5),n.Dc(18,"stars"),n.Rb(),n.Rb(),n.Rb(),n.Bc(19,yo,1,0,"div",7),n.Bc(20,ko,1,0,"div",8),n.Bc(21,So,1,0,"div",9),n.Rb(),n.Rb()),2&t&&(n.zc(e.cssVars),n.Ab(19),n.kc("ngIf",e.design.isView(e.design.VIEW_RESULTS)),n.Ab(1),n.kc("ngIf",e.design.isView(e.design.VIEW_RATE)),n.Ab(1),n.kc("ngIf",e.design.isView(e.design.VIEW_RATE)))},directives:[m.t],encapsulation:2}),t}(),Ao=i("Rbzl"),To=i("F/XO"),Do=i("rOmk"),Co=i("02mE"),_o=i("ooMX"),Mo=i("Zbo0"),Oo=i("L0XF"),Eo=i("bBSd"),Io=i("0X8q"),jo=i("Yz+o"),zo=i("rnH/"),Po=i("djyz"),No=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[m.c,Gn,Ao.a,B.x,B.j,Vn.g,$n.c,J.g,v.l,ue.b,To.a,Do.a]]}),t}();n.wc(I,[m.q,m.r,m.s,m.t,m.A,m.w,m.x,m.y,m.z,m.u,m.v,a.i,a.e,a.g,a.f,a.j,Co.a,u.a,pe.a,N.a,Bt.a,U.a,ni.a,P.a,g.a,_o.a,Mo.a,Oo.a,z.a,F.a,B.C,B.s,B.B,B.c,B.t,B.w,B.a,B.z,B.A,B.v,B.n,B.o,B.y,B.l,B.k,B.u,B.b,B.d,B.f,B.h,B.g,B.i,B.e,B.q,B.r,B.p,Pe.b,Vn.b,Vn.a,Vn.d,Vn.e,$n.a,$n.b,J.e,J.f,J.a,J.b,J.d,J.c,ue.a,f.a,Eo.a,vn.a,Io.a,wn.a,mn,Bi,Fi,pn,Hi,qi,I,W,be,ze,$e,ke,yi,Xe,_i,Ot,ut,vt,ht,Rt,K,Q,Nt,Qt,te,ne,Qn,eo,ro,go,lt,xo,Ze,ii,Ro,Mn,Tn],[m.b,m.G,m.p,m.k,m.E,m.g,m.C,m.F,m.d,m.f,m.i,m.j,m.l,Mi.a,jo.a,ki.a,zo.a,Po.a,v.a,v.b,v.c,v.d,v.e,v.f,v.m,v.o,v.p,v.q,v.g,v.j,v.k,v.n,v.i,v.h]),n.wc(ze,[m.q,m.r,m.s,m.t,m.A,m.w,m.x,m.y,m.z,m.u,m.v,a.i,a.e,a.g,a.f,a.j,Co.a,u.a,pe.a,N.a,Bt.a,U.a,ni.a,P.a,g.a,_o.a,Mo.a,Oo.a,z.a,F.a,B.C,B.s,B.B,B.c,B.t,B.w,B.a,B.z,B.A,B.v,B.n,B.o,B.y,B.l,B.k,B.u,B.b,B.d,B.f,B.h,B.g,B.i,B.e,B.q,B.r,B.p,Pe.b,Vn.b,Vn.a,Vn.d,Vn.e,$n.a,$n.b,J.e,J.f,J.a,J.b,J.d,J.c,ue.a,f.a,Eo.a,vn.a,Io.a,wn.a,mn,Bi,Fi,pn,Hi,qi,I,W,be,ze,$e,ke,yi,Xe,_i,Ot,ut,vt,ht,Rt,K,Q,Nt,Qt,te,ne,Qn,eo,ro,go,lt,xo,Ze,ii,Ro,Mn,Tn],[m.b,m.G,m.p,m.k,m.E,m.g,m.C,m.F,m.d,m.f,m.i,m.j,m.l,Mi.a,jo.a,ki.a,zo.a,Po.a,v.a,v.b,v.c,v.d,v.e,v.f,v.m,v.o,v.p,v.q,v.g,v.j,v.k,v.n,v.i,v.h]);var Bo=function(){function t(t){this.httpClient=t}return t.prototype.getBlogPosts=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return[2,this.httpClient.get("admin/dashboard/blog").toPromise()]}))}))},t.prototype.getInsights=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return[2,this.httpClient.get("admin/dashboard/insights").toPromise()]}))}))},t.prototype.getActivity=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return[2,this.httpClient.get("admin/dashboard/activity").toPromise()]}))}))},t.\u0275fac=function(e){return new(e||t)(n.Wb(k.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Fo(t,e){1&t&&n.Nb(0,"empty-state",4)}function Uo(t,e){1&t&&(n.Sb(0,"div",7),n.Nb(1,"div",8),n.Sb(2,"div",9),n.Nb(3,"h4",10),n.Nb(4,"p",11),n.Rb(),n.Rb())}var Lo=function(){return[1,2,3,4,5]};function Go(t,e){1&t&&(n.Sb(0,"div",5),n.Bc(1,Uo,5,0,"div",6),n.Rb()),2&t&&(n.Ab(1),n.kc("ngForOf",n.nc(1,Lo)))}function $o(t,e){if(1&t&&n.Nb(0,"img",18),2&t){var i=n.ec().$implicit;n.kc("src",i.user.avatar,n.vc)("alt",i.user.name)}}function Vo(t,e){if(1&t&&(n.Sb(0,"div",8),n.Dc(1),n.Rb()),2&t){var i=n.ec().$implicit;n.Ab(1),n.Ec(i.user?i.user.name[0]:"A")}}function qo(t,e){1&t&&(n.Sb(0,"span"),n.Dc(1,"Unknown entity"),n.Rb())}function Ho(t,e){if(1&t&&(n.Sb(0,"a",19),n.Dc(1),n.Rb()),2&t){var i=n.ec().$implicit;n.kc("href",i.entity.url,n.vc),n.Ab(1),n.Ec(i.entity.name)}}function Wo(t,e){if(1&t&&(n.Sb(0,"div",7),n.Bc(1,$o,1,2,"img",13),n.Bc(2,Vo,2,1,"div",14),n.Sb(3,"div",9),n.Sb(4,"h4",10),n.Dc(5),n.Bc(6,qo,2,0,"span",15),n.Bc(7,Ho,2,2,"a",16),n.Rb(),n.Sb(8,"p",17),n.Dc(9),n.fc(10,"amTimeAgo"),n.fc(11,"amFromUtc"),n.Rb(),n.Rb(),n.Rb()),2&t){var i=e.$implicit;n.Ab(1),n.kc("ngIf",i.user&&i.user.avatar),n.Ab(1),n.kc("ngIf",!i.user||!i.user.avatar),n.Ab(3),n.Gc("",i.user?i.user.name:"Anonymous"," left a rating of ",i.value," on "),n.Ab(1),n.kc("ngIf",!i.entity),n.Ab(1),n.kc("ngIf",i.entity),n.Ab(1),n.kc("title",i.created_at),n.Ab(1),n.Ec(n.gc(10,8,n.gc(11,10,i.created_at)))}}function Yo(t,e){if(1&t&&(n.Sb(0,"div",12),n.Bc(1,Wo,12,12,"div",6),n.Rb()),2&t){var i=n.ec();n.Ab(1),n.kc("ngForOf",i.ratings)}}var Qo=function(){function t(){this.name="Activity feed"}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["activity-feed-card"]],inputs:{ratings:"ratings",name:"name"},decls:4,vars:4,consts:[[3,"name"],["icon","star_outline","heading","No ratings yet",4,"ngIf"],["class","feed-list -skeleton",4,"ngIf"],["class","feed-list -activity",4,"ngIf"],["icon","star_outline","heading","No ratings yet"],[1,"feed-list","-skeleton"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"thumbnail","-initial"],[1,"body"],[1,"title"],[1,"excerpt"],[1,"feed-list","-activity"],["class","thumbnail -avatar",3,"src","alt",4,"ngIf"],["class","thumbnail -initial",4,"ngIf"],[4,"ngIf"],[3,"href",4,"ngIf"],[1,"excerpt",3,"title"],[1,"thumbnail","-avatar",3,"src","alt"],[3,"href"]],template:function(t,e){1&t&&(n.Sb(0,"card",0),n.Bc(1,Fo,1,0,"empty-state",1),n.Bc(2,Go,2,2,"div",2),n.Bc(3,Yo,2,1,"div",3),n.Rb()),2&t&&(n.kc("name",e.name),n.Ab(1),n.kc("ngIf",e.ratings&&0==e.ratings.length),n.Ab(1),n.kc("ngIf",!e.ratings),n.Ab(1),n.kc("ngIf",e.ratings))},directives:[pe.a,m.t,ni.a,m.s],pipes:[v.p,v.g],encapsulation:2}),t}();function Jo(t,e){1&t&&n.Nb(0,"empty-state",4)}function Ko(t,e){1&t&&(n.Sb(0,"div",5),n.Nb(1,"div",6),n.Sb(2,"div",7),n.Sb(3,"div",8),n.Sb(4,"div",9),n.Nb(5,"h6",10),n.Nb(6,"div",11),n.Rb(),n.Rb(),n.Sb(7,"div",8),n.Sb(8,"div",9),n.Nb(9,"h6",10),n.Nb(10,"div",11),n.Rb(),n.Rb(),n.Rb(),n.Rb())}function Xo(t,e){if(1&t&&n.Nb(0,"ngx-chartjs",15),2&t){var i=n.ec(2);n.kc("data",i.chart.data)("options",i.chart.options)}}function Zo(t,e){if(1&t&&(n.Sb(0,"div",8),n.Sb(1,"div",9),n.Sb(2,"h6",10),n.Dc(3),n.Rb(),n.Sb(4,"div",11),n.Dc(5),n.fc(6,"number"),n.Rb(),n.Rb(),n.Rb()),2&t){var i=e.$implicit;n.Ab(3),n.Ec(i.title),n.Ab(2),n.Ec(n.gc(6,2,i.value))}}function tr(t,e){if(1&t&&(n.Sb(0,"div",12),n.Bc(1,Xo,1,2,"ngx-chartjs",13),n.Sb(2,"div",7),n.Bc(3,Zo,7,4,"div",14),n.Rb(),n.Rb()),2&t){var i=n.ec();n.Ab(1),n.kc("ngIf",i.chart),n.Ab(2),n.kc("ngForOf",i.metrics)}}var er=function(){function t(){this.name="Insights"}return Object.defineProperty(t.prototype,"chart",{get:function(){if(!this.insights)return null;var t=[],e=[];return this.insights.months.map((function(i){t.push(i.month),e.push(i.total)})),{data:{labels:t,datasets:[{label:"Ratings",data:e,fill:!1,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},options:{responsive:!0,scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1}}]}}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metrics",{get:function(){return this.insights?[{title:"Total Ratings",value:this.insights.total},{title:"Received Today",value:this.insights.today}]:[]},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["insights-card"]],inputs:{name:"name",insights:"insights"},decls:4,vars:4,consts:[[3,"name"],["icon","insert_chart_outlined","heading","No insights available",4,"ngIf"],["class","insights-list -skeleton",4,"ngIf"],["class","insights-list",4,"ngIf"],["icon","insert_chart_outlined","heading","No insights available"],[1,"insights-list","-skeleton"],[1,"chart"],[1,"row"],[1,"col-md-6"],[1,"insight-item"],[1,"name"],[1,"value"],[1,"insights-list"],["class","chart","type","line",3,"data","options",4,"ngIf"],["class","col-md-6",4,"ngFor","ngForOf"],["type","line",1,"chart",3,"data","options"]],template:function(t,e){1&t&&(n.Sb(0,"card",0),n.Bc(1,Jo,1,0,"empty-state",1),n.Bc(2,Ko,11,0,"div",2),n.Bc(3,tr,4,2,"div",3),n.Rb()),2&t&&(n.kc("name",e.name),n.Ab(1),n.kc("ngIf",0==(null==e.insights?null:e.insights.total)),n.Ab(1),n.kc("ngIf",!e.insights),n.Ab(1),n.kc("ngIf",e.insights&&(null==e.insights?null:e.insights.total)))},directives:[pe.a,m.t,ni.a,m.s,w.a],pipes:[m.g],encapsulation:2}),t}();function ir(t,e){1&t&&n.Nb(0,"div",10)}function nr(t,e){1&t&&n.Nb(0,"p",11)}function or(t,e){if(1&t&&(n.Sb(0,"div",5),n.Bc(1,ir,1,0,"div",6),n.Sb(2,"div",7),n.Nb(3,"h4",8),n.Bc(4,nr,1,0,"p",9),n.Rb(),n.Rb()),2&t){var i=e.first;n.Eb("is-featured",i),n.Ab(1),n.kc("ngIf",i),n.Ab(3),n.kc("ngIf",i)}}var rr=function(){return[1,2,3]};function ar(t,e){1&t&&(n.Sb(0,"div",3),n.Bc(1,or,5,4,"div",4),n.Rb()),2&t&&(n.Ab(1),n.kc("ngForOf",n.nc(1,rr)))}function sr(t,e){if(1&t&&n.Nb(0,"img",16),2&t){var i=n.ec().$implicit;n.kc("src",i.thumbnail,n.vc)("alt",i.title)}}function cr(t,e){if(1&t&&(n.Sb(0,"p",11),n.Dc(1),n.Rb()),2&t){var i=n.ec().$implicit;n.Ab(1),n.Fc("",i.excerpt,"\u2026")}}function lr(t,e){if(1&t&&(n.Sb(0,"a",14),n.Bc(1,sr,1,2,"img",15),n.Sb(2,"div",7),n.Sb(3,"h4",8),n.Dc(4),n.Rb(),n.Bc(5,cr,2,1,"p",9),n.Rb(),n.Rb()),2&t){var i=e.$implicit,o=e.first;n.Eb("is-featured",o),n.kc("href",i.url,n.vc),n.Ab(1),n.kc("ngIf",o),n.Ab(3),n.Ec(i.title),n.Ab(1),n.kc("ngIf",i.excerpt&&o)}}function dr(t,e){if(1&t&&(n.Sb(0,"div",12),n.Bc(1,lr,6,6,"a",13),n.Rb()),2&t){var i=n.ec();n.Ab(1),n.kc("ngForOf",i.posts)}}var br=function(){function t(){this.name="Picks from our blog"}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["blog-feed-card"]],inputs:{name:"name",posts:"posts"},decls:3,vars:3,consts:[[3,"name"],["class","feed-list -skeleton",4,"ngIf"],["class","feed-list -blog",4,"ngIf"],[1,"feed-list","-skeleton"],["class","item",3,"is-featured",4,"ngFor","ngForOf"],[1,"item"],["class","thumbnail",4,"ngIf"],[1,"body"],[1,"title"],["class","excerpt",4,"ngIf"],[1,"thumbnail"],[1,"excerpt"],[1,"feed-list","-blog"],["target","_blank","class","item",3,"href","is-featured",4,"ngFor","ngForOf"],["target","_blank",1,"item",3,"href"],["class","thumbnail",3,"src","alt",4,"ngIf"],[1,"thumbnail",3,"src","alt"]],template:function(t,e){1&t&&(n.Sb(0,"card",0),n.Bc(1,ar,2,2,"div",1),n.Bc(2,dr,2,1,"div",2),n.Rb()),2&t&&(n.kc("name",e.name),n.Ab(1),n.kc("ngIf",!e.posts),n.Ab(1),n.kc("ngIf",e.posts))},directives:[pe.a,m.t,m.s],encapsulation:2}),t}(),pr=[{path:"dashboard",component:function(){function t(t){this.dashboardService=t}return t.prototype.ngOnInit=function(){return Object(o.b)(this,void 0,void 0,(function(){var t=this;return Object(o.d)(this,(function(e){return this.dashboardService.getInsights().then((function(e){return t.insights=e.data})),this.dashboardService.getActivity().then((function(e){return t.activity=e.data})),this.dashboardService.getBlogPosts().then((function(e){return t.blogPosts=e.data})),[2]}))}))},t.\u0275fac=function(e){return new(e||t)(n.Mb(Bo))},t.\u0275cmp=n.Gb({type:t,selectors:[["dashboard-page"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Eb("dashboard-page",!0)},decls:9,vars:3,consts:[["screen","dashboard"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"col-md-4"],[1,"col-md-4",3,"ratings"],[1,"col-md-4",3,"insights"],[1,"col-md-4",3,"posts"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Nb(3,"quick-start-card",3),n.Nb(4,"documentation-card",4),n.Rb(),n.Sb(5,"div",2),n.Nb(6,"activity-feed-card",5),n.Nb(7,"insights-card",6),n.Nb(8,"blog-feed-card",7),n.Rb(),n.Rb()),2&t&&(n.Ab(6),n.kc("ratings",e.activity),n.Ab(1),n.kc("insights",e.insights),n.Ab(1),n.kc("posts",e.blogPosts))},directives:[z.a,Bi,Fi,Qo,er,br],encapsulation:2}),t}()}],ur=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[a.h.forRoot(pr)],a.h]}),t}(),gr=i("BSA1"),fr=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[m.c,ur,Ao.a,v.l,w.b,No,gr.a]]}),t}(),hr=i("JVXY"),mr=function(){function t(t){this.optionsService=t,this.options=this.optionsService.options}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(n.Mb(hr.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["general-options"]],decls:8,vars:4,consts:[["screen","general-options"],[1,"form-group"],["for","options_calculations_rounding",1,"label"],["type","text","id","options_calculations_rounding","placeholder","",1,"input",3,"ngModel","ngModelChange"],[1,"form-group","-last"],["name","Show credits","description","Spread the love by adding 'powered by TotalRating' underneath the rating widgets.","icon","loyalty",3,"ngModel","ngModelChange"],["name","Wipe Data","description","Wipe all data including widgets, ratings and options on uninstall.","icon","delete_forever",3,"last","ngModel","ngModelChange"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"div",1),n.Sb(2,"label",2),n.Dc(3,"Rounding decimal"),n.Rb(),n.Sb(4,"input",3),n.ac("ngModelChange",(function(t){return e.options.calculations.roundingDecimal=t})),n.Rb(),n.Rb(),n.Sb(5,"div",4),n.Sb(6,"feature-switch",5),n.ac("ngModelChange",(function(t){return e.options.general.showCredits=t})),n.Rb(),n.Sb(7,"feature-switch",6),n.ac("ngModelChange",(function(t){return e.options.uninstall.wipeOnUninstall=t})),n.Rb(),n.Rb()),2&t&&(n.Ab(4),n.kc("ngModel",e.options.calculations.roundingDecimal),n.Ab(2),n.kc("ngModel",e.options.general.showCredits),n.Ab(1),n.kc("last",!0)("ngModel",e.options.uninstall.wipeOnUninstall))},directives:[z.a,B.c,B.n,B.q,Bt.a],encapsulation:2}),t}();function vr(t,e){if(1&t&&(n.Sb(0,"span",9),n.Dc(1),n.Rb()),2&t){var i=n.ec().$implicit;n.Ab(1),n.Ec(null==i.value?null:i.value.context)}}function wr(t,e){if(1&t){var i=n.Tb();n.Qb(0),n.Sb(1,"tr"),n.Sb(2,"td",3),n.Dc(3),n.Bc(4,vr,2,1,"span",7),n.Rb(),n.Sb(5,"td",4),n.Sb(6,"textarea",8),n.ac("ngModelChange",(function(t){n.tc(i);var o=e.$implicit;return n.ec().options.expressions[o.key].translations[0]=t})),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){var o=e.$implicit,r=n.ec();n.Ab(3),n.Fc(" ",o.key," "),n.Ab(1),n.kc("ngIf",null==o.value?null:o.value.context),n.Ab(2),n.kc("placeholder",o.key)("ngModel",r.options.expressions[o.key].translations[0])}}var xr=[{path:"options",pathMatch:"full",redirectTo:"options/general"},{path:"options",component:i("5kal").a,children:[{path:"general",component:mr,data:{name:"General",route:"../general"}},{path:"privacy",component:function(){function t(t){this.optionsService=t,this.options=this.optionsService.options}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(n.Mb(hr.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["privacy-options"]],decls:4,vars:4,consts:[["screen","privacy-options"],["name","Hash IP Addresses","description","Enhance privacy by storing IP addresses as hashes in database.","icon","gps_off",3,"ngModel","ngModelChange"],["name","Hash User Agents","description","Enhance privacy by storing user agents (browsers) as hashes in database.","icon","device_unknown",3,"ngModel","ngModelChange"],["name","Honor Do Not Track","description","Honor the DNT header sent by browsers.","icon","visibility_off",3,"last","ngModel","ngModelChange"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"feature-switch",1),n.ac("ngModelChange",(function(t){return e.options.privacy.hashIP=t})),n.Rb(),n.Sb(2,"feature-switch",2),n.ac("ngModelChange",(function(t){return e.options.privacy.hashAgent=t})),n.Rb(),n.Sb(3,"feature-switch",3),n.ac("ngModelChange",(function(t){return e.options.privacy.honorDNT=t})),n.Rb()),2&t&&(n.Ab(1),n.kc("ngModel",e.options.privacy.hashIP),n.Ab(1),n.kc("ngModel",e.options.privacy.hashAgent),n.Ab(1),n.kc("last",!0)("ngModel",e.options.privacy.honorDNT))},directives:[z.a,Bt.a,B.n,B.q],encapsulation:2}),t}(),data:{name:"Privacy",route:"../privacy"}},{path:"advanced",component:function(){function t(t){this.optionsService=t,this.options=this.optionsService.options}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(n.Mb(hr.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["advanced-options"]],decls:27,vars:15,consts:[["screen","advanced-options"],["name","Metabox","description","Enable metabox to display contextual ratings.","icon","grade",1,"form-group",3,"last","ngModel","ngModelChange"],["name","Update Original Rating","description","Update the original rating instead of creating a new one when a user changes his rating.","icon","settings_backup_restore",1,"form-group",3,"last","ngModel","ngModelChange"],["name","reCaptcha","description","Enable reCaptcha to protect your ratings widgets from SPAM.","icon","check_box",1,"form-group",3,"last","ngModel","ngModelChange"],[1,"form-group"],["for","options_advanced_recaptcha_site_key",1,"label"],["type","text","id","options_advanced_recaptcha_site_key","placeholder","",1,"input",3,"ngModel","ngModelChange"],["for","options_advanced_recaptcha_site_secret",1,"label"],["type","text","id","options_advanced_recaptcha_site_secret","placeholder","",1,"input",3,"ngModel","ngModelChange"],["for","options_advanced_recaptcha_site_threshold",1,"label"],["type","number","step","0.1","min","0.1","max","1.0","id","options_advanced_recaptcha_site_threshold","placeholder","Threshold",1,"input",3,"ngModel","ngModelChange"],["name","Legacy Browser Support","description","Add support to the legacy browsers via polyfills.","icon","support",1,"form-group",3,"last","ngModel","ngModelChange"],["href","https://polyfill.io/","target","_blank","rel","noreferrer noopener"],["name","Lazy Loading","description","Autonomously detect and activate rating widgets for content dynamically loaded via AJAX or similar methods.","icon","cached",1,"form-group",3,"last","ngModel","ngModelChange"],["name","Proactive Rating Check","description","Check the existence of the rating in the database on every page load for authenticated and unauthenticated users.","icon","add_task",1,"form-group",3,"last","ngModel","ngModelChange"],[1,"message","-attention"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"feature-switch",1),n.ac("ngModelChange",(function(t){return e.options.advanced.metabox.enabled=t})),n.Rb(),n.Sb(2,"feature-switch",2),n.ac("ngModelChange",(function(t){return e.options.advanced.updateOriginalRating.enabled=t})),n.Rb(),n.Sb(3,"feature-switch",3),n.ac("ngModelChange",(function(t){return e.options.advanced.recaptcha.enabled=t})),n.Sb(4,"div",4),n.Sb(5,"label",5),n.Dc(6,"Site key"),n.Rb(),n.Sb(7,"input",6),n.ac("ngModelChange",(function(t){return e.options.advanced.recaptcha.key=t})),n.Rb(),n.Rb(),n.Sb(8,"div",4),n.Sb(9,"label",7),n.Dc(10,"Site key"),n.Rb(),n.Sb(11,"input",8),n.ac("ngModelChange",(function(t){return e.options.advanced.recaptcha.secret=t})),n.Rb(),n.Rb(),n.Sb(12,"div",4),n.Sb(13,"label",9),n.Dc(14,"Threshold"),n.Rb(),n.Sb(15,"input",10),n.ac("ngModelChange",(function(t){return e.options.advanced.recaptcha.threshold=t})),n.Rb(),n.Rb(),n.Rb(),n.Sb(16,"feature-switch",11),n.ac("ngModelChange",(function(t){return e.options.advanced.polyfills.enabled=t})),n.Dc(17," This option will add "),n.Sb(18,"a",12),n.Dc(19,"Polyfill.io"),n.Rb(),n.Dc(20," script to support missing features in legacy browsers.\n"),n.Rb(),n.Sb(21,"feature-switch",13),n.ac("ngModelChange",(function(t){return e.options.advanced.lazyLoad.enabled=t})),n.Rb(),n.Sb(22,"feature-switch",14),n.ac("ngModelChange",(function(t){return e.options.advanced.proactiveCheck.enabled=t})),n.Sb(23,"div",15),n.Sb(24,"strong"),n.Dc(25,"Attention"),n.Rb(),n.Dc(26,": This feature uses significant resources (querying the database on every page load). "),n.Rb(),n.Rb()),2&t&&(n.Ab(1),n.kc("last",!0)("ngModel",e.options.advanced.metabox.enabled),n.Ab(1),n.kc("last",!0)("ngModel",e.options.advanced.updateOriginalRating.enabled),n.Ab(1),n.kc("last",!0)("ngModel",e.options.advanced.recaptcha.enabled),n.Ab(4),n.kc("ngModel",e.options.advanced.recaptcha.key),n.Ab(4),n.kc("ngModel",e.options.advanced.recaptcha.secret),n.Ab(4),n.kc("ngModel",e.options.advanced.recaptcha.threshold),n.Ab(1),n.kc("last",!0)("ngModel",e.options.advanced.polyfills.enabled),n.Ab(5),n.kc("last",!0)("ngModel",e.options.advanced.lazyLoad.enabled),n.Ab(1),n.kc("last",!0)("ngModel",e.options.advanced.proactiveCheck.enabled))},directives:[z.a,Bt.a,B.n,B.q,B.c,B.t],encapsulation:2}),t}(),data:{name:"Advanced",route:"../advanced"}},{path:"expressions",component:function(){function t(t){this.optionsService=t,this.options=this.optionsService.options}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(n.Mb(hr.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["expressions"]],decls:11,vars:3,consts:[["screen","expressions-options"],[1,"localization-table"],[1,"header"],[1,"original"],[1,"translation"],[1,"body"],[4,"ngFor","ngForOf"],["class","context",4,"ngIf"],[1,"input",3,"placeholder","ngModel","ngModelChange"],[1,"context"]],template:function(t,e){1&t&&(n.Nb(0,"screen-tracker",0),n.Sb(1,"table",1),n.Sb(2,"thead",2),n.Sb(3,"tr"),n.Sb(4,"th",3),n.Dc(5,"Original"),n.Rb(),n.Sb(6,"th",4),n.Dc(7,"Custom"),n.Rb(),n.Rb(),n.Rb(),n.Sb(8,"tbody",5),n.Bc(9,wr,7,4,"ng-container",6),n.fc(10,"keyvalue"),n.Rb(),n.Rb()),2&t&&(n.Ab(9),n.kc("ngForOf",n.gc(10,1,e.options.expressions)))},directives:[z.a,m.s,m.t,B.c,B.n,B.q],pipes:[m.l],encapsulation:2}),t}(),data:{name:"Expressions",route:"../expressions"}}]}],yr=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[a.h.forChild(xr)],a.h]}),t}(),kr=i("OlV3"),Sr=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[m.c,kr.a,yr,Ao.a,B.j]]}),t}(),Rr=i("Iw6h"),Ar=i("kNs1"),Tr=i("UhZA"),Dr=[],Cr=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[a.h.forRoot(Dr)],a.h]}),t}();function _r(t,e){if(1&t&&(n.Sb(0,"div",13),n.Sb(1,"strong",14),n.Dc(2),n.Rb(),n.Sb(3,"span",15),n.Dc(4),n.Rb(),n.Rb()),2&t){var i=n.ec();n.Ab(2),n.Ec(i.statistics.avg),n.Ab(2),n.Ec(i.statistics.fragments.rate)}}function Mr(t,e){if(1&t&&(n.Sb(0,"div",13),n.Sb(1,"strong",14),n.Dc(2),n.Rb(),n.Sb(3,"span",15),n.Dc(4),n.Rb(),n.Rb()),2&t){var i=n.ec();n.Ab(2),n.Ec(i.statistics.total),n.Ab(2),n.Ec(i.statistics.fragments.votes)}}function Or(t,e){if(1&t&&(n.Sb(0,"tr"),n.Sb(1,"td"),n.Nb(2,"span",16),n.Dc(3),n.Rb(),n.Sb(4,"td"),n.Dc(5),n.Rb(),n.Rb()),2&t){var i=e.$implicit;n.Ab(3),n.Ec(i.name),n.Ab(2),n.Fc("",i.count," Ratings")}}function Er(t,e){if(1&t&&(n.Sb(0,"div",12),n.Sb(1,"div",13),n.Sb(2,"strong",14),n.Dc(3),n.Rb(),n.Sb(4,"span",15),n.Dc(5,"Average"),n.Rb(),n.Rb(),n.Rb()),2&t){var i=n.ec();n.Ab(3),n.Ec(i.statistics.avg)}}var Ir=function(){function t(){this.statistics={total:0,avg:0,entity:0,scale:0,perDay:0,month:0,week:0,day:0,users:[],points:[],entities:[],perMonth:[]}}return t.prototype.ngOnInit=function(){this.initialize()},Object.defineProperty(t.prototype,"scale",{get:function(){return"scale"===this.attribute.type},enumerable:!0,configurable:!0}),t.prototype.isCount=function(){return"count"===this.attribute.type},t.prototype.initialize=function(){var t=this;this.chart={type:"doughnut",data:{labels:[],datasets:[{data:[],backgroundColor:Un.colors,borderColor:[],borderWidth:3}]},legend:{display:!1},options:{cutoutPercentage:70,circumference:Math.PI,rotation:-1*Math.PI}},this.statistics.points.forEach((function(e){t.chart.data.labels.push(e.name),t.chart.data.datasets[0].data.push(e.count)}))},t.prototype.getPointFromStatistics=function(t){var e,i;try{for(var n=Object(o.h)(this.statistics.points),r=n.next();!r.done;r=n.next()){var a=r.value;if(a.uid===t)return a}}catch(s){e={error:s}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}return!1},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["insights-overview"]],inputs:{attribute:"attribute",statistics:"statistics"},decls:32,vars:10,consts:[[1,"insights-overview","card"],[1,"card-content"],[1,"chart-container"],[1,"chart-content"],["class","insights-number",4,"ngIf","ngIfElse"],["total",""],["height","200",3,"data","type","legend","options"],[1,"insights-table"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"row"],["class","col",4,"ngIf"],[1,"col"],[1,"insights-number"],[1,"insights-number-value"],[1,"insights-number-label"],[1,"color-label"]],template:function(t,e){if(1&t&&(n.Sb(0,"section",0),n.Sb(1,"header",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Bc(4,_r,5,2,"div",4),n.Bc(5,Mr,5,2,"ng-template",null,5,n.Cc),n.Rb(),n.Nb(7,"ngx-chartjs",6),n.Rb(),n.Rb(),n.Sb(8,"table",7),n.Sb(9,"thead"),n.Sb(10,"tr"),n.Sb(11,"th"),n.Dc(12,"Point"),n.Rb(),n.Sb(13,"th"),n.Dc(14,"Ratings"),n.Rb(),n.Rb(),n.Rb(),n.Sb(15,"tbody"),n.Bc(16,Or,6,2,"tr",8),n.Rb(),n.Rb(),n.Sb(17,"footer",9),n.Sb(18,"div",10),n.Bc(19,Er,6,1,"div",11),n.Sb(20,"div",12),n.Sb(21,"div",13),n.Sb(22,"strong",14),n.Dc(23),n.Rb(),n.Sb(24,"span",15),n.Dc(25,"Total"),n.Rb(),n.Rb(),n.Rb(),n.Sb(26,"div",12),n.Sb(27,"div",13),n.Sb(28,"strong",14),n.Dc(29),n.Rb(),n.Sb(30,"span",15),n.Dc(31,"Per Day"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t){var i=n.rc(6);n.Ab(4),n.kc("ngIf",e.scale)("ngIfElse",i),n.Ab(3),n.kc("data",e.chart.data)("type",e.chart.type)("legend",e.chart.legend)("options",e.chart.options),n.Ab(9),n.kc("ngForOf",e.statistics.points),n.Ab(3),n.kc("ngIf",e.scale),n.Ab(4),n.Ec(e.statistics.total),n.Ab(6),n.Ec(e.statistics.perDay)}},directives:[m.t,w.a,m.s],encapsulation:2}),t}();function jr(t,e){1&t&&(n.Sb(0,"th",6),n.Dc(1,"Avg"),n.Rb())}function zr(t,e){if(1&t&&(n.Sb(0,"td"),n.Dc(1),n.Rb()),2&t){var i=n.ec().$implicit;n.Ab(1),n.Ec(i.average)}}function Pr(t,e){if(1&t&&(n.Sb(0,"tr"),n.Sb(1,"td",7),n.Sb(2,"a",8),n.Dc(3),n.Rb(),n.Rb(),n.Sb(4,"td"),n.Dc(5),n.Rb(),n.Bc(6,zr,2,1,"td",9),n.Rb()),2&t){var i=e.$implicit,o=n.ec();n.Ab(2),n.kc("href",i.url,n.vc)("title",i.name),n.Ab(1),n.Ec(i.name),n.Ab(2),n.Ec(i.count),n.Ab(1),n.kc("ngIf",o.scale)}}var Nr=function(t){function e(){return t.call(this)||this}return Object(o.c)(e,t),e.prototype.ngOnInit=function(){},e.prototype.initialize=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["insights-entities"]],features:[n.xb],decls:11,vars:2,consts:[[1,"insights-entities","card"],[1,"insights-table"],[2,"width","50%"],[2,"width","20%"],["style","width: 30%",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"title"],["target","_blank",3,"href","title"],[4,"ngIf"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"table",1),n.Sb(2,"thead"),n.Sb(3,"tr"),n.Sb(4,"th",2),n.Dc(5,"Top Rated"),n.Rb(),n.Sb(6,"th",3),n.Dc(7,"Ratings"),n.Rb(),n.Bc(8,jr,2,0,"th",4),n.Rb(),n.Rb(),n.Sb(9,"tbody"),n.Bc(10,Pr,7,5,"tr",5),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(8),n.kc("ngIf",e.scale),n.Ab(2),n.kc("ngForOf",e.statistics.entities))},directives:[m.t,m.s],encapsulation:2}),e}(Ir),Br=function(t){function e(){return t.call(this)||this}return Object(o.c)(e,t),e.prototype.ngOnInit=function(){this.initialize()},e.prototype.initialize=function(){this.chart={type:"doughnut",data:{labels:["authenticated","anonymous"],datasets:[{data:[this.statistics.users.authenticated,this.statistics.users.anonymous],fill:!1,backgroundColor:[Un.colors[3],Un.colors[5]],borderColor:[],borderWidth:3}]},legend:{display:!1},options:{cutoutPercentage:80}}},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["insights-users"]],features:[n.xb],decls:13,vars:6,consts:[[1,"insights-users","card"],["height","240",1,"insights-users-chart",3,"data","type","legend","options"],[1,"insights-users-numbers"],[1,"insights-number"],[1,"insights-number-value"],[1,"insights-number-label"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Nb(1,"ngx-chartjs",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"strong",4),n.Dc(5),n.Rb(),n.Sb(6,"span",5),n.Dc(7,"Anonymous"),n.Rb(),n.Rb(),n.Sb(8,"div",3),n.Sb(9,"strong",4),n.Dc(10),n.Rb(),n.Sb(11,"span",5),n.Dc(12,"Authenticated"),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(1),n.kc("data",e.chart.data)("type",e.chart.type)("legend",e.chart.legend)("options",e.chart.options),n.Ab(4),n.Ec(e.statistics.users.anonymous),n.Ab(5),n.Ec(e.statistics.users.authenticated))},directives:[w.a],encapsulation:2}),e}(Ir),Fr=function(t){function e(){return t.call(this)||this}return Object(o.c)(e,t),e.prototype.ngOnInit=function(){this.initialize()},e.prototype.initialize=function(){var t=this;this.chart={type:"bar",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{barPercentage:1,data:[0,0,0,0,0,0,0,0,0,0,0,0],fill:!1,backgroundColor:[Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0],Un.colors[0]],borderColor:[],borderWidth:0}]},legend:{display:!1},options:{scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1},ticks:{display:!1,max:this.statistics.total,min:0,stepSize:1}}]}}},this.chart.data.labels.forEach((function(e,i){t.statistics.perMonth.forEach((function(e){e.month-1===i&&(t.chart.data.datasets[0].data[i]=e.total)}))}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["insights-timeline"]],features:[n.xb],decls:28,vars:8,consts:[[1,"insights-timeline","card"],[1,"card-content"],[1,"row"],[1,"col"],[1,"insights-number"],[1,"insights-number-value"],[1,"insights-number-label"],[3,"data","type","legend","options"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"div",4),n.Sb(5,"strong",5),n.Dc(6),n.Rb(),n.Sb(7,"span",6),n.Dc(8,"Today"),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"div",3),n.Sb(10,"div",4),n.Sb(11,"strong",5),n.Dc(12),n.Rb(),n.Sb(13,"span",6),n.Dc(14,"This week"),n.Rb(),n.Rb(),n.Rb(),n.Sb(15,"div",3),n.Sb(16,"div",4),n.Sb(17,"strong",5),n.Dc(18),n.Rb(),n.Sb(19,"span",6),n.Dc(20,"Last week"),n.Rb(),n.Rb(),n.Rb(),n.Sb(21,"div",3),n.Sb(22,"div",4),n.Sb(23,"strong",5),n.Dc(24),n.Rb(),n.Sb(25,"span",6),n.Dc(26,"This month"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Nb(27,"ngx-chartjs",7),n.Rb(),n.Rb()),2&t&&(n.Ab(6),n.Ec(e.statistics.day),n.Ab(6),n.Ec(e.statistics.week),n.Ab(6),n.Ec(e.statistics.lastWeek),n.Ab(6),n.Ec(e.statistics.month),n.Ab(3),n.kc("data",e.chart.data)("type",e.chart.type)("legend",e.chart.legend)("options",e.chart.options))},directives:[w.a],encapsulation:2}),e}(Ir),Ur=function(){function t(){Object(l.a)("totalrating.editor.tabs",(function(t){return t.push({name:"Insights",route:"insights"}),t}))}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[m.c,Cr,Ao.a,w.b,B.j,To.a,Do.a]]}),t}();n.wc(Un,[m.q,m.r,m.s,m.t,m.A,m.w,m.x,m.y,m.z,m.u,m.v,a.i,a.e,a.g,a.f,a.j,Co.a,u.a,pe.a,N.a,Bt.a,U.a,ni.a,P.a,g.a,_o.a,Mo.a,Oo.a,z.a,F.a,w.a,B.C,B.s,B.B,B.c,B.t,B.w,B.a,B.z,B.A,B.v,B.n,B.o,B.y,B.l,B.k,B.u,B.b,B.d,B.q,B.r,B.p,f.a,Eo.a,vn.a,Io.a,wn.a,Un,Ir,Nr,Br,Fr],[m.b,m.G,m.p,m.k,m.E,m.g,m.C,m.F,m.d,m.f,m.i,m.j,m.l,Mi.a,jo.a,ki.a,zo.a,Po.a]);var Lr=function(){function t(t){this.http=t,this.updating$=new y.a(!1),this.getting$=new y.a(!1)}return t.prototype.update=function(t){return this.updating$.start(),this.http.post("admin/popup",t).toPromise().finally(this.updating$.finish())},t.prototype.get=function(){return this.getting$.start(),this.http.get("admin/popup").toPromise().finally(this.getting$.finish())},t.\u0275fac=function(e){return new(e||t)(n.Wb(k.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Gr(t,e){1&t&&n.Nb(0,"loading-state",3)}function $r(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",21),n.ac("click",(function(){return n.tc(i),n.ec(2).save()})),n.fc(1,"async"),n.Dc(2,"Save "),n.Rb()}if(2&t){var o=n.ec(2);n.kc("disabled",n.gc(1,1,o.IS_UPDATING))}}function Vr(t,e){1&t&&n.Nb(0,"loading-indicator",22)}function qr(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",4),n.Sb(1,"div",5),n.Sb(2,"div",6),n.Sb(3,"h4",7),n.Dc(4,"Popup Extension"),n.Rb(),n.Sb(5,"small",8),n.Dc(6,"Version 1.0"),n.Rb(),n.Rb(),n.Sb(7,"div",9),n.Sb(8,"div",10),n.Sb(9,"label",11),n.Sb(10,"input",12),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().options.enabled=t})),n.Rb(),n.Sb(11,"span",13),n.Dc(12),n.Rb(),n.Rb(),n.Bc(13,$r,3,3,"button",14),n.fc(14,"async"),n.Bc(15,Vr,1,0,"loading-indicator",15),n.fc(16,"async"),n.Rb(),n.Rb(),n.Rb(),n.Sb(17,"div",16),n.Sb(18,"div",17),n.Sb(19,"card",18),n.Nb(20,"popup-settings"),n.Rb(),n.Sb(21,"card",19),n.Nb(22,"popup-behaviour"),n.Rb(),n.Sb(23,"card",20),n.Nb(24,"popup-design"),n.Rb(),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=n.ec();n.Ab(10),n.kc("ngModel",o.options.enabled),n.Ab(2),n.Ec(null!=o.options&&o.options.enabled?"Enabled":"Disabled"),n.Ab(1),n.kc("ngIf",!n.gc(14,4,o.IS_UPDATING)),n.Ab(2),n.kc("ngIf",n.gc(16,6,o.IS_UPDATING))}}var Hr=function(){function t(t,e,i,n,o,r){this.widgetService=t,this.popupService=e,this.statusService=i,this.promotionService=n,this.moduleService=o,this.config=r,this.targets=[],this.IS_GETTING=this.popupService.getting$,this.IS_UPDATING=this.popupService.updating$,this.targets=r.postTypes}return t.prototype.ngOnInit=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e,i;return Object(o.d)(this,(function(n){switch(n.label){case 0:if(this.promotionService.isUpgradedNeeded("popup-extension"))return[2];if(!this.moduleService.isModuleActivated("popup-extension"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,this.popupService.get()];case 2:return t.options=n.sent().data,[3,4];case 3:return e=n.sent(),this.statusService.error({message:Object(l.e)(e),modal:!0}),[3,4];case 4:return i=this,[4,this.widgetService.all()];case 5:return i.widgets=n.sent().data,[2]}}))}))},t.prototype.save=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e;return Object(o.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.popupService.update(this.options)];case 1:if(!(t=i.sent()).success)throw new Error(t.error||"Something went wrong, please try again.");return this.statusService.success({message:"Changes were been saved."}),[3,3];case 2:return e=i.sent(),this.statusService.error({message:Object(l.e)(e),modal:!0}),[3,3];case 3:return[2]}}))}))},t.prototype.update=function(t){this.options=t},t.\u0275fac=function(e){return new(e||t)(n.Mb(S),n.Mb(Lr),n.Mb(R.a),n.Mb(In.a),n.Mb(jn.a),n.Mb(d))},t.\u0275cmp=n.Gb({type:t,selectors:[["popup"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Eb("popup-editor",!0)},decls:6,vars:4,consts:[["module","popup-extension"],["description","Retrieving the popup...",4,"ngIf","ngIfElse"],["main",""],["description","Retrieving the popup..."],[1,"widget-editor"],[1,"navigation","main-tabs"],[1,"left","extension-presentation"],[1,"name"],[1,"version"],[1,"right"],[1,"actions"],[1,"labeled-switch"],["type","checkbox",1,"switch",3,"ngModel","ngModelChange"],[1,"label"],["type","button","class","button -primary",3,"disabled","click",4,"ngIf"],["class","button -white",4,"ngIf"],[1,"content","cards"],[1,"row"],["name","Settings",1,"col-md-4"],["name","Behaviour",1,"col-md-4"],["name","Design",1,"col-md-4"],["type","button",1,"button","-primary",3,"disabled","click"],[1,"button","-white"]],template:function(t,e){if(1&t&&(n.Nb(0,"pro-overlay",0),n.Nb(1,"module-activation",0),n.Bc(2,Gr,1,0,"loading-state",1),n.fc(3,"async"),n.Bc(4,qr,25,8,"ng-template",null,2,n.Cc)),2&t){var i=n.rc(5);n.Ab(2),n.kc("ngIf",!e.options||n.gc(3,2,e.IS_GETTING))("ngIfElse",i)}},styles:[".cards{display:flex;flex-direction:column}@keyframes skeleton-shine{0%{background-position-x:-800px}to{background-position-x:800px}}.cards{height:100%}.cards>.row{flex:1;height:100%}.cards>.row .card,.cards>.row card{height:100%}.cards>.row .card>.body{overflow-y:auto}.popup-editor{display:block;height:100%}.navigation .extension-presentation{flex-direction:column;padding:12px 0}.navigation .extension-presentation>.name{color:#0288d1;margin:0}.navigation .extension-presentation>.version{color:#8e8e8e}.shadow-preview{display:block;min-height:100px;margin-bottom:12px;border:1px solid #e7e7e7;border-radius:4px;cursor:pointer}.shadow-preview.-regular{box-shadow:0 3px rgba(0,0,0,.05)}.shadow-preview.-large{box-shadow:0 5px 10px rgba(0,0,0,.1)}.shadow-preview.-active{border-color:#0288d1}"],encapsulation:2}),t}(),Wr=[{path:"popup",component:Hr}],Yr=function(){function t(){}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[a.h.forChild(Wr)],a.h]}),t}();function Qr(t,e){if(1&t&&(n.Sb(0,"option",12),n.Dc(1),n.Rb()),2&t){var i=e.$implicit;n.lc("value",i.uid),n.Ab(1),n.Ec(i.name||"Untitled #"+i.id)}}function Jr(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",7),n.Sb(1,"button",8),n.ac("click",(function(){n.tc(i);var t=e.$implicit;return n.ec().setTarget(t.value)})),n.Sb(2,"span",9),n.Dc(3),n.Rb(),n.Sb(4,"span",10),n.Dc(5),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,r=n.ec();n.Ab(1),n.Eb("is-active",r.isTarget(o.value)),n.Ab(2),n.Ec(o.icon),n.Ab(2),n.Ec(o.name)}}function Kr(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",0),n.Sb(1,"p",13),n.Dc(2,"To trigger the popup, either include the shortcode or use the PHP snippet."),n.Rb(),n.Sb(3,"div",0),n.Sb(4,"label",14),n.Dc(5,"Shortcode"),n.Rb(),n.Sb(6,"div",15),n.Nb(7,"input",16),n.Sb(8,"button",17),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(10);return n.ec().notifyCopy(t)})),n.Sb(9,"span",9,18),n.Dc(11,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(12,"div",0),n.Sb(13,"label",19),n.Dc(14,"PHP"),n.Rb(),n.Sb(15,"div",15),n.Nb(16,"input",20),n.Sb(17,"button",17),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(19);return n.ec().notifyCopy(t)})),n.Sb(18,"span",9,21),n.Dc(20,"file_copy"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()}2&t&&(n.Ab(8),n.kc("cdkCopyToClipboard","[totalrating-popup]"),n.Ab(9),n.kc("cdkCopyToClipboard","<?php do_action('totalrating/display/popup') ?>"))}var Xr=function(){function t(t){this.popup=t}return t.prototype.setTarget=function(t){this.popup.options.target=t},t.prototype.isTarget=function(t){return this.popup.options.target==t},t.prototype.notifyCopy=function(t){t.innerText="done",setTimeout((function(){return t.innerText="file_copy"}),2e3)},t.\u0275fac=function(e){return new(e||t)(n.Mb(Hr))},t.\u0275cmp=n.Gb({type:t,selectors:[["popup-settings"]],decls:17,vars:6,consts:[[1,"form-group"],["for","popup_widget",1,"label"],["name","widget","id","popup_widget",1,"input",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"label"],[1,"row","row-grid"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],["type","button",1,"button","-preset",3,"click"],[1,"icon","material-icons"],[1,"name"],["class","form-group",4,"ngIf"],[3,"value"],[1,"message","-info"],["for","popup_integration_shortcode",1,"label"],[1,"input-with-action"],["type","text","id","popup_integration_shortcode","readonly","","value","[totalrating-popup]",1,"input","-left-attach"],["type","button",1,"button","-primary","-right-attach",3,"cdkCopyToClipboard","cdkCopyToClipboardCopied"],["shortcodeCopy",""],["for","popup_integration_php",1,"label"],["type","text","id","popup_integration_php","readonly","","value","<?php do_action('totalrating/display/popup') ?>",1,"input","-left-attach"],["phpCopy",""]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"Widget"),n.Rb(),n.Sb(3,"select",2),n.ac("ngModelChange",(function(t){return e.popup.options.widget=t})),n.Bc(4,Qr,2,2,"option",3),n.Rb(),n.Rb(),n.Sb(5,"div",0),n.Sb(6,"label",4),n.Dc(7,"Trigger"),n.Rb(),n.Sb(8,"div",5),n.Bc(9,Jr,6,4,"div",6),n.Sb(10,"div",7),n.Sb(11,"button",8),n.ac("click",(function(){return e.setTarget("code")})),n.Sb(12,"span",9),n.Dc(13,"code"),n.Rb(),n.Sb(14,"span",10),n.Dc(15,"Code"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Bc(16,Kr,21,2,"div",11)),2&t&&(n.Ab(3),n.kc("ngModel",e.popup.options.widget),n.Ab(1),n.kc("ngForOf",e.popup.widgets),n.Ab(5),n.kc("ngForOf",e.popup.targets),n.Ab(2),n.Eb("is-active",e.isTarget("code")),n.Ab(5),n.kc("ngIf",e.isTarget("code")))},directives:[B.z,B.n,B.q,m.s,m.t,B.s,B.B,ue.a],encapsulation:2}),t}();function Zr(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",0),n.Sb(1,"label",6),n.Dc(2,"Delay "),n.Sb(3,"span",7),n.Dc(4,"Seconds"),n.Rb(),n.Rb(),n.Sb(5,"input",8),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().popup.options.delay=t})),n.Rb(),n.Rb()}if(2&t){var o=n.ec();n.Ab(5),n.kc("ngModel",o.popup.options.delay)}}function ta(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"Popup closure"),n.Rb(),n.Sb(3,"div",2),n.Sb(4,"button",3),n.ac("click",(function(){return n.tc(i),n.ec().setCloseDelay(0)})),n.Dc(5," Close button "),n.Rb(),n.Sb(6,"button",3),n.ac("click",(function(){return n.tc(i),n.ec().setCloseDelay(1)})),n.Dc(7," Timeout "),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=n.ec();n.Ab(4),n.Eb("-primary",o.isCloseDelay(0)),n.Ab(2),n.Eb("-primary",!o.isCloseDelay(0))}}function ea(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",0),n.Sb(1,"label",9),n.Dc(2,"Timeout "),n.Sb(3,"span",7),n.Dc(4,"Seconds"),n.Rb(),n.Rb(),n.Sb(5,"input",10),n.ac("ngModelChange",(function(t){return n.tc(i),n.ec().popup.options.close=t})),n.Rb(),n.Rb()}if(2&t){var o=n.ec();n.Ab(5),n.kc("ngModel",o.popup.options.close)}}var ia=function(){function t(t){this.popup=t}return t.prototype.setOpenDelay=function(t){this.popup.options.delay=t},t.prototype.isOpenDelay=function(t){return this.popup.options.delay===t},t.prototype.isOpenDelayed=function(){return this.popup.options.delay>0},t.prototype.setCloseDelay=function(t){this.popup.options.close=t},t.prototype.isCloseDelayed=function(){return this.popup.options.close>0},t.prototype.isCloseDelay=function(t){return this.popup.options.close===t},t.\u0275fac=function(e){return new(e||t)(n.Mb(Hr))},t.\u0275cmp=n.Gb({type:t,selectors:[["popup-behaviour"]],decls:15,vars:8,consts:[[1,"form-group"],[1,"label"],[1,"button-group"],["type","button",1,"button",3,"click"],["class","form-group",4,"ngIf"],["name","thankyou","rows","3",1,"input",3,"ngModel","ngModelChange"],["for","popup_open_delay",1,"label"],[1,"chip"],["type","number","placeholder","Delay in seconds","id","popup_open_delay","name","delay",1,"input",3,"ngModel","ngModelChange"],["for","popup_close_delay",1,"label"],["type","number","placeholder","Delay in seconds","id","popup_close_delay","name","delay",1,"input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"Popup appearance"),n.Rb(),n.Sb(3,"div",2),n.Sb(4,"button",3),n.ac("click",(function(){return e.setOpenDelay(0)})),n.Dc(5," Immediate "),n.Rb(),n.Sb(6,"button",3),n.ac("click",(function(){return e.setOpenDelay(1)})),n.Dc(7," Delayed "),n.Rb(),n.Rb(),n.Rb(),n.Bc(8,Zr,6,1,"div",4),n.Sb(9,"div",0),n.Sb(10,"label",1),n.Dc(11,"Thank you message"),n.Rb(),n.Sb(12,"textarea",5),n.ac("ngModelChange",(function(t){return e.popup.options.messages.thankyou=t})),n.Rb(),n.Rb(),n.Bc(13,ta,8,4,"div",4),n.Bc(14,ea,6,1,"div",4)),2&t&&(n.Ab(4),n.Eb("-primary",e.isOpenDelay(0)),n.Ab(2),n.Eb("-primary",e.isOpenDelayed()),n.Ab(2),n.kc("ngIf",e.isOpenDelayed()),n.Ab(4),n.kc("ngModel",e.popup.options.messages.thankyou),n.Ab(1),n.kc("ngIf",e.popup.options.messages.thankyou),n.Ab(1),n.kc("ngIf",!e.isCloseDelay(0)))},directives:[m.t,B.c,B.n,B.q,B.t],encapsulation:2}),t}(),na=function(){function t(t){this.popup=t}return t.prototype.isPosition=function(t){return this.popup.options.position==t},t.prototype.isShadow=function(t){return this.popup.options.shadow==t},t.prototype.setShadow=function(t){this.popup.options.shadow=t},t.prototype.setPosition=function(t){this.popup.options.position=t},t.\u0275fac=function(e){return new(e||t)(n.Mb(Hr))},t.\u0275cmp=n.Gb({type:t,selectors:[["popup-design"]],decls:42,vars:14,consts:[[1,"form-group"],[1,"label"],[1,"row"],[1,"col"],["type","button",1,"button","-preset",3,"click"],[1,"icon","material-icons"],[1,"name"],["data-mirror","",1,"icon","material-icons"],["name","Background",1,"col-6",3,"ngModel","ngModelChange"],["name","Foreground",1,"col-6",3,"ngModel","ngModelChange"],[1,"col",3,"click"],[1,"shadow-preview"],[1,"shadow-preview","-regular"],[1,"shadow-preview","-large"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"Position"),n.Rb(),n.Sb(3,"div",2),n.Sb(4,"div",3),n.Sb(5,"button",4),n.ac("click",(function(){return e.setPosition("bottomRight")})),n.Sb(6,"span",5),n.Dc(7,"picture_in_picture_alt"),n.Rb(),n.Sb(8,"span",6),n.Dc(9,"Bottom Right"),n.Rb(),n.Rb(),n.Rb(),n.Sb(10,"div",3),n.Sb(11,"button",4),n.ac("click",(function(){return e.setPosition("bottomLeft")})),n.Sb(12,"span",7),n.Dc(13,"picture_in_picture_alt"),n.Rb(),n.Sb(14,"span"),n.Dc(15,"Bottom Left"),n.Rb(),n.Rb(),n.Rb(),n.Sb(16,"div",3),n.Sb(17,"button",4),n.ac("click",(function(){return e.setPosition("topRight")})),n.Sb(18,"span",5),n.Dc(19,"picture_in_picture"),n.Rb(),n.Sb(20,"span"),n.Dc(21,"Top Right"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(22,"div",0),n.Sb(23,"div",2),n.Sb(24,"color-picker",8),n.ac("ngModelChange",(function(t){return e.popup.options.colors.background=t})),n.Rb(),n.Sb(25,"color-picker",9),n.ac("ngModelChange",(function(t){return e.popup.options.colors.foreground=t})),n.Rb(),n.Rb(),n.Rb(),n.Sb(26,"div",0),n.Sb(27,"label",1),n.Dc(28,"Shadow"),n.Rb(),n.Sb(29,"div",2),n.Sb(30,"label",10),n.ac("click",(function(){return e.setShadow("none")})),n.Nb(31,"span",11),n.Sb(32,"span"),n.Dc(33,"None"),n.Rb(),n.Rb(),n.Sb(34,"label",10),n.ac("click",(function(){return e.setShadow("regular")})),n.Nb(35,"span",12),n.Sb(36,"span"),n.Dc(37,"Regular"),n.Rb(),n.Rb(),n.Sb(38,"label",10),n.ac("click",(function(){return e.setShadow("large")})),n.Nb(39,"span",13),n.Sb(40,"span"),n.Dc(41,"Large"),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(5),n.Eb("is-active",e.isPosition("bottomRight")),n.Ab(6),n.Eb("is-active",e.isPosition("bottomLeft")),n.Ab(6),n.Eb("is-active",e.isPosition("topRight")),n.Ab(7),n.kc("ngModel",e.popup.options.colors.background),n.Ab(1),n.kc("ngModel",e.popup.options.colors.foreground),n.Ab(6),n.Eb("-active",e.isShadow("none")),n.Ab(4),n.Eb("-active",e.isShadow("regular")),n.Ab(4),n.Eb("-active",e.isShadow("large")))},directives:[Oo.a,B.n,B.q],encapsulation:2}),t}(),oa=function(){function t(){Object(l.a)("totalrating.navigations.items",(function(t){return t.push({icon:"picture_in_picture_alt",name:"Popup",route:"popup"}),t}))}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[m.c,B.j,Yr,ue.b,Ao.a,To.a,Do.a]]}),t}();function ra(t,e){if(1&t){var i=n.Tb();n.Sb(0,"tr"),n.Sb(1,"td"),n.Sb(2,"span",9,10),n.ac("cdkCopyToClipboardCopied",(function(){n.tc(i);var t=n.rc(3);return n.ec().notifyCopy(t,"Copied")})),n.Dc(4),n.Rb(),n.Rb(),n.Sb(5,"td"),n.Dc(6),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit;n.Ab(2),n.kc("cdkCopyToClipboard",o.content),n.Ab(2),n.Ec(o.content),n.Ab(2),n.Ec(o.label)}}n.wc(Hr,[m.q,m.r,m.s,m.t,m.A,m.w,m.x,m.y,m.z,m.u,m.v,B.C,B.s,B.B,B.c,B.t,B.w,B.a,B.z,B.A,B.v,B.n,B.o,B.y,B.l,B.k,B.u,B.b,B.d,B.q,B.r,B.p,a.i,a.e,a.g,a.f,a.j,ue.a,Co.a,u.a,pe.a,N.a,Bt.a,U.a,ni.a,P.a,g.a,_o.a,Mo.a,Oo.a,z.a,F.a,f.a,Eo.a,vn.a,Io.a,wn.a,Hr,Xr,ia,na],[m.b,m.G,m.p,m.k,m.E,m.g,m.C,m.F,m.d,m.f,m.i,m.j,m.l,Mi.a,jo.a,ki.a,zo.a,Po.a]);var aa=function(){function t(t){this.workflow=t,this.rule=this.workflow.rule,this.vars=[{content:"{{widget.name}}",label:"Widget name"},{content:"{{widget.title}}",label:"Widget title"},{content:"{{rating.user.name}}",label:"User full name"},{content:"{{rating.user.avatar}}",label:"User avatar"},{content:"{{rating.comment}}",label:"User comment"},{content:"{{rating.entity.name}}",label:"Entity name"},{content:"{{rating.entity.url}}",label:"Entity URL"},{content:"{{rating.entity.typeName}}",label:"Entity type name"},{content:"{{rating.point.label}}",label:"Point label"},{content:"{{rating.attribute.label}}",label:"Attribute label"},{content:"{{rating.attribute.statistics.total}}",label:"Total votes"},{content:"{{rating.attribute.statistics.avg}}",label:"Average score"},{content:"{{rating.attribute.statistics.scale}}",label:"Rating scale"},{content:"{{rating.attribute.statistics.text}}",label:"Statistics textual representation"},{content:"{{rating.attribute.statistics.fragments.votes}}",label:"Formatted votes"},{content:"{{rating.attribute.statistics.fragments.rate}}",label:"Formatted rating score"},{content:"{{rating.attribute.statistics.fragments.rated}}",label:"Rating score textual representation"},{content:"{{rating.attribute.statistics.fragments.based}}",label:"Votes textual representation"}]}return t.prototype.notifyCopy=function(t,e){var i=t.dataset.tooltip;t.dataset.tooltip=e,setTimeout((function(){return t.dataset.tooltip=i}),1e3)},t.\u0275fac=function(e){return new(e||t)(n.Mb(Tn))},t.\u0275cmp=n.Gb({type:t,selectors:[["send-email-workflow-action"]],decls:24,vars:4,consts:[[1,"form-group"],["for","workflow_task_email_to",1,"label"],["id","workflow_task_email_to","type","text",1,"input",3,"ngModel","ngModelChange"],["for","workflow_task_email_subject",1,"label"],["id","workflow_task_email_subject","type","text",1,"input",3,"ngModel","ngModelChange"],["for","workflow_task_email_message",1,"label"],["id","workflow_task_email_message","rows","6",1,"input",3,"ngModel","ngModelChange"],[1,"table"],[4,"ngFor","ngForOf"],["data-tooltip","Click to copy",3,"cdkCopyToClipboard","cdkCopyToClipboardCopied"],["content",""]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"To"),n.Rb(),n.Sb(3,"input",2),n.ac("ngModelChange",(function(t){return e.rule.task.arguments.to=t})),n.Rb(),n.Rb(),n.Sb(4,"div",0),n.Sb(5,"label",3),n.Dc(6,"Subject"),n.Rb(),n.Sb(7,"input",4),n.ac("ngModelChange",(function(t){return e.rule.task.arguments.subject=t})),n.Rb(),n.Rb(),n.Sb(8,"div",0),n.Sb(9,"label",5),n.Dc(10,"Message"),n.Rb(),n.Sb(11,"textarea",6),n.ac("ngModelChange",(function(t){return e.rule.task.arguments.message=t})),n.Rb(),n.Rb(),n.Sb(12,"div",0),n.Sb(13,"h5"),n.Dc(14,"Available variables"),n.Rb(),n.Sb(15,"table",7),n.Sb(16,"thead"),n.Sb(17,"tr"),n.Sb(18,"th"),n.Dc(19,"Variable"),n.Rb(),n.Sb(20,"th"),n.Dc(21,"Usage"),n.Rb(),n.Rb(),n.Rb(),n.Sb(22,"tbody"),n.Bc(23,ra,7,3,"tr",8),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(3),n.kc("ngModel",e.rule.task.arguments.to),n.Ab(4),n.kc("ngModel",e.rule.task.arguments.subject),n.Ab(4),n.kc("ngModel",e.rule.task.arguments.message),n.Ab(12),n.kc("ngForOf",e.vars))},directives:[B.c,B.n,B.q,m.s,ue.a],encapsulation:2}),t}(),sa=function(){function t(t){var e;this.workflow=t,this.rule=this.workflow.rule,this.rule.task.arguments.webHookUrl=null!=(e=this.rule.task.arguments.webHookUrl)?e:""}return Object.defineProperty(t.prototype,"sample",{get:function(){return'POST /webhook.php HTTP/1.1\nHost: localhost\nUser-Agent: WordPress/5.5.0; http://localhost\nContent-Type: application/json\nX-WebHook-Event: rating-received\nX-WebHook-Task: call-webhook\n\n{\n    "widget": {\n        "id": "10",\n        "uid": "cb93f385-8852-416b-96f4-fd0fafcf6b17",\n        "user_id": "1",\n        "name": "Post rating",\n        "title": "",\n        "description": "",\n        "attributes": [...],\n        "created_at": "2020-08-12 23:02:29",\n        "updated_at": "2020-08-12 22:02:49",\n        "deleted_at": "0000-00-00 00:00:00",\n        "status": "open",\n        "settings": {...},\n        "enabled": true\n    },\n    "rating": {\n        "widget_uid": "cb93f385-8852-416b-96f4-fd0fafcf6b17",\n        "attribute_uid": "f423474d-0f2a-42c5-8d74-6dd08bf21f7d",\n        "point_uid": "053c50f3-39d6-4930-b116-8b25ab0f930b",\n        "entity_id": "558",\n        "entity_type": "post:post",\n        "entity_meta": [],\n        "ip": "127.0.0.1",\n        "agent": "Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36 (KHTML, like Gecko) Chrome\\/84.0.4147.125 Safari\\/537.36",\n        "user_id": "1",\n        "status": "accepted",\n        "uid": "ac12f8a0-00c1-441a-82da-b543a5ffb119",\n        "value": 2,\n        "created_at": "2020-08-12 22:02:55",\n        "comment": "",\n        "id": "129",\n        "updated_at": null,\n        "deleted_at": null,\n        "context": "",\n        "user": {\n            "name": "Administrator",\n            "avatar": "http:\\/\\/2.gravatar.com\\/avatar\\/HASH?s=96&d=mm&r=g"\n        },\n        "entity": {\n            "id": 558,\n            "name": "Third blog post",\n            "type": "post:post",\n            "typeName": "Post",\n            "url": "http:\\/\\/localhost\\/third-blog-post\\/",\n            "meta": []\n        },\n        "attribute": {\n            "uid": "f423474d-0f2a-42c5-8d74-6dd08bf21f7d",\n            "type": "scale",\n            "label": "Rating",\n            "resultsFormat": "{{rated}}",\n            "comment": {\n                "enabled": false,\n                "thresholdPoint": "",\n                "message": ""\n            },\n            "points": [\n                {\n                    "uid": "3c037630-529d-4957-acdb-7b78111b535f",\n                    "symbol": {...},\n                    "label": "1 Star",\n                    "value": 1\n                },\n                {\n                    "uid": "053c50f3-39d6-4930-b116-8b25ab0f930b",\n                    "symbol": {...},\n                    "label": "2 Stars",\n                    "value": 2,\n                    "total": 1\n                },\n                {\n                    "uid": "4a35f979-c015-4974-a928-188ad9f54fdf",\n                    "symbol": {...},\n                    "label": "3 Stars",\n                    "value": 3\n                },\n                {\n                    "uid": "17faf22c-aa13-42d3-9e03-a1e0d9e57594",\n                    "symbol": {...},\n                    "label": "4 Stars",\n                    "value": 4\n                },\n                {\n                    "uid": "76ccb54c-50c2-4605-a91f-e3746ced890a",\n                    "symbol": {...},\n                    "label": "5 Stars",\n                    "value": 5\n                }\n            ],\n            "statistics": {\n                "total": 1,\n                "avg": 2,\n                "scale": 5,\n                "text": "Rated 2 out of 5",\n                "fragments": {\n                    "votes": "1 vote",\n                    "rate": "2 out of 5",\n                    "rated": "Rated 2 out of 5",\n                    "based": "based on 1 vote"\n                }\n            },\n            "rating": "ac12f8a0-00c1-441a-82da-b543a5ffb119",\n            "checked": "053c50f3-39d6-4930-b116-8b25ab0f930b"\n        }\n    },\n    "oldRating": null\n}'},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(n.Mb(Tn))},t.\u0275cmp=n.Gb({type:t,selectors:[["call-webhook-workflow-action"]],decls:8,vars:2,consts:[[1,"form-group"],["for","workflow_task_webhook_url",1,"label"],["id","workflow_task_webhook_url","type","text",1,"input",3,"ngModel","ngModelChange"],[1,"code-sample","-alt",3,"innerHTML"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"URL"),n.Rb(),n.Sb(3,"input",2),n.ac("ngModelChange",(function(t){return e.rule.task.arguments.webHookUrl=t})),n.Rb(),n.Rb(),n.Sb(4,"div",0),n.Sb(5,"h5"),n.Dc(6,"Sample payload"),n.Rb(),n.Nb(7,"pre",3),n.Rb()),2&t&&(n.Ab(3),n.kc("ngModel",e.rule.task.arguments.webHookUrl),n.Ab(4),n.kc("innerHTML",e.sample,n.uc))},directives:[B.c,B.n,B.q],encapsulation:2}),t}(),ca=function(){return{standalone:!0}},la=function(){function t(t){var e;this.workflow=t,this.rule=this.workflow.rule,this.rule.task.arguments.actionName=null!=(e=this.rule.task.arguments.actionName)?e:""}return Object.defineProperty(t.prototype,"sample",{get:function(){return"/**\n * The following parameters will be passed to the action hook.\n *\n * @param \\TotalRating\\Models\\WorkflowRule                $rule  Matched workflow rule.\n * @param \\TotalRatingVendors\\TotalSuite\\Foundation\\Event $event Event that triggered the hook.\n */\n$eventHandler = function ($rule, $event){\n    $event->widget; // or $rule->getWidget()\n    $event->rating;\n    $event->oldRating; // in case the rating has been changed\n};\nadd_action('"+(this.rule.task.arguments.actionName||"ACTION_NAME")+"', $eventHandler, 10, 2);\n"},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(n.Mb(Tn))},t.\u0275cmp=n.Gb({type:t,selectors:[["execute-hook-workflow-action"]],decls:8,vars:4,consts:[[1,"form-group"],["for","workflow_task_hook_name",1,"label"],["id","workflow_task_hook_name","type","text",1,"input",3,"ngModel","ngModelOptions","ngModelChange"],[1,"code-sample","-alt",3,"innerHTML"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"Action name"),n.Rb(),n.Sb(3,"input",2),n.ac("ngModelChange",(function(t){return e.rule.task.arguments.actionName=t})),n.Rb(),n.Rb(),n.Sb(4,"div",0),n.Sb(5,"h5"),n.Dc(6,"Sample"),n.Rb(),n.Nb(7,"pre",3),n.Rb()),2&t&&(n.Ab(3),n.kc("ngModel",e.rule.task.arguments.actionName)("ngModelOptions",n.nc(3,ca)),n.Ab(4),n.kc("innerHTML",e.sample,n.uc))},directives:[B.c,B.n,B.q],encapsulation:2}),t}(),da=function(){function t(t){var e;this.workflow=t,this.rule=this.workflow.rule,this.rule.task.arguments.url=null!=(e=this.rule.task.arguments.url)?e:""}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(n.Mb(Tn))},t.\u0275cmp=n.Gb({type:t,selectors:[["redirect-workflow-task-settings"]],decls:4,vars:1,consts:[[1,"form-group"],["for","workflow_task_redirect_url",1,"label"],["id","workflow_task_redirect_url","type","text",1,"input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"label",1),n.Dc(2,"URL"),n.Rb(),n.Sb(3,"input",2),n.ac("ngModelChange",(function(t){return e.rule.task.arguments.url=t})),n.Rb(),n.Rb()),2&t&&(n.Ab(3),n.kc("ngModel",e.rule.task.arguments.url))},directives:[B.c,B.n,B.q],encapsulation:2}),t}(),ba=function(){function t(t){this.workflows=t,t.registerTaskSettingsComponent("send-email",aa),t.registerTaskSettingsComponent("execute-hook",la),t.registerTaskSettingsComponent("call-webhook",sa),t.registerTaskSettingsComponent("redirect",da)}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)(n.Wb(j))},imports:[[m.c,B.j,No,ue.b]]}),t}(),pa=i("78FN"),ua=function(){function t(t){var e=function(t){var e,i;null===(e=document.querySelector("#toplevel_page_totalrating .wp-first-item"))||void 0===e||e.remove();var n=null===(i=document.querySelector('#toplevel_page_totalrating a[href="admin.php?page=totalrating#/'+t+'"]'))||void 0===i?void 0:i.parentElement;n&&(document.querySelector("#toplevel_page_totalrating").querySelectorAll("li.current").forEach((function(t){return t.classList.remove("current")})),n.classList.add("current"))};t.events.subscribe((function(t){if(t.urlAfterRedirects){var i=t.urlAfterRedirects.split("/");e(i[1]),i[2]&&e(i[1]+"/"+i[2])}}))}return t.withImports=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=this.imports).push.apply(t,Object(o.g)(e))},t.imports=[],t.\u0275mod=n.Kb({type:t,bootstrap:[h]}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)(n.Wb(a.d))},providers:[{provide:m.o,useClass:m.h},{provide:m.a,useValue:"/"},{provide:d,useValue:APP_CONFIG},{provide:k.a,useClass:Tr.a,multi:!0},{provide:a.c,useClass:a.b}],imports:[[r.a,k.c,c,fr,Do.a,Ar.a,No,Sr,No,Rr.a,Ao.a,v.l,w.b,Vn.g,$n.c,J.g,gr.a,Ur,oa,ba,To.a,pa.a]]}),t}();Object(n.R)(),r.b().bootstrapModule(ua,[{defaultEncapsulation:n.O.None}]).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function i(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id="zn8P"}},[[0,0,5]]]);